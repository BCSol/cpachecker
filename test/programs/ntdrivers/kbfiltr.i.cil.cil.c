/* Generated by CIL v. 1.3.7 */
/* print_CIL_Input is true */

#line 4 "kbfiltr.i.cil.c"
#pragma pack(push,8)
#line 5
#pragma pack(pop)
#line 6 "kbfiltr.i.cil.c"
typedef unsigned short wchar_t;
#line 7 "kbfiltr.i.cil.c"
typedef unsigned long ULONG_PTR;
#line 8 "kbfiltr.i.cil.c"
typedef unsigned long *PULONG_PTR;
#line 9 "kbfiltr.i.cil.c"
typedef ULONG_PTR SIZE_T;
#line 10 "kbfiltr.i.cil.c"
typedef void *PVOID;
#line 11 "kbfiltr.i.cil.c"
typedef char CHAR;
#line 12 "kbfiltr.i.cil.c"
typedef short SHORT;
#line 13 "kbfiltr.i.cil.c"
typedef long LONG;
#line 14 "kbfiltr.i.cil.c"
typedef wchar_t WCHAR;
#line 15 "kbfiltr.i.cil.c"
typedef WCHAR *PWSTR;
#line 16 "kbfiltr.i.cil.c"
typedef WCHAR const   *PCWSTR;
#line 17 "kbfiltr.i.cil.c"
typedef CHAR *PCHAR;
#line 18 "kbfiltr.i.cil.c"
typedef LONG *PLONG;
#line 19 "kbfiltr.i.cil.c"
typedef unsigned char UCHAR;
#line 20 "kbfiltr.i.cil.c"
typedef unsigned short USHORT;
#line 21 "kbfiltr.i.cil.c"
typedef unsigned long ULONG;
#line 22 "kbfiltr.i.cil.c"
typedef UCHAR *PUCHAR;
#line 23 "kbfiltr.i.cil.c"
typedef ULONG *PULONG;
#line 24 "kbfiltr.i.cil.c"
typedef void *HANDLE;
#line 25 "kbfiltr.i.cil.c"
typedef HANDLE *PHANDLE;
#line 26 "kbfiltr.i.cil.c"
typedef char CCHAR;
#line 27 "kbfiltr.i.cil.c"
typedef short CSHORT;
#line 28 "kbfiltr.i.cil.c"
typedef ULONG LCID;
#line 29 "kbfiltr.i.cil.c"
typedef LONG NTSTATUS;
#line 30 "kbfiltr.i.cil.c"
typedef long long LONGLONG;
#line 31 "kbfiltr.i.cil.c"
struct __anonstruct____missing_field_name_1 {
   ULONG LowPart ;
   LONG HighPart ;
};
#line 35 "kbfiltr.i.cil.c"
struct __anonstruct_u_2 {
   ULONG LowPart ;
   LONG HighPart ;
};
#line 39 "kbfiltr.i.cil.c"
union _LARGE_INTEGER {
   struct __anonstruct____missing_field_name_1 __annonCompField1 ;
   struct __anonstruct_u_2 u ;
   LONGLONG QuadPart ;
};
#line 44 "kbfiltr.i.cil.c"
typedef union _LARGE_INTEGER LARGE_INTEGER;
#line 45 "kbfiltr.i.cil.c"
typedef LARGE_INTEGER *PLARGE_INTEGER;
#line 46 "kbfiltr.i.cil.c"
struct _LUID {
   ULONG LowPart ;
   LONG HighPart ;
};
#line 50 "kbfiltr.i.cil.c"
typedef struct _LUID LUID;
#line 51 "kbfiltr.i.cil.c"
typedef LARGE_INTEGER PHYSICAL_ADDRESS;
#line 52
enum _EVENT_TYPE {
    NotificationEvent = 0,
    SynchronizationEvent = 1
} ;
#line 56 "kbfiltr.i.cil.c"
typedef enum _EVENT_TYPE EVENT_TYPE;
#line 57 "kbfiltr.i.cil.c"
typedef char const   *PCSZ;
#line 58 "kbfiltr.i.cil.c"
struct _STRING {
   USHORT Length ;
   USHORT MaximumLength ;
   PCHAR Buffer ;
};
#line 63 "kbfiltr.i.cil.c"
typedef struct _STRING STRING;
#line 64 "kbfiltr.i.cil.c"
typedef STRING *PSTRING;
#line 65 "kbfiltr.i.cil.c"
typedef PSTRING PANSI_STRING;
#line 66 "kbfiltr.i.cil.c"
struct _UNICODE_STRING {
   USHORT Length ;
   USHORT MaximumLength ;
   PWSTR Buffer ;
};
#line 71 "kbfiltr.i.cil.c"
typedef struct _UNICODE_STRING UNICODE_STRING;
#line 72 "kbfiltr.i.cil.c"
typedef UNICODE_STRING *PUNICODE_STRING;
#line 73 "kbfiltr.i.cil.c"
typedef UCHAR BOOLEAN;
#line 74 "kbfiltr.i.cil.c"
typedef BOOLEAN *PBOOLEAN;
#line 75 "kbfiltr.i.cil.c"
struct _LIST_ENTRY {
   struct _LIST_ENTRY *Flink ;
   struct _LIST_ENTRY *Blink ;
};
#line 79 "kbfiltr.i.cil.c"
typedef struct _LIST_ENTRY LIST_ENTRY;
#line 80 "kbfiltr.i.cil.c"
typedef struct _LIST_ENTRY *PLIST_ENTRY;
#line 81 "kbfiltr.i.cil.c"
struct _OBJECT_ATTRIBUTES {
   ULONG Length ;
   HANDLE RootDirectory ;
   PUNICODE_STRING ObjectName ;
   ULONG Attributes ;
   PVOID SecurityDescriptor ;
   PVOID SecurityQualityOfService ;
};
#line 89 "kbfiltr.i.cil.c"
typedef struct _OBJECT_ATTRIBUTES OBJECT_ATTRIBUTES;
#line 90 "kbfiltr.i.cil.c"
typedef OBJECT_ATTRIBUTES *POBJECT_ATTRIBUTES;
#line 91 "kbfiltr.i.cil.c"
struct _GUID {
   unsigned long Data1 ;
   unsigned short Data2 ;
   unsigned short Data3 ;
   unsigned char Data4[8] ;
};
#line 97 "kbfiltr.i.cil.c"
typedef struct _GUID GUID;
#line 98 "kbfiltr.i.cil.c"
typedef unsigned int size_t;
#line 99 "kbfiltr.i.cil.c"
typedef UCHAR KIRQL;
#line 100
struct _KTHREAD;
#line 100
struct _KTHREAD;
#line 101 "kbfiltr.i.cil.c"
typedef struct _KTHREAD *PKTHREAD;
#line 102
struct _ETHREAD;
#line 102
struct _ETHREAD;
#line 103 "kbfiltr.i.cil.c"
typedef struct _ETHREAD *PETHREAD;
#line 104
struct _EPROCESS;
#line 104
struct _EPROCESS;
#line 105 "kbfiltr.i.cil.c"
typedef struct _EPROCESS *PEPROCESS;
#line 106
struct _IO_TIMER;
#line 106
struct _IO_TIMER;
#line 107 "kbfiltr.i.cil.c"
typedef struct _IO_TIMER *PIO_TIMER;
#line 108
struct _OBJECT_TYPE;
#line 108
struct _OBJECT_TYPE;
#line 109 "kbfiltr.i.cil.c"
typedef struct _OBJECT_TYPE *POBJECT_TYPE;
#line 110 "kbfiltr.i.cil.c"
typedef CCHAR KPROCESSOR_MODE;
#line 111
struct _KAPC;
#line 111
struct _KAPC;
#line 112
struct _KAPC;
#line 113 "kbfiltr.i.cil.c"
typedef void (*PKNORMAL_ROUTINE)(PVOID NormalContext , PVOID SystemArgument1 , PVOID SystemArgument2 );
#line 114 "kbfiltr.i.cil.c"
struct _KAPC {
   CSHORT Type ;
   CSHORT Size ;
   ULONG Spare0 ;
   struct _KTHREAD *Thread ;
   LIST_ENTRY ApcListEntry ;
   void (*KernelRoutine)(struct _KAPC *Apc , PKNORMAL_ROUTINE *NormalRoutine , PVOID *NormalContext ,
                         PVOID *SystemArgument1 , PVOID *SystemArgument2 ) ;
   void (*RundownRoutine)(struct _KAPC *Apc ) ;
   void (*NormalRoutine)(PVOID NormalContext , PVOID SystemArgument1 , PVOID SystemArgument2 ) ;
   PVOID NormalContext ;
   PVOID SystemArgument1 ;
   PVOID SystemArgument2 ;
   CCHAR ApcStateIndex ;
   KPROCESSOR_MODE ApcMode ;
   BOOLEAN Inserted ;
};
#line 131 "kbfiltr.i.cil.c"
typedef struct _KAPC KAPC;
#line 132
struct _KDPC;
#line 132
struct _KDPC;
#line 133
struct _KDPC;
#line 134 "kbfiltr.i.cil.c"
struct _KDPC {
   CSHORT Type ;
   UCHAR Number ;
   UCHAR Importance ;
   LIST_ENTRY DpcListEntry ;
   void (*DeferredRoutine)(struct _KDPC *Dpc , PVOID DeferredContext , PVOID SystemArgument1 ,
                           PVOID SystemArgument2 ) ;
   PVOID DeferredContext ;
   PVOID SystemArgument1 ;
   PVOID SystemArgument2 ;
   PULONG_PTR Lock ;
};
#line 146 "kbfiltr.i.cil.c"
typedef struct _KDPC KDPC;
#line 147 "kbfiltr.i.cil.c"
typedef struct _KDPC *PKDPC;
#line 148 "kbfiltr.i.cil.c"
struct _MDL {
   struct _MDL *Next ;
   CSHORT Size ;
   CSHORT MdlFlags ;
   struct _EPROCESS *Process ;
   PVOID MappedSystemVa ;
   PVOID StartVa ;
   ULONG ByteCount ;
   ULONG ByteOffset ;
};
#line 158 "kbfiltr.i.cil.c"
typedef struct _MDL MDL;
#line 159 "kbfiltr.i.cil.c"
typedef struct _MDL *PMDL;
#line 160 "kbfiltr.i.cil.c"
typedef PVOID PACCESS_TOKEN;
#line 161 "kbfiltr.i.cil.c"
typedef PVOID PSECURITY_DESCRIPTOR;
#line 162 "kbfiltr.i.cil.c"
typedef ULONG ACCESS_MASK;
#line 163
#pragma pack(push,4)
#line 164 "kbfiltr.i.cil.c"
struct _LUID_AND_ATTRIBUTES {
   LUID Luid ;
   ULONG Attributes ;
};
#line 168 "kbfiltr.i.cil.c"
typedef struct _LUID_AND_ATTRIBUTES LUID_AND_ATTRIBUTES;
#line 169
#pragma pack(pop)
#line 170 "kbfiltr.i.cil.c"
struct _PRIVILEGE_SET {
   ULONG PrivilegeCount ;
   ULONG Control ;
   LUID_AND_ATTRIBUTES Privilege[1] ;
};
#line 175 "kbfiltr.i.cil.c"
typedef struct _PRIVILEGE_SET PRIVILEGE_SET;
#line 176
enum _SECURITY_IMPERSONATION_LEVEL {
    SecurityAnonymous = 0,
    SecurityIdentification = 1,
    SecurityImpersonation = 2,
    SecurityDelegation = 3
} ;
#line 182 "kbfiltr.i.cil.c"
typedef enum _SECURITY_IMPERSONATION_LEVEL SECURITY_IMPERSONATION_LEVEL;
#line 183 "kbfiltr.i.cil.c"
typedef BOOLEAN SECURITY_CONTEXT_TRACKING_MODE;
#line 184 "kbfiltr.i.cil.c"
struct _SECURITY_QUALITY_OF_SERVICE {
   ULONG Length ;
   SECURITY_IMPERSONATION_LEVEL ImpersonationLevel ;
   SECURITY_CONTEXT_TRACKING_MODE ContextTrackingMode ;
   BOOLEAN EffectiveOnly ;
};
#line 190 "kbfiltr.i.cil.c"
typedef struct _SECURITY_QUALITY_OF_SERVICE *PSECURITY_QUALITY_OF_SERVICE;
#line 191 "kbfiltr.i.cil.c"
typedef ULONG SECURITY_INFORMATION;
#line 192 "kbfiltr.i.cil.c"
typedef LONG KPRIORITY;
#line 193 "kbfiltr.i.cil.c"
typedef ULONG_PTR KSPIN_LOCK;
#line 194 "kbfiltr.i.cil.c"
typedef KSPIN_LOCK *PKSPIN_LOCK;
#line 195 "kbfiltr.i.cil.c"
struct _RTL_QUERY_REGISTRY_TABLE {
   NTSTATUS (*QueryRoutine)(PWSTR ValueName , ULONG ValueType , PVOID ValueData ,
                            ULONG ValueLength , PVOID Context , PVOID EntryContext ) ;
   ULONG Flags ;
   PWSTR Name ;
   PVOID EntryContext ;
   ULONG DefaultType ;
   PVOID DefaultData ;
   ULONG DefaultLength ;
};
#line 206 "kbfiltr.i.cil.c"
typedef struct _RTL_QUERY_REGISTRY_TABLE *PRTL_QUERY_REGISTRY_TABLE;
#line 207 "kbfiltr.i.cil.c"
union __anonunion____missing_field_name_6 {
   NTSTATUS Status ;
   PVOID Pointer ;
};
#line 211 "kbfiltr.i.cil.c"
struct _IO_STATUS_BLOCK {
   union __anonunion____missing_field_name_6 __annonCompField4 ;
   ULONG_PTR Information ;
};
#line 215 "kbfiltr.i.cil.c"
typedef struct _IO_STATUS_BLOCK IO_STATUS_BLOCK;
#line 216 "kbfiltr.i.cil.c"
typedef struct _IO_STATUS_BLOCK *PIO_STATUS_BLOCK;
#line 217
enum _FILE_INFORMATION_CLASS {
    FileDirectoryInformation = 1,
    FileFullDirectoryInformation = 2,
    FileBothDirectoryInformation = 3,
    FileBasicInformation = 4,
    FileStandardInformation = 5,
    FileInternalInformation = 6,
    FileEaInformation = 7,
    FileAccessInformation = 8,
    FileNameInformation = 9,
    FileRenameInformation = 10,
    FileLinkInformation = 11,
    FileNamesInformation = 12,
    FileDispositionInformation = 13,
    FilePositionInformation = 14,
    FileFullEaInformation = 15,
    FileModeInformation = 16,
    FileAlignmentInformation = 17,
    FileAllInformation = 18,
    FileAllocationInformation = 19,
    FileEndOfFileInformation = 20,
    FileAlternateNameInformation = 21,
    FileStreamInformation = 22,
    FilePipeInformation = 23,
    FilePipeLocalInformation = 24,
    FilePipeRemoteInformation = 25,
    FileMailslotQueryInformation = 26,
    FileMailslotSetInformation = 27,
    FileCompressionInformation = 28,
    FileObjectIdInformation = 29,
    FileCompletionInformation = 30,
    FileMoveClusterInformation = 31,
    FileQuotaInformation = 32,
    FileReparsePointInformation = 33,
    FileNetworkOpenInformation = 34,
    FileAttributeTagInformation = 35,
    FileTrackingInformation = 36,
    FileMaximumInformation = 37
} ;
#line 256 "kbfiltr.i.cil.c"
typedef enum _FILE_INFORMATION_CLASS FILE_INFORMATION_CLASS;
#line 257 "kbfiltr.i.cil.c"
struct _FILE_BASIC_INFORMATION {
   LARGE_INTEGER CreationTime ;
   LARGE_INTEGER LastAccessTime ;
   LARGE_INTEGER LastWriteTime ;
   LARGE_INTEGER ChangeTime ;
   ULONG FileAttributes ;
};
#line 264 "kbfiltr.i.cil.c"
typedef struct _FILE_BASIC_INFORMATION *PFILE_BASIC_INFORMATION;
#line 265 "kbfiltr.i.cil.c"
struct _FILE_STANDARD_INFORMATION {
   LARGE_INTEGER AllocationSize ;
   LARGE_INTEGER EndOfFile ;
   ULONG NumberOfLinks ;
   BOOLEAN DeletePending ;
   BOOLEAN Directory ;
};
#line 272 "kbfiltr.i.cil.c"
typedef struct _FILE_STANDARD_INFORMATION *PFILE_STANDARD_INFORMATION;
#line 273 "kbfiltr.i.cil.c"
struct _FILE_NETWORK_OPEN_INFORMATION {
   LARGE_INTEGER CreationTime ;
   LARGE_INTEGER LastAccessTime ;
   LARGE_INTEGER LastWriteTime ;
   LARGE_INTEGER ChangeTime ;
   LARGE_INTEGER AllocationSize ;
   LARGE_INTEGER EndOfFile ;
   ULONG FileAttributes ;
};
#line 282 "kbfiltr.i.cil.c"
typedef struct _FILE_NETWORK_OPEN_INFORMATION *PFILE_NETWORK_OPEN_INFORMATION;
#line 283
enum _FSINFOCLASS {
    FileFsVolumeInformation = 1,
    FileFsLabelInformation = 2,
    FileFsSizeInformation = 3,
    FileFsDeviceInformation = 4,
    FileFsAttributeInformation = 5,
    FileFsControlInformation = 6,
    FileFsFullSizeInformation = 7,
    FileFsObjectIdInformation = 8,
    FileFsMaximumInformation = 9
} ;
#line 294 "kbfiltr.i.cil.c"
typedef enum _FSINFOCLASS FS_INFORMATION_CLASS;
#line 295
enum _INTERFACE_TYPE {
    InterfaceTypeUndefined = -1,
    Internal = 0,
    Isa = 1,
    Eisa = 2,
    MicroChannel = 3,
    TurboChannel = 4,
    PCIBus = 5,
    VMEBus = 6,
    NuBus = 7,
    PCMCIABus = 8,
    CBus = 9,
    MPIBus = 10,
    MPSABus = 11,
    ProcessorInternal = 12,
    InternalPowerBus = 13,
    PNPISABus = 14,
    PNPBus = 15,
    MaximumInterfaceType = 16
} ;
#line 315 "kbfiltr.i.cil.c"
typedef enum _INTERFACE_TYPE INTERFACE_TYPE;
#line 316 "kbfiltr.i.cil.c"
typedef enum _INTERFACE_TYPE *PINTERFACE_TYPE;
#line 333 "kbfiltr.i.cil.c"
struct _KEY_VALUE_FULL_INFORMATION {
   ULONG TitleIndex ;
   ULONG Type ;
   ULONG DataOffset ;
   ULONG DataLength ;
   ULONG NameLength ;
   WCHAR Name[1] ;
};
#line 341 "kbfiltr.i.cil.c"
typedef struct _KEY_VALUE_FULL_INFORMATION *PKEY_VALUE_FULL_INFORMATION;
#line 342 "kbfiltr.i.cil.c"
struct _CLIENT_ID {
   HANDLE UniqueProcess ;
   HANDLE UniqueThread ;
};
#line 346 "kbfiltr.i.cil.c"
typedef struct _CLIENT_ID CLIENT_ID;
#line 347 "kbfiltr.i.cil.c"
typedef CLIENT_ID *PCLIENT_ID;
#line 348
enum _SYSTEM_POWER_STATE {
    PowerSystemUnspecified = 0,
    PowerSystemWorking = 1,
    PowerSystemSleeping1 = 2,
    PowerSystemSleeping2 = 3,
    PowerSystemSleeping3 = 4,
    PowerSystemHibernate = 5,
    PowerSystemShutdown = 6,
    PowerSystemMaximum = 7
} ;
#line 358 "kbfiltr.i.cil.c"
typedef enum _SYSTEM_POWER_STATE SYSTEM_POWER_STATE;
#line 359
enum __anonenum_POWER_ACTION_11 {
    PowerActionNone = 0,
    PowerActionReserved = 1,
    PowerActionSleep = 2,
    PowerActionHibernate = 3,
    PowerActionShutdown = 4,
    PowerActionShutdownReset = 5,
    PowerActionShutdownOff = 6,
    PowerActionWarmEject = 7
} ;
#line 369 "kbfiltr.i.cil.c"
typedef enum __anonenum_POWER_ACTION_11 POWER_ACTION;
#line 370
enum _DEVICE_POWER_STATE {
    PowerDeviceUnspecified = 0,
    PowerDeviceD0 = 1,
    PowerDeviceD1 = 2,
    PowerDeviceD2 = 3,
    PowerDeviceD3 = 4,
    PowerDeviceMaximum = 5
} ;
#line 378 "kbfiltr.i.cil.c"
typedef enum _DEVICE_POWER_STATE DEVICE_POWER_STATE;
#line 379 "kbfiltr.i.cil.c"
union _POWER_STATE {
   SYSTEM_POWER_STATE SystemState ;
   DEVICE_POWER_STATE DeviceState ;
};
#line 383 "kbfiltr.i.cil.c"
typedef union _POWER_STATE POWER_STATE;
#line 384
enum _POWER_STATE_TYPE {
    SystemPowerState = 0,
    DevicePowerState = 1
} ;
#line 388 "kbfiltr.i.cil.c"
typedef enum _POWER_STATE_TYPE POWER_STATE_TYPE;
#line 389 "kbfiltr.i.cil.c"
typedef PVOID PASSIGNED_RESOURCE;
#line 390
#pragma pack(push,4)
#line 391 "kbfiltr.i.cil.c"
struct __anonstruct_Generic_16 {
   PHYSICAL_ADDRESS Start ;
   ULONG Length ;
};
#line 395 "kbfiltr.i.cil.c"
struct __anonstruct_Port_17 {
   PHYSICAL_ADDRESS Start ;
   ULONG Length ;
};
#line 399 "kbfiltr.i.cil.c"
struct __anonstruct_Interrupt_18 {
   ULONG Level ;
   ULONG Vector ;
   ULONG Affinity ;
};
#line 404 "kbfiltr.i.cil.c"
struct __anonstruct_Memory_19 {
   PHYSICAL_ADDRESS Start ;
   ULONG Length ;
};
#line 408 "kbfiltr.i.cil.c"
struct __anonstruct_Dma_20 {
   ULONG Channel ;
   ULONG Port ;
   ULONG Reserved1 ;
};
#line 413 "kbfiltr.i.cil.c"
struct __anonstruct_DevicePrivate_21 {
   ULONG Data[3] ;
};
#line 416 "kbfiltr.i.cil.c"
struct __anonstruct_BusNumber_22 {
   ULONG Start ;
   ULONG Length ;
   ULONG Reserved ;
};
#line 421 "kbfiltr.i.cil.c"
struct __anonstruct_DeviceSpecificData_23 {
   ULONG DataSize ;
   ULONG Reserved1 ;
   ULONG Reserved2 ;
};
#line 426 "kbfiltr.i.cil.c"
union __anonunion_u_15 {
   struct __anonstruct_Generic_16 Generic ;
   struct __anonstruct_Port_17 Port ;
   struct __anonstruct_Interrupt_18 Interrupt ;
   struct __anonstruct_Memory_19 Memory ;
   struct __anonstruct_Dma_20 Dma ;
   struct __anonstruct_DevicePrivate_21 DevicePrivate ;
   struct __anonstruct_BusNumber_22 BusNumber ;
   struct __anonstruct_DeviceSpecificData_23 DeviceSpecificData ;
};
#line 436 "kbfiltr.i.cil.c"
struct _CM_PARTIAL_RESOURCE_DESCRIPTOR {
   UCHAR Type ;
   UCHAR ShareDisposition ;
   USHORT Flags ;
   union __anonunion_u_15 u ;
};
#line 442 "kbfiltr.i.cil.c"
typedef struct _CM_PARTIAL_RESOURCE_DESCRIPTOR CM_PARTIAL_RESOURCE_DESCRIPTOR;
#line 443
#pragma pack(pop)
#line 444 "kbfiltr.i.cil.c"
struct _CM_PARTIAL_RESOURCE_LIST {
   USHORT Version ;
   USHORT Revision ;
   ULONG Count ;
   CM_PARTIAL_RESOURCE_DESCRIPTOR PartialDescriptors[1] ;
};
#line 450 "kbfiltr.i.cil.c"
typedef struct _CM_PARTIAL_RESOURCE_LIST CM_PARTIAL_RESOURCE_LIST;
#line 451 "kbfiltr.i.cil.c"
struct _CM_FULL_RESOURCE_DESCRIPTOR {
   INTERFACE_TYPE InterfaceType ;
   ULONG BusNumber ;
   CM_PARTIAL_RESOURCE_LIST PartialResourceList ;
};
#line 456 "kbfiltr.i.cil.c"
typedef struct _CM_FULL_RESOURCE_DESCRIPTOR CM_FULL_RESOURCE_DESCRIPTOR;
#line 457 "kbfiltr.i.cil.c"
struct _CM_RESOURCE_LIST {
   ULONG Count ;
   CM_FULL_RESOURCE_DESCRIPTOR List[1] ;
};
#line 461 "kbfiltr.i.cil.c"
typedef struct _CM_RESOURCE_LIST *PCM_RESOURCE_LIST;
#line 462
#pragma pack(push,1)
#line 463
#pragma pack(pop)
#line 464 "kbfiltr.i.cil.c"
struct __anonstruct_Port_25 {
   ULONG Length ;
   ULONG Alignment ;
   PHYSICAL_ADDRESS MinimumAddress ;
   PHYSICAL_ADDRESS MaximumAddress ;
};
#line 470 "kbfiltr.i.cil.c"
struct __anonstruct_Memory_26 {
   ULONG Length ;
   ULONG Alignment ;
   PHYSICAL_ADDRESS MinimumAddress ;
   PHYSICAL_ADDRESS MaximumAddress ;
};
#line 476 "kbfiltr.i.cil.c"
struct __anonstruct_Interrupt_27 {
   ULONG MinimumVector ;
   ULONG MaximumVector ;
};
#line 480 "kbfiltr.i.cil.c"
struct __anonstruct_Dma_28 {
   ULONG MinimumChannel ;
   ULONG MaximumChannel ;
};
#line 484 "kbfiltr.i.cil.c"
struct __anonstruct_Generic_29 {
   ULONG Length ;
   ULONG Alignment ;
   PHYSICAL_ADDRESS MinimumAddress ;
   PHYSICAL_ADDRESS MaximumAddress ;
};
#line 490 "kbfiltr.i.cil.c"
struct __anonstruct_DevicePrivate_30 {
   ULONG Data[3] ;
};
#line 493 "kbfiltr.i.cil.c"
struct __anonstruct_BusNumber_31 {
   ULONG Length ;
   ULONG MinBusNumber ;
   ULONG MaxBusNumber ;
   ULONG Reserved ;
};
#line 499 "kbfiltr.i.cil.c"
struct __anonstruct_AssignedResource_32 {
   PASSIGNED_RESOURCE AssignedResource ;
};
#line 502 "kbfiltr.i.cil.c"
struct __anonstruct_SubAllocateFrom_33 {
   UCHAR Type ;
   UCHAR Reserved[3] ;
   PASSIGNED_RESOURCE AssignedResource ;
   PHYSICAL_ADDRESS Transformation ;
};
#line 508 "kbfiltr.i.cil.c"
struct __anonstruct_ConfigData_34 {
   ULONG Priority ;
   ULONG Reserved1 ;
   ULONG Reserved2 ;
};
#line 513 "kbfiltr.i.cil.c"
union __anonunion_u_24 {
   struct __anonstruct_Port_25 Port ;
   struct __anonstruct_Memory_26 Memory ;
   struct __anonstruct_Interrupt_27 Interrupt ;
   struct __anonstruct_Dma_28 Dma ;
   struct __anonstruct_Generic_29 Generic ;
   struct __anonstruct_DevicePrivate_30 DevicePrivate ;
   struct __anonstruct_BusNumber_31 BusNumber ;
   struct __anonstruct_AssignedResource_32 AssignedResource ;
   struct __anonstruct_SubAllocateFrom_33 SubAllocateFrom ;
   struct __anonstruct_ConfigData_34 ConfigData ;
};
#line 525 "kbfiltr.i.cil.c"
struct _IO_RESOURCE_DESCRIPTOR {
   UCHAR Option ;
   UCHAR Type ;
   UCHAR ShareDisposition ;
   UCHAR Spare1 ;
   USHORT Flags ;
   USHORT Spare2 ;
   union __anonunion_u_24 u ;
};
#line 534 "kbfiltr.i.cil.c"
typedef struct _IO_RESOURCE_DESCRIPTOR IO_RESOURCE_DESCRIPTOR;
#line 535 "kbfiltr.i.cil.c"
struct _IO_RESOURCE_LIST {
   USHORT Version ;
   USHORT Revision ;
   ULONG Count ;
   IO_RESOURCE_DESCRIPTOR Descriptors[1] ;
};
#line 541 "kbfiltr.i.cil.c"
typedef struct _IO_RESOURCE_LIST IO_RESOURCE_LIST;
#line 542 "kbfiltr.i.cil.c"
struct _IO_RESOURCE_REQUIREMENTS_LIST {
   ULONG ListSize ;
   INTERFACE_TYPE InterfaceType ;
   ULONG BusNumber ;
   ULONG SlotNumber ;
   ULONG Reserved[3] ;
   ULONG AlternativeLists ;
   IO_RESOURCE_LIST List[1] ;
};
#line 551 "kbfiltr.i.cil.c"
typedef struct _IO_RESOURCE_REQUIREMENTS_LIST *PIO_RESOURCE_REQUIREMENTS_LIST;
#line 552
enum _CONFIGURATION_TYPE {
    ArcSystem = 0,
    CentralProcessor = 1,
    FloatingPointProcessor = 2,
    PrimaryIcache = 3,
    PrimaryDcache = 4,
    SecondaryIcache = 5,
    SecondaryDcache = 6,
    SecondaryCache = 7,
    EisaAdapter = 8,
    TcAdapter = 9,
    ScsiAdapter = 10,
    DtiAdapter = 11,
    MultiFunctionAdapter = 12,
    DiskController = 13,
    TapeController = 14,
    CdromController = 15,
    WormController = 16,
    SerialController = 17,
    NetworkController = 18,
    DisplayController = 19,
    ParallelController = 20,
    PointerController = 21,
    KeyboardController = 22,
    AudioController = 23,
    OtherController = 24,
    DiskPeripheral = 25,
    FloppyDiskPeripheral = 26,
    TapePeripheral = 27,
    ModemPeripheral = 28,
    MonitorPeripheral = 29,
    PrinterPeripheral = 30,
    PointerPeripheral = 31,
    KeyboardPeripheral = 32,
    TerminalPeripheral = 33,
    OtherPeripheral = 34,
    LinePeripheral = 35,
    NetworkPeripheral = 36,
    SystemMemory = 37,
    DockingInformation = 38,
    RealModeIrqRoutingTable = 39,
    MaximumType = 40
} ;
#line 595 "kbfiltr.i.cil.c"
typedef enum _CONFIGURATION_TYPE CONFIGURATION_TYPE;
#line 596 "kbfiltr.i.cil.c"
typedef enum _CONFIGURATION_TYPE *PCONFIGURATION_TYPE;
#line 597
enum _KWAIT_REASON {
    Executive = 0,
    FreePage = 1,
    PageIn = 2,
    PoolAllocation = 3,
    DelayExecution = 4,
    Suspended = 5,
    UserRequest = 6,
    WrExecutive = 7,
    WrFreePage = 8,
    WrPageIn = 9,
    WrPoolAllocation = 10,
    WrDelayExecution = 11,
    WrSuspended = 12,
    WrUserRequest = 13,
    WrEventPair = 14,
    WrQueue = 15,
    WrLpcReceive = 16,
    WrLpcReply = 17,
    WrVirtualMemory = 18,
    WrPageOut = 19,
    WrRendezvous = 20,
    Spare2 = 21,
    Spare3 = 22,
    Spare4 = 23,
    Spare5 = 24,
    Spare6 = 25,
    WrKernel = 26,
    MaximumWaitReason = 27
} ;
#line 627 "kbfiltr.i.cil.c"
typedef enum _KWAIT_REASON KWAIT_REASON;
#line 628 "kbfiltr.i.cil.c"
struct _DISPATCHER_HEADER {
   UCHAR Type ;
   UCHAR Absolute ;
   UCHAR Size ;
   UCHAR Inserted ;
   LONG SignalState ;
   LIST_ENTRY WaitListHead ;
};
#line 636 "kbfiltr.i.cil.c"
typedef struct _DISPATCHER_HEADER DISPATCHER_HEADER;
#line 637 "kbfiltr.i.cil.c"
struct _KDEVICE_QUEUE {
   CSHORT Type ;
   CSHORT Size ;
   LIST_ENTRY DeviceListHead ;
   KSPIN_LOCK Lock ;
   BOOLEAN Busy ;
};
#line 644 "kbfiltr.i.cil.c"
typedef struct _KDEVICE_QUEUE KDEVICE_QUEUE;
#line 645 "kbfiltr.i.cil.c"
struct _KDEVICE_QUEUE_ENTRY {
   LIST_ENTRY DeviceListEntry ;
   ULONG SortKey ;
   BOOLEAN Inserted ;
};
#line 650 "kbfiltr.i.cil.c"
typedef struct _KDEVICE_QUEUE_ENTRY KDEVICE_QUEUE_ENTRY;
#line 651 "kbfiltr.i.cil.c"
struct _KEVENT {
   DISPATCHER_HEADER Header ;
};
#line 654 "kbfiltr.i.cil.c"
typedef struct _KEVENT KEVENT;
#line 655 "kbfiltr.i.cil.c"
typedef struct _KEVENT *PKEVENT;
#line 656 "kbfiltr.i.cil.c"
typedef struct _KEVENT *PRKEVENT;
#line 657 "kbfiltr.i.cil.c"
struct _KSEMAPHORE {
   DISPATCHER_HEADER Header ;
   LONG Limit ;
};
#line 661 "kbfiltr.i.cil.c"
typedef struct _KSEMAPHORE *PKSEMAPHORE;
#line 662 "kbfiltr.i.cil.c"
typedef struct _KSEMAPHORE *PRKSEMAPHORE;
#line 663
enum _MEMORY_CACHING_TYPE {
    MmNonCached = 0,
    MmCached = 1,
    MmWriteCombined = 2,
    MmHardwareCoherentCached = 3,
    MmNonCachedUnordered = 4,
    MmUSWCCached = 5,
    MmMaximumCacheType = 6
} ;
#line 672 "kbfiltr.i.cil.c"
typedef enum _MEMORY_CACHING_TYPE MEMORY_CACHING_TYPE;
#line 673
enum _POOL_TYPE {
    NonPagedPool = 0,
    PagedPool = 1,
    NonPagedPoolMustSucceed = 2,
    DontUseThisType = 3,
    NonPagedPoolCacheAligned = 4,
    PagedPoolCacheAligned = 5,
    NonPagedPoolCacheAlignedMustS = 6,
    MaxPoolType = 7,
    NonPagedPoolSession = 32,
    PagedPoolSession = 33,
    NonPagedPoolMustSucceedSession = 34,
    DontUseThisTypeSession = 35,
    NonPagedPoolCacheAlignedSession = 36,
    PagedPoolCacheAlignedSession = 37,
    NonPagedPoolCacheAlignedMustSSession = 38
} ;
#line 690 "kbfiltr.i.cil.c"
typedef enum _POOL_TYPE POOL_TYPE;
#line 691 "kbfiltr.i.cil.c"
struct _FAST_MUTEX {
   LONG Count ;
   PKTHREAD Owner ;
   ULONG Contention ;
   KEVENT Event ;
   ULONG OldIrql ;
};
#line 698 "kbfiltr.i.cil.c"
typedef struct _FAST_MUTEX *PFAST_MUTEX;
#line 699 "kbfiltr.i.cil.c"
typedef ULONG_PTR ERESOURCE_THREAD;
#line 700 "kbfiltr.i.cil.c"
union __anonunion____missing_field_name_38 {
   LONG OwnerCount ;
   ULONG TableSize ;
};
#line 704 "kbfiltr.i.cil.c"
struct _OWNER_ENTRY {
   ERESOURCE_THREAD OwnerThread ;
   union __anonunion____missing_field_name_38 __annonCompField10 ;
};
#line 708 "kbfiltr.i.cil.c"
typedef struct _OWNER_ENTRY OWNER_ENTRY;
#line 709 "kbfiltr.i.cil.c"
typedef struct _OWNER_ENTRY *POWNER_ENTRY;
#line 710 "kbfiltr.i.cil.c"
union __anonunion____missing_field_name_39 {
   PVOID Address ;
   ULONG_PTR CreatorBackTraceIndex ;
};
#line 714 "kbfiltr.i.cil.c"
struct _ERESOURCE {
   LIST_ENTRY SystemResourcesList ;
   POWNER_ENTRY OwnerTable ;
   SHORT ActiveCount ;
   USHORT Flag ;
   PKSEMAPHORE SharedWaiters ;
   PKEVENT ExclusiveWaiters ;
   OWNER_ENTRY OwnerThreads[2] ;
   ULONG ContentionCount ;
   USHORT NumberOfSharedWaiters ;
   USHORT NumberOfExclusiveWaiters ;
   union __anonunion____missing_field_name_39 __annonCompField11 ;
   KSPIN_LOCK SpinLock ;
};
#line 728
enum _MM_PAGE_PRIORITY {
    LowPagePriority = 0,
    NormalPagePriority = 16,
    HighPagePriority = 32
} ;
#line 733 "kbfiltr.i.cil.c"
typedef enum _MM_PAGE_PRIORITY MM_PAGE_PRIORITY;
#line 734
struct _DRIVER_OBJECT;
#line 734
struct _DRIVER_OBJECT;
#line 735
struct _DRIVER_OBJECT;
#line 736 "kbfiltr.i.cil.c"
struct _SECURITY_SUBJECT_CONTEXT {
   PACCESS_TOKEN ClientToken ;
   SECURITY_IMPERSONATION_LEVEL ImpersonationLevel ;
   PACCESS_TOKEN PrimaryToken ;
   PVOID ProcessAuditId ;
};
#line 742 "kbfiltr.i.cil.c"
typedef struct _SECURITY_SUBJECT_CONTEXT SECURITY_SUBJECT_CONTEXT;
#line 743 "kbfiltr.i.cil.c"
struct _INITIAL_PRIVILEGE_SET {
   ULONG PrivilegeCount ;
   ULONG Control ;
   LUID_AND_ATTRIBUTES Privilege[3] ;
};
#line 748 "kbfiltr.i.cil.c"
typedef struct _INITIAL_PRIVILEGE_SET INITIAL_PRIVILEGE_SET;
#line 749 "kbfiltr.i.cil.c"
union __anonunion_Privileges_40 {
   INITIAL_PRIVILEGE_SET InitialPrivilegeSet ;
   PRIVILEGE_SET PrivilegeSet ;
};
#line 753 "kbfiltr.i.cil.c"
struct _ACCESS_STATE {
   LUID OperationID ;
   BOOLEAN SecurityEvaluated ;
   BOOLEAN GenerateAudit ;
   BOOLEAN GenerateOnClose ;
   BOOLEAN PrivilegesAllocated ;
   ULONG Flags ;
   ACCESS_MASK RemainingDesiredAccess ;
   ACCESS_MASK PreviouslyGrantedAccess ;
   ACCESS_MASK OriginalDesiredAccess ;
   SECURITY_SUBJECT_CONTEXT SubjectSecurityContext ;
   PSECURITY_DESCRIPTOR SecurityDescriptor ;
   PVOID AuxData ;
   union __anonunion_Privileges_40 Privileges ;
   BOOLEAN AuditPrivileges ;
   UNICODE_STRING ObjectName ;
   UNICODE_STRING ObjectTypeName ;
};
#line 771 "kbfiltr.i.cil.c"
typedef struct _ACCESS_STATE *PACCESS_STATE;
#line 772
struct _DEVICE_OBJECT;
#line 772
struct _DEVICE_OBJECT;
#line 773
struct _DEVICE_OBJECT;
#line 774
struct _DRIVER_OBJECT;
#line 775
struct _FILE_OBJECT;
#line 775
struct _FILE_OBJECT;
#line 776
struct _FILE_OBJECT;
#line 777
struct _IRP;
#line 777
struct _IRP;
#line 778
struct _IRP;
#line 779
struct _SCSI_REQUEST_BLOCK;
#line 779
struct _SCSI_REQUEST_BLOCK;
#line 780
struct _SCSI_REQUEST_BLOCK;
#line 781 "kbfiltr.i.cil.c"
typedef NTSTATUS (*PDRIVER_DISPATCH)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp );
#line 782
struct _COMPRESSED_DATA_INFO;
#line 782
struct _COMPRESSED_DATA_INFO;
#line 783 "kbfiltr.i.cil.c"
struct _FAST_IO_DISPATCH {
   ULONG SizeOfFastIoDispatch ;
   BOOLEAN (*FastIoCheckIfPossible)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                                    ULONG Length , BOOLEAN Wait , ULONG LockKey ,
                                    BOOLEAN CheckForReadOperation , PIO_STATUS_BLOCK IoStatus ,
                                    struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoRead)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                         ULONG Length , BOOLEAN Wait , ULONG LockKey , PVOID Buffer ,
                         PIO_STATUS_BLOCK IoStatus , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoWrite)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                          ULONG Length , BOOLEAN Wait , ULONG LockKey , PVOID Buffer ,
                          PIO_STATUS_BLOCK IoStatus , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoQueryBasicInfo)(struct _FILE_OBJECT *FileObject , BOOLEAN Wait ,
                                   PFILE_BASIC_INFORMATION Buffer , PIO_STATUS_BLOCK IoStatus ,
                                   struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoQueryStandardInfo)(struct _FILE_OBJECT *FileObject , BOOLEAN Wait ,
                                      PFILE_STANDARD_INFORMATION Buffer , PIO_STATUS_BLOCK IoStatus ,
                                      struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoLock)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                         PLARGE_INTEGER Length , PEPROCESS ProcessId , ULONG Key ,
                         BOOLEAN FailImmediately , BOOLEAN ExclusiveLock , PIO_STATUS_BLOCK IoStatus ,
                         struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoUnlockSingle)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                                 PLARGE_INTEGER Length , PEPROCESS ProcessId , ULONG Key ,
                                 PIO_STATUS_BLOCK IoStatus , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoUnlockAll)(struct _FILE_OBJECT *FileObject , PEPROCESS ProcessId ,
                              PIO_STATUS_BLOCK IoStatus , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoUnlockAllByKey)(struct _FILE_OBJECT *FileObject , PVOID ProcessId ,
                                   ULONG Key , PIO_STATUS_BLOCK IoStatus , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoDeviceControl)(struct _FILE_OBJECT *FileObject , BOOLEAN Wait ,
                                  PVOID InputBuffer , ULONG InputBufferLength , PVOID OutputBuffer ,
                                  ULONG OutputBufferLength , ULONG IoControlCode ,
                                  PIO_STATUS_BLOCK IoStatus , struct _DEVICE_OBJECT *DeviceObject ) ;
   void (*AcquireFileForNtCreateSection)(struct _FILE_OBJECT *FileObject ) ;
   void (*ReleaseFileForNtCreateSection)(struct _FILE_OBJECT *FileObject ) ;
   void (*FastIoDetachDevice)(struct _DEVICE_OBJECT *SourceDevice , struct _DEVICE_OBJECT *TargetDevice ) ;
   BOOLEAN (*FastIoQueryNetworkOpenInfo)(struct _FILE_OBJECT *FileObject , BOOLEAN Wait ,
                                         struct _FILE_NETWORK_OPEN_INFORMATION *Buffer ,
                                         struct _IO_STATUS_BLOCK *IoStatus , struct _DEVICE_OBJECT *DeviceObject ) ;
   NTSTATUS (*AcquireForModWrite)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER EndingOffset ,
                                  struct _ERESOURCE **ResourceToRelease , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*MdlRead)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                      ULONG Length , ULONG LockKey , PMDL *MdlChain , PIO_STATUS_BLOCK IoStatus ,
                      struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*MdlReadComplete)(struct _FILE_OBJECT *FileObject , PMDL MdlChain , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*PrepareMdlWrite)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                              ULONG Length , ULONG LockKey , PMDL *MdlChain , PIO_STATUS_BLOCK IoStatus ,
                              struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*MdlWriteComplete)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                               PMDL MdlChain , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoReadCompressed)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                                   ULONG Length , ULONG LockKey , PVOID Buffer , PMDL *MdlChain ,
                                   PIO_STATUS_BLOCK IoStatus , struct _COMPRESSED_DATA_INFO *CompressedDataInfo ,
                                   ULONG CompressedDataInfoLength , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoWriteCompressed)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                                    ULONG Length , ULONG LockKey , PVOID Buffer ,
                                    PMDL *MdlChain , PIO_STATUS_BLOCK IoStatus , struct _COMPRESSED_DATA_INFO *CompressedDataInfo ,
                                    ULONG CompressedDataInfoLength , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*MdlReadCompleteCompressed)(struct _FILE_OBJECT *FileObject , PMDL MdlChain ,
                                        struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*MdlWriteCompleteCompressed)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                                         PMDL MdlChain , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoQueryOpen)(struct _IRP *Irp , PFILE_NETWORK_OPEN_INFORMATION NetworkInformation ,
                              struct _DEVICE_OBJECT *DeviceObject ) ;
   NTSTATUS (*ReleaseForModWrite)(struct _FILE_OBJECT *FileObject , struct _ERESOURCE *ResourceToRelease ,
                                  struct _DEVICE_OBJECT *DeviceObject ) ;
   NTSTATUS (*AcquireForCcFlush)(struct _FILE_OBJECT *FileObject , struct _DEVICE_OBJECT *DeviceObject ) ;
   NTSTATUS (*ReleaseForCcFlush)(struct _FILE_OBJECT *FileObject , struct _DEVICE_OBJECT *DeviceObject ) ;
};
#line 852 "kbfiltr.i.cil.c"
typedef struct _FAST_IO_DISPATCH *PFAST_IO_DISPATCH;
#line 853
enum _IO_ALLOCATION_ACTION {
    KeepObject = 1,
    DeallocateObject = 2,
    DeallocateObjectKeepRegisters = 3
} ;
#line 858 "kbfiltr.i.cil.c"
typedef enum _IO_ALLOCATION_ACTION IO_ALLOCATION_ACTION;
#line 859 "kbfiltr.i.cil.c"
struct _IO_SECURITY_CONTEXT {
   PSECURITY_QUALITY_OF_SERVICE SecurityQos ;
   PACCESS_STATE AccessState ;
   ACCESS_MASK DesiredAccess ;
   ULONG FullCreateOptions ;
};
#line 865 "kbfiltr.i.cil.c"
typedef struct _IO_SECURITY_CONTEXT *PIO_SECURITY_CONTEXT;
#line 866 "kbfiltr.i.cil.c"
struct _VPB {
   CSHORT Type ;
   CSHORT Size ;
   USHORT Flags ;
   USHORT VolumeLabelLength ;
   struct _DEVICE_OBJECT *DeviceObject ;
   struct _DEVICE_OBJECT *RealDevice ;
   ULONG SerialNumber ;
   ULONG ReferenceCount ;
   WCHAR VolumeLabel[(32U * sizeof(WCHAR )) / sizeof(WCHAR )] ;
};
#line 877 "kbfiltr.i.cil.c"
typedef struct _VPB *PVPB;
#line 878 "kbfiltr.i.cil.c"
struct _WAIT_CONTEXT_BLOCK {
   KDEVICE_QUEUE_ENTRY WaitQueueEntry ;
   IO_ALLOCATION_ACTION (*DeviceRoutine)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp ,
                                         PVOID MapRegisterBase , PVOID Context ) ;
   PVOID DeviceContext ;
   ULONG NumberOfMapRegisters ;
   PVOID DeviceObject ;
   PVOID CurrentIrp ;
   PKDPC BufferChainingDpc ;
};
#line 888 "kbfiltr.i.cil.c"
typedef struct _WAIT_CONTEXT_BLOCK WAIT_CONTEXT_BLOCK;
#line 889 "kbfiltr.i.cil.c"
union __anonunion_Queue_43 {
   LIST_ENTRY ListEntry ;
   WAIT_CONTEXT_BLOCK Wcb ;
};
#line 893
struct _DEVOBJ_EXTENSION;
#line 893
struct _DEVOBJ_EXTENSION;
#line 894 "kbfiltr.i.cil.c"
struct _DEVICE_OBJECT {
   CSHORT Type ;
   USHORT Size ;
   LONG ReferenceCount ;
   struct _DRIVER_OBJECT *DriverObject ;
   struct _DEVICE_OBJECT *NextDevice ;
   struct _DEVICE_OBJECT *AttachedDevice ;
   struct _IRP *CurrentIrp ;
   PIO_TIMER Timer ;
   ULONG Flags ;
   ULONG Characteristics ;
   PVPB Vpb ;
   PVOID DeviceExtension ;
   ULONG DeviceType ;
   CCHAR StackSize ;
   union __anonunion_Queue_43 Queue ;
   ULONG AlignmentRequirement ;
   KDEVICE_QUEUE DeviceQueue ;
   KDPC Dpc ;
   ULONG ActiveThreadCount ;
   PSECURITY_DESCRIPTOR SecurityDescriptor ;
   KEVENT DeviceLock ;
   USHORT SectorSize ;
   USHORT Spare1 ;
   struct _DEVOBJ_EXTENSION *DeviceObjectExtension ;
   PVOID Reserved ;
};
#line 921 "kbfiltr.i.cil.c"
typedef struct _DEVICE_OBJECT DEVICE_OBJECT;
#line 922 "kbfiltr.i.cil.c"
typedef struct _DEVICE_OBJECT *PDEVICE_OBJECT;
#line 923 "kbfiltr.i.cil.c"
struct _DEVOBJ_EXTENSION {
   CSHORT Type ;
   USHORT Size ;
   PDEVICE_OBJECT DeviceObject ;
};
#line 928 "kbfiltr.i.cil.c"
struct _DRIVER_EXTENSION {
   struct _DRIVER_OBJECT *DriverObject ;
   NTSTATUS (*AddDevice)(struct _DRIVER_OBJECT *DriverObject , struct _DEVICE_OBJECT *PhysicalDeviceObject ) ;
   ULONG Count ;
   UNICODE_STRING ServiceKeyName ;
};
#line 934 "kbfiltr.i.cil.c"
typedef struct _DRIVER_EXTENSION *PDRIVER_EXTENSION;
#line 935 "kbfiltr.i.cil.c"
struct _DRIVER_OBJECT {
   CSHORT Type ;
   CSHORT Size ;
   PDEVICE_OBJECT DeviceObject ;
   ULONG Flags ;
   PVOID DriverStart ;
   ULONG DriverSize ;
   PVOID DriverSection ;
   PDRIVER_EXTENSION DriverExtension ;
   UNICODE_STRING DriverName ;
   PUNICODE_STRING HardwareDatabase ;
   PFAST_IO_DISPATCH FastIoDispatch ;
   NTSTATUS (*DriverInit)(struct _DRIVER_OBJECT *DriverObject , PUNICODE_STRING RegistryPath ) ;
   void (*DriverStartIo)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp ) ;
   void (*DriverUnload)(struct _DRIVER_OBJECT *DriverObject ) ;
   PDRIVER_DISPATCH MajorFunction[28] ;
};
#line 952 "kbfiltr.i.cil.c"
typedef struct _DRIVER_OBJECT DRIVER_OBJECT;
#line 953 "kbfiltr.i.cil.c"
typedef struct _DRIVER_OBJECT *PDRIVER_OBJECT;
#line 954 "kbfiltr.i.cil.c"
struct _SECTION_OBJECT_POINTERS {
   PVOID DataSectionObject ;
   PVOID SharedCacheMap ;
   PVOID ImageSectionObject ;
};
#line 959 "kbfiltr.i.cil.c"
typedef struct _SECTION_OBJECT_POINTERS SECTION_OBJECT_POINTERS;
#line 960 "kbfiltr.i.cil.c"
typedef SECTION_OBJECT_POINTERS *PSECTION_OBJECT_POINTERS;
#line 961 "kbfiltr.i.cil.c"
struct _IO_COMPLETION_CONTEXT {
   PVOID Port ;
   PVOID Key ;
};
#line 965 "kbfiltr.i.cil.c"
typedef struct _IO_COMPLETION_CONTEXT *PIO_COMPLETION_CONTEXT;
#line 966 "kbfiltr.i.cil.c"
struct _FILE_OBJECT {
   CSHORT Type ;
   CSHORT Size ;
   PDEVICE_OBJECT DeviceObject ;
   PVPB Vpb ;
   PVOID FsContext ;
   PVOID FsContext2 ;
   PSECTION_OBJECT_POINTERS SectionObjectPointer ;
   PVOID PrivateCacheMap ;
   NTSTATUS FinalStatus ;
   struct _FILE_OBJECT *RelatedFileObject ;
   BOOLEAN LockOperation ;
   BOOLEAN DeletePending ;
   BOOLEAN ReadAccess ;
   BOOLEAN WriteAccess ;
   BOOLEAN DeleteAccess ;
   BOOLEAN SharedRead ;
   BOOLEAN SharedWrite ;
   BOOLEAN SharedDelete ;
   ULONG Flags ;
   UNICODE_STRING FileName ;
   LARGE_INTEGER CurrentByteOffset ;
   ULONG Waiters ;
   ULONG Busy ;
   PVOID LastLock ;
   KEVENT Lock ;
   KEVENT Event ;
   PIO_COMPLETION_CONTEXT CompletionContext ;
};
#line 995 "kbfiltr.i.cil.c"
typedef struct _FILE_OBJECT *PFILE_OBJECT;
#line 996 "kbfiltr.i.cil.c"
union __anonunion_AssociatedIrp_44 {
   struct _IRP *MasterIrp ;
   LONG IrpCount ;
   PVOID SystemBuffer ;
};
#line 1001 "kbfiltr.i.cil.c"
struct __anonstruct_AsynchronousParameters_46 {
   void (*UserApcRoutine)(PVOID ApcContext , PIO_STATUS_BLOCK IoStatusBlock , ULONG Reserved ) ;
   PVOID UserApcContext ;
};
#line 1006 "kbfiltr.i.cil.c"
union __anonunion_Overlay_45 {
   struct __anonstruct_AsynchronousParameters_46 AsynchronousParameters ;
   LARGE_INTEGER AllocationSize ;
};
#line 1010 "kbfiltr.i.cil.c"
struct __anonstruct____missing_field_name_50 {
   PVOID DriverContext[4] ;
};
#line 1013 "kbfiltr.i.cil.c"
union __anonunion____missing_field_name_49 {
   KDEVICE_QUEUE_ENTRY DeviceQueueEntry ;
   struct __anonstruct____missing_field_name_50 __annonCompField14 ;
};
#line 1017
struct _IO_STACK_LOCATION;
#line 1017
struct _IO_STACK_LOCATION;
#line 1018 "kbfiltr.i.cil.c"
union __anonunion____missing_field_name_52 {
   struct _IO_STACK_LOCATION *CurrentStackLocation ;
   ULONG PacketType ;
};
#line 1022 "kbfiltr.i.cil.c"
struct __anonstruct____missing_field_name_51 {
   LIST_ENTRY ListEntry ;
   union __anonunion____missing_field_name_52 __annonCompField16 ;
};
#line 1026 "kbfiltr.i.cil.c"
struct __anonstruct_Overlay_48 {
   union __anonunion____missing_field_name_49 __annonCompField15 ;
   PETHREAD Thread ;
   PCHAR AuxiliaryBuffer ;
   struct __anonstruct____missing_field_name_51 __annonCompField17 ;
   PFILE_OBJECT OriginalFileObject ;
};
#line 1033 "kbfiltr.i.cil.c"
union __anonunion_Tail_47 {
   struct __anonstruct_Overlay_48 Overlay ;
   KAPC Apc ;
   PVOID CompletionKey ;
};
#line 1038 "kbfiltr.i.cil.c"
struct _IRP {
   CSHORT Type ;
   USHORT Size ;
   PMDL MdlAddress ;
   ULONG Flags ;
   union __anonunion_AssociatedIrp_44 AssociatedIrp ;
   LIST_ENTRY ThreadListEntry ;
   IO_STATUS_BLOCK IoStatus ;
   KPROCESSOR_MODE RequestorMode ;
   BOOLEAN PendingReturned ;
   CHAR StackCount ;
   CHAR CurrentLocation ;
   BOOLEAN Cancel ;
   KIRQL CancelIrql ;
   CCHAR ApcEnvironment ;
   UCHAR AllocationFlags ;
   PIO_STATUS_BLOCK UserIosb ;
   PKEVENT UserEvent ;
   union __anonunion_Overlay_45 Overlay ;
   void (*CancelRoutine)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp ) ;
   PVOID UserBuffer ;
   union __anonunion_Tail_47 Tail ;
};
#line 1061 "kbfiltr.i.cil.c"
typedef struct _IRP IRP;
#line 1062 "kbfiltr.i.cil.c"
typedef struct _IRP *PIRP;
#line 1063
enum _DEVICE_RELATION_TYPE {
    BusRelations = 0,
    EjectionRelations = 1,
    PowerRelations = 2,
    RemovalRelations = 3,
    TargetDeviceRelation = 4
} ;
#line 1070 "kbfiltr.i.cil.c"
typedef enum _DEVICE_RELATION_TYPE DEVICE_RELATION_TYPE;
#line 1071
enum _DEVICE_USAGE_NOTIFICATION_TYPE {
    DeviceUsageTypeUndefined = 0,
    DeviceUsageTypePaging = 1,
    DeviceUsageTypeHibernation = 2,
    DeviceUsageTypeDumpFile = 3
} ;
#line 1077 "kbfiltr.i.cil.c"
typedef enum _DEVICE_USAGE_NOTIFICATION_TYPE DEVICE_USAGE_NOTIFICATION_TYPE;
#line 1078 "kbfiltr.i.cil.c"
struct _INTERFACE {
   USHORT Size ;
   USHORT Version ;
   PVOID Context ;
   void (*InterfaceReference)(PVOID Context ) ;
   void (*InterfaceDereference)(PVOID Context ) ;
};
#line 1085 "kbfiltr.i.cil.c"
typedef struct _INTERFACE *PINTERFACE;
#line 1086 "kbfiltr.i.cil.c"
struct _DEVICE_CAPABILITIES {
   USHORT Size ;
   USHORT Version ;
   ULONG DeviceD1 : 1 ;
   ULONG DeviceD2 : 1 ;
   ULONG LockSupported : 1 ;
   ULONG EjectSupported : 1 ;
   ULONG Removable : 1 ;
   ULONG DockDevice : 1 ;
   ULONG UniqueID : 1 ;
   ULONG SilentInstall : 1 ;
   ULONG RawDeviceOK : 1 ;
   ULONG SurpriseRemovalOK : 1 ;
   ULONG WakeFromD0 : 1 ;
   ULONG WakeFromD1 : 1 ;
   ULONG WakeFromD2 : 1 ;
   ULONG WakeFromD3 : 1 ;
   ULONG HardwareDisabled : 1 ;
   ULONG NonDynamic : 1 ;
   ULONG WarmEjectSupported : 1 ;
   ULONG Reserved : 15 ;
   ULONG Address ;
   ULONG UINumber ;
   DEVICE_POWER_STATE DeviceState[7] ;
   SYSTEM_POWER_STATE SystemWake ;
   DEVICE_POWER_STATE DeviceWake ;
   ULONG D1Latency ;
   ULONG D2Latency ;
   ULONG D3Latency ;
};
#line 1116 "kbfiltr.i.cil.c"
typedef struct _DEVICE_CAPABILITIES *PDEVICE_CAPABILITIES;
#line 1117 "kbfiltr.i.cil.c"
struct _POWER_SEQUENCE {
   ULONG SequenceD1 ;
   ULONG SequenceD2 ;
   ULONG SequenceD3 ;
};
#line 1122 "kbfiltr.i.cil.c"
typedef struct _POWER_SEQUENCE *PPOWER_SEQUENCE;
#line 1123
enum __anonenum_BUS_QUERY_ID_TYPE_53 {
    BusQueryDeviceID = 0,
    BusQueryHardwareIDs = 1,
    BusQueryCompatibleIDs = 2,
    BusQueryInstanceID = 3,
    BusQueryDeviceSerialNumber = 4
} ;
#line 1130 "kbfiltr.i.cil.c"
typedef enum __anonenum_BUS_QUERY_ID_TYPE_53 BUS_QUERY_ID_TYPE;
#line 1131
enum __anonenum_DEVICE_TEXT_TYPE_54 {
    DeviceTextDescription = 0,
    DeviceTextLocationInformation = 1
} ;
#line 1135 "kbfiltr.i.cil.c"
typedef enum __anonenum_DEVICE_TEXT_TYPE_54 DEVICE_TEXT_TYPE;
#line 1136
#pragma pack(push,4)
#line 1137 "kbfiltr.i.cil.c"
struct __anonstruct_Create_56 {
   PIO_SECURITY_CONTEXT SecurityContext ;
   ULONG Options ;
   USHORT FileAttributes ;
   USHORT ShareAccess ;
   ULONG EaLength ;
};
#line 1144 "kbfiltr.i.cil.c"
struct __anonstruct_Read_57 {
   ULONG Length ;
   ULONG Key ;
   LARGE_INTEGER ByteOffset ;
};
#line 1149 "kbfiltr.i.cil.c"
struct __anonstruct_Write_58 {
   ULONG Length ;
   ULONG Key ;
   LARGE_INTEGER ByteOffset ;
};
#line 1154 "kbfiltr.i.cil.c"
struct __anonstruct_QueryFile_59 {
   ULONG Length ;
   FILE_INFORMATION_CLASS FileInformationClass ;
};
#line 1158 "kbfiltr.i.cil.c"
struct __anonstruct____missing_field_name_62 {
   BOOLEAN ReplaceIfExists ;
   BOOLEAN AdvanceOnly ;
};
#line 1162 "kbfiltr.i.cil.c"
union __anonunion____missing_field_name_61 {
   struct __anonstruct____missing_field_name_62 __annonCompField18 ;
   ULONG ClusterCount ;
   HANDLE DeleteHandle ;
};
#line 1167 "kbfiltr.i.cil.c"
struct __anonstruct_SetFile_60 {
   ULONG Length ;
   FILE_INFORMATION_CLASS FileInformationClass ;
   PFILE_OBJECT FileObject ;
   union __anonunion____missing_field_name_61 __annonCompField19 ;
};
#line 1173 "kbfiltr.i.cil.c"
struct __anonstruct_QueryVolume_63 {
   ULONG Length ;
   FS_INFORMATION_CLASS FsInformationClass ;
};
#line 1177 "kbfiltr.i.cil.c"
struct __anonstruct_DeviceIoControl_64 {
   ULONG OutputBufferLength ;
   ULONG InputBufferLength ;
   ULONG IoControlCode ;
   PVOID Type3InputBuffer ;
};
#line 1183 "kbfiltr.i.cil.c"
struct __anonstruct_QuerySecurity_65 {
   SECURITY_INFORMATION SecurityInformation ;
   ULONG Length ;
};
#line 1187 "kbfiltr.i.cil.c"
struct __anonstruct_SetSecurity_66 {
   SECURITY_INFORMATION SecurityInformation ;
   PSECURITY_DESCRIPTOR SecurityDescriptor ;
};
#line 1191 "kbfiltr.i.cil.c"
struct __anonstruct_MountVolume_67 {
   PVPB Vpb ;
   PDEVICE_OBJECT DeviceObject ;
};
#line 1195 "kbfiltr.i.cil.c"
struct __anonstruct_VerifyVolume_68 {
   PVPB Vpb ;
   PDEVICE_OBJECT DeviceObject ;
};
#line 1199 "kbfiltr.i.cil.c"
struct __anonstruct_Scsi_69 {
   struct _SCSI_REQUEST_BLOCK *Srb ;
};
#line 1202 "kbfiltr.i.cil.c"
struct __anonstruct_QueryDeviceRelations_70 {
   DEVICE_RELATION_TYPE Type ;
};
#line 1205 "kbfiltr.i.cil.c"
struct __anonstruct_QueryInterface_71 {
   GUID const   *InterfaceType ;
   USHORT Size ;
   USHORT Version ;
   PINTERFACE Interface ;
   PVOID InterfaceSpecificData ;
};
#line 1212 "kbfiltr.i.cil.c"
struct __anonstruct_DeviceCapabilities_72 {
   PDEVICE_CAPABILITIES Capabilities ;
};
#line 1215 "kbfiltr.i.cil.c"
struct __anonstruct_FilterResourceRequirements_73 {
   PIO_RESOURCE_REQUIREMENTS_LIST IoResourceRequirementList ;
};
#line 1218 "kbfiltr.i.cil.c"
struct __anonstruct_ReadWriteConfig_74 {
   ULONG WhichSpace ;
   PVOID Buffer ;
   ULONG Offset ;
   ULONG Length ;
};
#line 1224 "kbfiltr.i.cil.c"
struct __anonstruct_SetLock_75 {
   BOOLEAN Lock ;
};
#line 1227 "kbfiltr.i.cil.c"
struct __anonstruct_QueryId_76 {
   BUS_QUERY_ID_TYPE IdType ;
};
#line 1230 "kbfiltr.i.cil.c"
struct __anonstruct_QueryDeviceText_77 {
   DEVICE_TEXT_TYPE DeviceTextType ;
   LCID LocaleId ;
};
#line 1234 "kbfiltr.i.cil.c"
struct __anonstruct_UsageNotification_78 {
   BOOLEAN InPath ;
   BOOLEAN Reserved[3] ;
   DEVICE_USAGE_NOTIFICATION_TYPE Type ;
};
#line 1239 "kbfiltr.i.cil.c"
struct __anonstruct_WaitWake_79 {
   SYSTEM_POWER_STATE PowerState ;
};
#line 1242 "kbfiltr.i.cil.c"
struct __anonstruct_PowerSequence_80 {
   PPOWER_SEQUENCE PowerSequence ;
};
#line 1245 "kbfiltr.i.cil.c"
struct __anonstruct_Power_81 {
   ULONG SystemContext ;
   POWER_STATE_TYPE Type ;
   POWER_STATE State ;
   POWER_ACTION ShutdownType ;
};
#line 1251 "kbfiltr.i.cil.c"
struct __anonstruct_StartDevice_82 {
   PCM_RESOURCE_LIST AllocatedResources ;
   PCM_RESOURCE_LIST AllocatedResourcesTranslated ;
};
#line 1255 "kbfiltr.i.cil.c"
struct __anonstruct_WMI_83 {
   ULONG_PTR ProviderId ;
   PVOID DataPath ;
   ULONG BufferSize ;
   PVOID Buffer ;
};
#line 1261 "kbfiltr.i.cil.c"
struct __anonstruct_Others_84 {
   PVOID Argument1 ;
   PVOID Argument2 ;
   PVOID Argument3 ;
   PVOID Argument4 ;
};
#line 1267 "kbfiltr.i.cil.c"
union __anonunion_Parameters_55 {
   struct __anonstruct_Create_56 Create ;
   struct __anonstruct_Read_57 Read ;
   struct __anonstruct_Write_58 Write ;
   struct __anonstruct_QueryFile_59 QueryFile ;
   struct __anonstruct_SetFile_60 SetFile ;
   struct __anonstruct_QueryVolume_63 QueryVolume ;
   struct __anonstruct_DeviceIoControl_64 DeviceIoControl ;
   struct __anonstruct_QuerySecurity_65 QuerySecurity ;
   struct __anonstruct_SetSecurity_66 SetSecurity ;
   struct __anonstruct_MountVolume_67 MountVolume ;
   struct __anonstruct_VerifyVolume_68 VerifyVolume ;
   struct __anonstruct_Scsi_69 Scsi ;
   struct __anonstruct_QueryDeviceRelations_70 QueryDeviceRelations ;
   struct __anonstruct_QueryInterface_71 QueryInterface ;
   struct __anonstruct_DeviceCapabilities_72 DeviceCapabilities ;
   struct __anonstruct_FilterResourceRequirements_73 FilterResourceRequirements ;
   struct __anonstruct_ReadWriteConfig_74 ReadWriteConfig ;
   struct __anonstruct_SetLock_75 SetLock ;
   struct __anonstruct_QueryId_76 QueryId ;
   struct __anonstruct_QueryDeviceText_77 QueryDeviceText ;
   struct __anonstruct_UsageNotification_78 UsageNotification ;
   struct __anonstruct_WaitWake_79 WaitWake ;
   struct __anonstruct_PowerSequence_80 PowerSequence ;
   struct __anonstruct_Power_81 Power ;
   struct __anonstruct_StartDevice_82 StartDevice ;
   struct __anonstruct_WMI_83 WMI ;
   struct __anonstruct_Others_84 Others ;
};
#line 1296 "kbfiltr.i.cil.c"
struct _IO_STACK_LOCATION {
   UCHAR MajorFunction ;
   UCHAR MinorFunction ;
   UCHAR Flags ;
   UCHAR Control ;
   union __anonunion_Parameters_55 Parameters ;
   PDEVICE_OBJECT DeviceObject ;
   PFILE_OBJECT FileObject ;
   NTSTATUS (*CompletionRoutine)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ) ;
   PVOID Context ;
};
#line 1307 "kbfiltr.i.cil.c"
typedef struct _IO_STACK_LOCATION IO_STACK_LOCATION;
#line 1308 "kbfiltr.i.cil.c"
typedef struct _IO_STACK_LOCATION *PIO_STACK_LOCATION;
#line 1309
#pragma pack(pop)
#line 1310 "kbfiltr.i.cil.c"
struct _CONFIGURATION_INFORMATION {
   ULONG DiskCount ;
   ULONG FloppyCount ;
   ULONG CdRomCount ;
   ULONG TapeCount ;
   ULONG ScsiPortCount ;
   ULONG SerialCount ;
   ULONG ParallelCount ;
   BOOLEAN AtDiskPrimaryAddressClaimed ;
   BOOLEAN AtDiskSecondaryAddressClaimed ;
   ULONG Version ;
   ULONG MediumChangerCount ;
};
#line 1323 "kbfiltr.i.cil.c"
typedef struct _CONFIGURATION_INFORMATION CONFIGURATION_INFORMATION;
#line 1324 "kbfiltr.i.cil.c"
typedef struct _CONFIGURATION_INFORMATION *PCONFIGURATION_INFORMATION;
#line 1325 "kbfiltr.i.cil.c"
struct _OBJECT_HANDLE_INFORMATION {
   ULONG HandleAttributes ;
   ACCESS_MASK GrantedAccess ;
};
#line 1329 "kbfiltr.i.cil.c"
typedef struct _OBJECT_HANDLE_INFORMATION *POBJECT_HANDLE_INFORMATION;
#line 1330 "kbfiltr.i.cil.c"
struct _KEYBOARD_INPUT_DATA {
   USHORT UnitId ;
   USHORT MakeCode ;
   USHORT Flags ;
   USHORT Reserved ;
   ULONG ExtraInformation ;
};
#line 1337 "kbfiltr.i.cil.c"
typedef struct _KEYBOARD_INPUT_DATA *PKEYBOARD_INPUT_DATA;
#line 1338 "kbfiltr.i.cil.c"
struct _CONNECT_DATA {
   PDEVICE_OBJECT ClassDeviceObject ;
   PVOID ClassService ;
};
#line 1342 "kbfiltr.i.cil.c"
typedef struct _CONNECT_DATA CONNECT_DATA;
#line 1343 "kbfiltr.i.cil.c"
typedef struct _CONNECT_DATA *PCONNECT_DATA;
#line 1344
enum _TRANSMIT_STATE {
    Idle = 0,
    SendingBytes = 1
} ;
#line 1348 "kbfiltr.i.cil.c"
typedef enum _TRANSMIT_STATE TRANSMIT_STATE;
#line 1349 "kbfiltr.i.cil.c"
struct _OUTPUT_PACKET {
   PUCHAR Bytes ;
   ULONG CurrentByte ;
   ULONG ByteCount ;
   TRANSMIT_STATE State ;
};
#line 1355 "kbfiltr.i.cil.c"
typedef struct _OUTPUT_PACKET *POUTPUT_PACKET;
#line 1356
enum _KEYBOARD_SCAN_STATE {
    Normal = 0,
    GotE0 = 1,
    GotE1 = 2
} ;
#line 1361 "kbfiltr.i.cil.c"
typedef enum _KEYBOARD_SCAN_STATE *PKEYBOARD_SCAN_STATE;
#line 1362 "kbfiltr.i.cil.c"
struct _INTERNAL_I8042_HOOK_KEYBOARD {
   PVOID Context ;
   NTSTATUS (*InitializationRoutine)(PVOID InitializationContext , PVOID SynchFuncContext ,
                                     NTSTATUS (*ReadPort)(PVOID Context , PUCHAR Value ,
                                                          BOOLEAN WaitForACK ) , NTSTATUS (*WritePort)(PVOID Context ,
                                                                                                       UCHAR Value ,
                                                                                                       BOOLEAN WaitForACK ) ,
                                     PBOOLEAN TurnTranslationOn ) ;
   BOOLEAN (*IsrRoutine)(PVOID IsrContext , PKEYBOARD_INPUT_DATA CurrentInput , POUTPUT_PACKET CurrentOutput ,
                         UCHAR StatusByte , PUCHAR Byte , PBOOLEAN ContinueProcessing ,
                         PKEYBOARD_SCAN_STATE ScanState ) ;
   void (*IsrWritePort)(PVOID Context , UCHAR Value ) ;
   void (*QueueKeyboardPacket)(PVOID Context ) ;
   PVOID CallContext ;
};
#line 1377 "kbfiltr.i.cil.c"
typedef struct _INTERNAL_I8042_HOOK_KEYBOARD INTERNAL_I8042_HOOK_KEYBOARD;
#line 1378 "kbfiltr.i.cil.c"
typedef struct _INTERNAL_I8042_HOOK_KEYBOARD *PINTERNAL_I8042_HOOK_KEYBOARD;
#line 1379 "kbfiltr.i.cil.c"
struct _DEVICE_EXTENSION {
   PDEVICE_OBJECT Self ;
   PDEVICE_OBJECT PDO ;
   PDEVICE_OBJECT TopOfStack ;
   LONG EnableCount ;
   CONNECT_DATA UpperConnectData ;
   PVOID UpperContext ;
   NTSTATUS (*UpperInitializationRoutine)(PVOID InitializationContext , PVOID SynchFuncContext ,
                                          NTSTATUS (*ReadPort)(PVOID Context , PUCHAR Value ,
                                                               BOOLEAN WaitForACK ) ,
                                          NTSTATUS (*WritePort)(PVOID Context , UCHAR Value ,
                                                                BOOLEAN WaitForACK ) ,
                                          PBOOLEAN TurnTranslationOn ) ;
   BOOLEAN (*UpperIsrHook)(PVOID IsrContext , PKEYBOARD_INPUT_DATA CurrentInput ,
                           POUTPUT_PACKET CurrentOutput , UCHAR StatusByte , PUCHAR Byte ,
                           PBOOLEAN ContinueProcessing , PKEYBOARD_SCAN_STATE ScanState ) ;
   void (*IsrWritePort)(PVOID Context , UCHAR Value ) ;
   void (*QueueKeyboardPacket)(PVOID Context ) ;
   PVOID CallContext ;
   DEVICE_POWER_STATE DeviceState ;
   BOOLEAN Started ;
   BOOLEAN SurpriseRemoved ;
   BOOLEAN Removed ;
};
#line 1403 "kbfiltr.i.cil.c"
typedef struct _DEVICE_EXTENSION DEVICE_EXTENSION;
#line 1404 "kbfiltr.i.cil.c"
typedef struct _DEVICE_EXTENSION *PDEVICE_EXTENSION;
#line 1405
#pragma pack(push,8)
#line 1406
#pragma pack(pop)
#line 1407
struct _KAPC;
#line 1408
struct _KDPC;
#line 1409
#pragma pack(push,4)
#line 1410
#pragma pack(pop)
#line 1411
#pragma pack(push,4)
#line 1412
#pragma pack(pop)
#line 1413
#pragma pack(push,1)
#line 1414
#pragma pack(pop)
#line 1415
struct _DRIVER_OBJECT;
#line 1416
struct _DEVICE_OBJECT;
#line 1417
struct _DRIVER_OBJECT;
#line 1418
struct _FILE_OBJECT;
#line 1419
struct _IRP;
#line 1420
struct _SCSI_REQUEST_BLOCK;
#line 1421
#pragma pack(push,4)
#line 1422
#pragma pack(pop)
#line 1427
#pragma warning(push)
#line 1428
#pragma warning(disable:4035)
#line 1429
#pragma warning(pop)
#line 1431
extern void *memcpy(void * , void const   * , size_t  ) ;
#line 1432
extern void *memset(void * , int  , size_t  ) ;
#line 1433
#pragma warning(disable:4103)
#line 1434
#pragma warning(disable:4103)
#line 1435
NTSTATUS RtlQueryRegistryValues(ULONG RelativeTo , PCWSTR Path , PRTL_QUERY_REGISTRY_TABLE QueryTable ,
                                PVOID Context , PVOID Environment ) ;
#line 1440
NTSTATUS RtlDeleteRegistryValue(ULONG RelativeTo , PCWSTR Path , PCWSTR ValueName ) ;
#line 1443
void RtlInitString(PSTRING DestinationString , PCSZ SourceString ) ;
#line 1445
void RtlInitUnicodeString(PUNICODE_STRING DestinationString , PCWSTR SourceString ) ;
#line 1447
NTSTATUS RtlAnsiStringToUnicodeString(PUNICODE_STRING DestinationString , PANSI_STRING SourceString ,
                                      BOOLEAN AllocateDestinationString ) ;
#line 1450
void RtlCopyUnicodeString(PUNICODE_STRING DestinationString , PUNICODE_STRING SourceString ) ;
#line 1452
void RtlFreeUnicodeString(PUNICODE_STRING UnicodeString ) ;
#line 1453
SIZE_T RtlCompareMemory(void const   *Source1 , void const   *Source2 , SIZE_T Length ) ;
#line 1456
#pragma warning(push)
#line 1457
#pragma warning(disable:4035)
#line 1458
#pragma warning(pop)
#line 1459
extern LONG InterlockedIncrement(PLONG Addend ) ;
#line 1460
extern LONG InterlockedDecrement(PLONG Addend ) ;
#line 1461
#pragma warning(disable:4035)
#line 1462
#pragma warning(push)
#line 1463
#pragma warning(disable:4164)
#line 1464
#pragma function(_enable)
#line 1465
#pragma function(_disable)
#line 1466
#pragma warning(pop)
#line 1467
#pragma warning(disable:4103)
#line 1468
#pragma warning(disable:4103)
#line 1469
#pragma warning(disable:4103)
#line 1470
#pragma warning(disable:4103)
#line 1471
void KeInitializeEvent(PRKEVENT Event , EVENT_TYPE Type , BOOLEAN State ) ;
#line 1473
LONG KeSetEvent(PRKEVENT Event , KPRIORITY Increment , BOOLEAN Wait ) ;
#line 1475
void KeInitializeSemaphore(PRKSEMAPHORE Semaphore , LONG Count , LONG Limit ) ;
#line 1477
LONG KeReleaseSemaphore(PRKSEMAPHORE Semaphore , KPRIORITY Increment , LONG Adjustment ,
                        BOOLEAN Wait ) ;
#line 1479
NTSTATUS KeDelayExecutionThread(KPROCESSOR_MODE WaitMode , BOOLEAN Alertable , PLARGE_INTEGER Interval ) ;
#line 1482
NTSTATUS KeWaitForSingleObject(PVOID Object , KWAIT_REASON WaitReason , KPROCESSOR_MODE WaitMode ,
                               BOOLEAN Alertable , PLARGE_INTEGER Timeout ) ;
#line 1486
void KeInitializeSpinLock(PKSPIN_LOCK SpinLock ) ;
#line 1487
void KfReleaseSpinLock(PKSPIN_LOCK SpinLock , KIRQL NewIrql ) ;
#line 1489
PVOID ExAllocatePoolWithTag(POOL_TYPE PoolType , SIZE_T NumberOfBytes , ULONG Tag ) ;
#line 1492
void ExFreePool(PVOID P ) ;
#line 1493
void ExAcquireFastMutex(PFAST_MUTEX FastMutex ) ;
#line 1494
void ExReleaseFastMutex(PFAST_MUTEX FastMutex ) ;
#line 1495
PLIST_ENTRY ExfInterlockedInsertHeadList(PLIST_ENTRY ListHead , PLIST_ENTRY ListEntry ,
                                         PKSPIN_LOCK Lock ) ;
#line 1498
PLIST_ENTRY ExfInterlockedInsertTailList(PLIST_ENTRY ListHead , PLIST_ENTRY ListEntry ,
                                         PKSPIN_LOCK Lock ) ;
#line 1501
PLIST_ENTRY ExfInterlockedRemoveHeadList(PLIST_ENTRY ListHead , PKSPIN_LOCK Lock ) ;
#line 1503
void MmUnlockPages(PMDL MemoryDescriptorList ) ;
#line 1504
PVOID MmMapLockedPagesSpecifyCache(PMDL MemoryDescriptorList , KPROCESSOR_MODE AccessMode ,
                                   MEMORY_CACHING_TYPE CacheType , PVOID BaseAddress ,
                                   ULONG BugCheckOnFailure , MM_PAGE_PRIORITY Priority ) ;
#line 1510
PVOID MmAllocateContiguousMemory(SIZE_T NumberOfBytes , PHYSICAL_ADDRESS HighestAcceptableAddress ) ;
#line 1512
void MmFreeContiguousMemory(PVOID BaseAddress ) ;
#line 1513
void MmResetDriverPaging(PVOID AddressWithinSection ) ;
#line 1514
PVOID MmPageEntireDriver(PVOID AddressWithinSection ) ;
#line 1515
NTSTATUS PsCreateSystemThread(PHANDLE ThreadHandle , ULONG DesiredAccess , POBJECT_ATTRIBUTES ObjectAttributes ,
                              HANDLE ProcessHandle , PCLIENT_ID ClientId , void (*StartRoutine)(PVOID StartContext ) ,
                              PVOID StartContext ) ;
#line 1522
NTSTATUS PsTerminateSystemThread(NTSTATUS ExitStatus ) ;
#line 1523
#pragma warning(disable:4103)
#line 1524
#pragma warning(disable:4103)
#line 1525
PMDL IoAllocateMdl(PVOID VirtualAddress , ULONG Length , BOOLEAN SecondaryBuffer ,
                   BOOLEAN ChargeQuota , PIRP Irp ) ;
#line 1528
PDEVICE_OBJECT IoAttachDeviceToDeviceStack(PDEVICE_OBJECT SourceDevice , PDEVICE_OBJECT TargetDevice ) ;
#line 1530
PIRP IoBuildAsynchronousFsdRequest(ULONG MajorFunction , PDEVICE_OBJECT DeviceObject ,
                                   PVOID Buffer , ULONG Length , PLARGE_INTEGER StartingOffset ,
                                   PIO_STATUS_BLOCK IoStatusBlock ) ;
#line 1536
PIRP IoBuildDeviceIoControlRequest(ULONG IoControlCode , PDEVICE_OBJECT DeviceObject ,
                                   PVOID InputBuffer , ULONG InputBufferLength , PVOID OutputBuffer ,
                                   ULONG OutputBufferLength , BOOLEAN InternalDeviceIoControl ,
                                   PKEVENT Event , PIO_STATUS_BLOCK IoStatusBlock ) ;
#line 1545
NTSTATUS IofCallDriver(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 1547
void IofCompleteRequest(PIRP Irp , CCHAR PriorityBoost ) ;
#line 1549
NTSTATUS IoCreateDevice(PDRIVER_OBJECT DriverObject , ULONG DeviceExtensionSize ,
                        PUNICODE_STRING DeviceName , ULONG DeviceType , ULONG DeviceCharacteristics ,
                        BOOLEAN Exclusive , PDEVICE_OBJECT *DeviceObject ) ;
#line 1554
NTSTATUS IoCreateSymbolicLink(PUNICODE_STRING SymbolicLinkName , PUNICODE_STRING DeviceName ) ;
#line 1556
void IoDeleteDevice(PDEVICE_OBJECT DeviceObject ) ;
#line 1557
NTSTATUS IoDeleteSymbolicLink(PUNICODE_STRING SymbolicLinkName ) ;
#line 1558
void IoDetachDevice(PDEVICE_OBJECT TargetDevice ) ;
#line 1559
void IoFreeIrp(PIRP Irp ) ;
#line 1560
void IoFreeMdl(PMDL Mdl ) ;
#line 1561
PCONFIGURATION_INFORMATION IoGetConfigurationInformation(void) ;
#line 1562
NTSTATUS IoQueryDeviceDescription(PINTERFACE_TYPE BusType , PULONG BusNumber , PCONFIGURATION_TYPE ControllerType ,
                                  PULONG ControllerNumber , PCONFIGURATION_TYPE PeripheralType ,
                                  PULONG PeripheralNumber , NTSTATUS (*CalloutRoutine)(PVOID Context ,
                                                                                       PUNICODE_STRING PathName ,
                                                                                       INTERFACE_TYPE BusType ,
                                                                                       ULONG BusNumber ,
                                                                                       PKEY_VALUE_FULL_INFORMATION *BusInformation ,
                                                                                       CONFIGURATION_TYPE ControllerType ,
                                                                                       ULONG ControllerNumber ,
                                                                                       PKEY_VALUE_FULL_INFORMATION *ControllerInformation ,
                                                                                       CONFIGURATION_TYPE PeripheralType ,
                                                                                       ULONG PeripheralNumber ,
                                                                                       PKEY_VALUE_FULL_INFORMATION *PeripheralInformation ) ,
                                  PVOID Context ) ;
#line 1580
void IoReleaseCancelSpinLock(KIRQL Irql ) ;
#line 1581
void IoSetHardErrorOrVerifyDevice(PIRP Irp , PDEVICE_OBJECT DeviceObject ) ;
#line 1582
NTSTATUS IoRegisterDeviceInterface(PDEVICE_OBJECT PhysicalDeviceObject , GUID const   *InterfaceClassGuid ,
                                   PUNICODE_STRING ReferenceString , PUNICODE_STRING SymbolicLinkName ) ;
#line 1586
NTSTATUS IoSetDeviceInterfaceState(PUNICODE_STRING SymbolicLinkName , BOOLEAN Enable ) ;
#line 1588
#pragma warning(disable:4200)
#line 1589
#pragma warning(default:4200)
#line 1590
NTSTATUS PoCallDriver(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 1592
void PoStartNextPowerIrp(PIRP Irp ) ;
#line 1593
NTSTATUS ObReferenceObjectByHandle(HANDLE Handle , ACCESS_MASK DesiredAccess , POBJECT_TYPE ObjectType ,
                                   KPROCESSOR_MODE AccessMode , PVOID *Object , POBJECT_HANDLE_INFORMATION HandleInformation ) ;
#line 1599
void ObfDereferenceObject(PVOID Object ) ;
#line 1600
NTSTATUS ZwClose(HANDLE Handle ) ;
#line 1604
NTSTATUS KbFilter_AddDevice(PDRIVER_OBJECT Driver , PDEVICE_OBJECT PDO ) ;
#line 1605
NTSTATUS KbFilter_CreateClose(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 1606
NTSTATUS KbFilter_DispatchPassThrough(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 1607
NTSTATUS KbFilter_InternIoCtl(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 1608
extern NTSTATUS KbFilter_IoCtl(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 1609
NTSTATUS KbFilter_PnP(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 1610
NTSTATUS KbFilter_Power(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 1611
NTSTATUS KbFilter_InitializationRoutine(PDEVICE_OBJECT DeviceObject , PVOID SynchFuncContext ,
                                        NTSTATUS (*ReadPort)(PVOID Context , PUCHAR Value ,
                                                             BOOLEAN WaitForACK ) ,
                                        NTSTATUS (*WritePort)(PVOID Context , UCHAR Value ,
                                                              BOOLEAN WaitForACK ) ,
                                        PBOOLEAN TurnTranslationOn ) ;
#line 1617
BOOLEAN KbFilter_IsrHook(PDEVICE_OBJECT DeviceObject , PKEYBOARD_INPUT_DATA CurrentInput ,
                         POUTPUT_PACKET CurrentOutput , UCHAR StatusByte , PUCHAR DataByte ,
                         PBOOLEAN ContinueProcessing , PKEYBOARD_SCAN_STATE ScanState ) ;
#line 1620
void KbFilter_ServiceCallback(PDEVICE_OBJECT DeviceObject , PKEYBOARD_INPUT_DATA InputDataStart ,
                              PKEYBOARD_INPUT_DATA InputDataEnd , PULONG InputDataConsumed ) ;
#line 1622
void KbFilter_Unload(PDRIVER_OBJECT Driver ) ;
#line 1623
NTSTATUS DriverEntry(PDRIVER_OBJECT DriverObject , PUNICODE_STRING RegistryPath ) ;
#line 1624
#pragma alloc_text(INIT,DriverEntry)
#line 1625
#pragma alloc_text(PAGE,KbFilter_AddDevice)
#line 1626
#pragma alloc_text(PAGE,KbFilter_CreateClose)
#line 1627
#pragma alloc_text(PAGE,KbFilter_IoCtl)
#line 1628
#pragma alloc_text(PAGE,KbFilter_InternIoCtl)
#line 1629
#pragma alloc_text(PAGE,KbFilter_Unload)
#line 1630
#pragma alloc_text(PAGE,KbFilter_DispatchPassThrough)
#line 1631
#pragma alloc_text(PAGE,KbFilter_PnP)
#line 1632
#pragma alloc_text(PAGE,KbFilter_Power)
#line 1633 "kbfiltr.i.cil.c"
void errorFn(void) 
{ 

  {
  ERROR: 
  goto ERROR;
}
}
#line 1641 "kbfiltr.i.cil.c"
int s  ;
#line 1642 "kbfiltr.i.cil.c"
int UNLOADED  ;
#line 1643 "kbfiltr.i.cil.c"
int NP  ;
#line 1644 "kbfiltr.i.cil.c"
int DC  ;
#line 1645 "kbfiltr.i.cil.c"
int SKIP1  ;
#line 1646 "kbfiltr.i.cil.c"
int SKIP2  ;
#line 1647 "kbfiltr.i.cil.c"
int MPR1  ;
#line 1648 "kbfiltr.i.cil.c"
int MPR3  ;
#line 1649 "kbfiltr.i.cil.c"
int IPC  ;
#line 1650 "kbfiltr.i.cil.c"
int pended  ;
#line 1651 "kbfiltr.i.cil.c"
NTSTATUS (*compFptr)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context )  ;
#line 1652 "kbfiltr.i.cil.c"
int compRegistered  ;
#line 1653 "kbfiltr.i.cil.c"
int lowerDriverReturn  ;
#line 1654 "kbfiltr.i.cil.c"
int setEventCalled  ;
#line 1655 "kbfiltr.i.cil.c"
int customIrp  ;
#line 1656 "kbfiltr.i.cil.c"
int myStatus  ;
#line 1657 "kbfiltr.i.cil.c"
void _BLAST_init(void) 
{ 

  {
#line 1661
  UNLOADED = 0;
#line 1662
  NP = 1;
#line 1663
  DC = 2;
#line 1664
  SKIP1 = 3;
#line 1665
  SKIP2 = 4;
#line 1666
  MPR1 = 5;
#line 1667
  MPR3 = 6;
#line 1668
  IPC = 7;
#line 1669
  s = UNLOADED;
#line 1670
  pended = 0;
#line 1671
  compFptr = (NTSTATUS (*)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ))0;
#line 1672
  compRegistered = 0;
#line 1673
  lowerDriverReturn = 0;
#line 1674
  setEventCalled = 0;
#line 1675
  customIrp = 0;
#line 1676
  return;
}
}
#line 1679 "kbfiltr.i.cil.c"
NTSTATUS DriverEntry(PDRIVER_OBJECT DriverObject , PUNICODE_STRING RegistryPath ) 
{ ULONG i ;
  unsigned int __cil_tmp4 ;
  unsigned int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  PDRIVER_EXTENSION __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;

  {
#line 1683
  __cil_tmp4 = i * 4U;
#line 1683
  __cil_tmp5 = 56 + __cil_tmp4;
#line 1683
  __cil_tmp6 = (unsigned int )DriverObject;
#line 1683
  __cil_tmp7 = __cil_tmp6 + __cil_tmp5;
#line 1683
  *((PDRIVER_DISPATCH *)__cil_tmp7) = & KbFilter_DispatchPassThrough;
#line 1684
  __cil_tmp8 = 0 * 4U;
#line 1684
  __cil_tmp9 = 56 + __cil_tmp8;
#line 1684
  __cil_tmp10 = (unsigned int )DriverObject;
#line 1684
  __cil_tmp11 = __cil_tmp10 + __cil_tmp9;
#line 1684
  *((PDRIVER_DISPATCH *)__cil_tmp11) = & KbFilter_CreateClose;
#line 1685
  __cil_tmp12 = 2 * 4U;
#line 1685
  __cil_tmp13 = 56 + __cil_tmp12;
#line 1685
  __cil_tmp14 = (unsigned int )DriverObject;
#line 1685
  __cil_tmp15 = __cil_tmp14 + __cil_tmp13;
#line 1685
  *((PDRIVER_DISPATCH *)__cil_tmp15) = & KbFilter_CreateClose;
#line 1686
  __cil_tmp16 = 27 * 4U;
#line 1686
  __cil_tmp17 = 56 + __cil_tmp16;
#line 1686
  __cil_tmp18 = (unsigned int )DriverObject;
#line 1686
  __cil_tmp19 = __cil_tmp18 + __cil_tmp17;
#line 1686
  *((PDRIVER_DISPATCH *)__cil_tmp19) = & KbFilter_PnP;
#line 1687
  __cil_tmp20 = 22 * 4U;
#line 1687
  __cil_tmp21 = 56 + __cil_tmp20;
#line 1687
  __cil_tmp22 = (unsigned int )DriverObject;
#line 1687
  __cil_tmp23 = __cil_tmp22 + __cil_tmp21;
#line 1687
  *((PDRIVER_DISPATCH *)__cil_tmp23) = & KbFilter_Power;
#line 1688
  __cil_tmp24 = 15 * 4U;
#line 1688
  __cil_tmp25 = 56 + __cil_tmp24;
#line 1688
  __cil_tmp26 = (unsigned int )DriverObject;
#line 1688
  __cil_tmp27 = __cil_tmp26 + __cil_tmp25;
#line 1688
  *((PDRIVER_DISPATCH *)__cil_tmp27) = & KbFilter_InternIoCtl;
#line 1689
  __cil_tmp28 = (unsigned int )DriverObject;
#line 1689
  __cil_tmp29 = __cil_tmp28 + 52;
#line 1689
  *((void (**)(struct _DRIVER_OBJECT *DriverObject ))__cil_tmp29) = & KbFilter_Unload;
#line 1690
  __cil_tmp30 = (unsigned int )DriverObject;
#line 1690
  __cil_tmp31 = __cil_tmp30 + 24;
#line 1690
  __cil_tmp32 = *((PDRIVER_EXTENSION *)__cil_tmp31);
#line 1690
  __cil_tmp33 = (unsigned int )__cil_tmp32;
#line 1690
  __cil_tmp34 = __cil_tmp33 + 4;
#line 1690
  *((NTSTATUS (**)(struct _DRIVER_OBJECT *DriverObject , struct _DEVICE_OBJECT *PhysicalDeviceObject ))__cil_tmp34) = & KbFilter_AddDevice;
#line 1691
  return (0L);
}
}
#line 1694 "kbfiltr.i.cil.c"
NTSTATUS KbFilter_AddDevice(PDRIVER_OBJECT Driver , PDEVICE_OBJECT PDO ) 
{ PDEVICE_EXTENSION devExt ;
  PDEVICE_OBJECT device ;
  NTSTATUS status ;
  unsigned long __cil_tmp6 ;
  void *__cil_tmp7 ;
  UNICODE_STRING *__cil_tmp8 ;
  int __cil_tmp9 ;
  PDEVICE_OBJECT *__cil_tmp10 ;
  PDEVICE_OBJECT __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  PVOID __cil_tmp14 ;
  PDEVICE_OBJECT *__cil_tmp15 ;
  PDEVICE_OBJECT __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  PVOID __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  PDEVICE_OBJECT *__cil_tmp22 ;
  PDEVICE_OBJECT __cil_tmp23 ;
  PDEVICE_OBJECT *__cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  PDEVICE_OBJECT *__cil_tmp35 ;
  PDEVICE_OBJECT __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  PDEVICE_OBJECT *__cil_tmp39 ;
  PDEVICE_OBJECT __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  ULONG __cil_tmp43 ;
  PDEVICE_OBJECT *__cil_tmp44 ;
  PDEVICE_OBJECT __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  PDEVICE_OBJECT *__cil_tmp48 ;
  PDEVICE_OBJECT __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  ULONG __cil_tmp52 ;

  {
#line 1701
  status = 0L;
#line 1702
  __cil_tmp6 = (unsigned long )84U;
#line 1702
  __cil_tmp7 = (void *)0;
#line 1702
  __cil_tmp8 = (UNICODE_STRING *)__cil_tmp7;
#line 1702
  status = IoCreateDevice(Driver, __cil_tmp6, __cil_tmp8, 11UL, 0UL, (unsigned char)0,
                          & device);
  {
#line 1705
  __cil_tmp9 = status >= 0L;
#line 1705
  if (! __cil_tmp9) {
#line 1706
    return (status);
  }
  }
#line 1711
  __cil_tmp10 = & device;
#line 1711
  __cil_tmp11 = *__cil_tmp10;
#line 1711
  __cil_tmp12 = (unsigned int )__cil_tmp11;
#line 1711
  __cil_tmp13 = __cil_tmp12 + 40;
#line 1711
  __cil_tmp14 = *((PVOID *)__cil_tmp13);
#line 1711
  memset(__cil_tmp14, 0, 84U);
#line 1712
  __cil_tmp15 = & device;
#line 1712
  __cil_tmp16 = *__cil_tmp15;
#line 1712
  __cil_tmp17 = (unsigned int )__cil_tmp16;
#line 1712
  __cil_tmp18 = __cil_tmp17 + 40;
#line 1712
  __cil_tmp19 = *((PVOID *)__cil_tmp18);
#line 1712
  devExt = (struct _DEVICE_EXTENSION *)__cil_tmp19;
#line 1713
  __cil_tmp20 = (unsigned int )devExt;
#line 1713
  __cil_tmp21 = __cil_tmp20 + 8;
#line 1713
  __cil_tmp22 = & device;
#line 1713
  __cil_tmp23 = *__cil_tmp22;
#line 1713
  *((PDEVICE_OBJECT *)__cil_tmp21) = IoAttachDeviceToDeviceStack(__cil_tmp23, PDO);
#line 1714
  __cil_tmp24 = & device;
#line 1714
  *((PDEVICE_OBJECT *)devExt) = *__cil_tmp24;
#line 1715
  __cil_tmp25 = (unsigned int )devExt;
#line 1715
  __cil_tmp26 = __cil_tmp25 + 4;
#line 1715
  *((PDEVICE_OBJECT *)__cil_tmp26) = PDO;
#line 1716
  __cil_tmp27 = (unsigned int )devExt;
#line 1716
  __cil_tmp28 = __cil_tmp27 + 48;
#line 1716
  *((DEVICE_POWER_STATE *)__cil_tmp28) = (enum _DEVICE_POWER_STATE )1;
#line 1717
  __cil_tmp29 = (unsigned int )devExt;
#line 1717
  __cil_tmp30 = __cil_tmp29 + 81;
#line 1717
  *((BOOLEAN *)__cil_tmp30) = (unsigned char)0;
#line 1718
  __cil_tmp31 = (unsigned int )devExt;
#line 1718
  __cil_tmp32 = __cil_tmp31 + 82;
#line 1718
  *((BOOLEAN *)__cil_tmp32) = (unsigned char)0;
#line 1719
  __cil_tmp33 = (unsigned int )devExt;
#line 1719
  __cil_tmp34 = __cil_tmp33 + 80;
#line 1719
  *((BOOLEAN *)__cil_tmp34) = (unsigned char)0;
#line 1720
  __cil_tmp35 = & device;
#line 1720
  __cil_tmp36 = *__cil_tmp35;
#line 1720
  __cil_tmp37 = (unsigned int )__cil_tmp36;
#line 1720
  __cil_tmp38 = __cil_tmp37 + 28;
#line 1720
  __cil_tmp39 = & device;
#line 1720
  __cil_tmp40 = *__cil_tmp39;
#line 1720
  __cil_tmp41 = (unsigned int )__cil_tmp40;
#line 1720
  __cil_tmp42 = __cil_tmp41 + 28;
#line 1720
  __cil_tmp43 = *((ULONG *)__cil_tmp42);
#line 1720
  *((ULONG *)__cil_tmp38) = __cil_tmp43 | 8196UL;
#line 1721
  __cil_tmp44 = & device;
#line 1721
  __cil_tmp45 = *__cil_tmp44;
#line 1721
  __cil_tmp46 = (unsigned int )__cil_tmp45;
#line 1721
  __cil_tmp47 = __cil_tmp46 + 28;
#line 1721
  __cil_tmp48 = & device;
#line 1721
  __cil_tmp49 = *__cil_tmp48;
#line 1721
  __cil_tmp50 = (unsigned int )__cil_tmp49;
#line 1721
  __cil_tmp51 = __cil_tmp50 + 28;
#line 1721
  __cil_tmp52 = *((ULONG *)__cil_tmp51);
#line 1721
  *((ULONG *)__cil_tmp47) = __cil_tmp52 & 4294967167UL;
#line 1723
  return (status);
}
}
#line 1726 "kbfiltr.i.cil.c"
NTSTATUS KbFilter_Complete(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ) 
{ PKEVENT event ;

  {
#line 1731
  event = (struct _KEVENT *)Context;
#line 1732
  KeSetEvent(event, 0L, (unsigned char)0);
#line 1734
  return (-1073741802L);
}
}
#line 1737 "kbfiltr.i.cil.c"
NTSTATUS KbFilter_CreateClose(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ PIO_STACK_LOCATION irpStack ;
  NTSTATUS status ;
  PDEVICE_EXTENSION devExt ;
  LONG tmp ;
  LONG tmp___0 ;
  NTSTATUS tmp___1 ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  PVOID __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  UCHAR __cil_tmp19 ;
  int __cil_tmp20 ;
  UCHAR __cil_tmp21 ;
  int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  PVOID __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  void *__cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  LONG *__cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  LONG *__cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  NTSTATUS (*__cil_tmp38)(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;

  {
#line 1746
  __cil_tmp9 = 24 + 8;
#line 1746
  __cil_tmp10 = 0 + __cil_tmp9;
#line 1746
  __cil_tmp11 = 64 + __cil_tmp10;
#line 1746
  __cil_tmp12 = (unsigned int )Irp;
#line 1746
  __cil_tmp13 = __cil_tmp12 + __cil_tmp11;
#line 1746
  irpStack = *((struct _IO_STACK_LOCATION **)__cil_tmp13);
#line 1747
  __cil_tmp14 = (unsigned int )DeviceObject;
#line 1747
  __cil_tmp15 = __cil_tmp14 + 40;
#line 1747
  __cil_tmp16 = *((PVOID *)__cil_tmp15);
#line 1747
  devExt = (struct _DEVICE_EXTENSION *)__cil_tmp16;
#line 1748
  __cil_tmp17 = (unsigned int )Irp;
#line 1748
  __cil_tmp18 = __cil_tmp17 + 24;
#line 1748
  status = *((NTSTATUS *)__cil_tmp18);
#line 1749
  status = (long )myStatus;
  {
#line 1750
  __cil_tmp19 = *((UCHAR *)irpStack);
#line 1750
  __cil_tmp20 = (int )__cil_tmp19;
#line 1750
  if (__cil_tmp20 == 0) {
    goto switch_0_0;
  } else {
    {
#line 1753
    __cil_tmp21 = *((UCHAR *)irpStack);
#line 1753
    __cil_tmp22 = (int )__cil_tmp21;
#line 1753
    if (__cil_tmp22 == 2) {
      goto switch_0_2;
    } else {
#line 1756
      if (0) {
        switch_0_0: ;
        {
#line 1758
        __cil_tmp23 = 16 + 4;
#line 1758
        __cil_tmp24 = (unsigned int )devExt;
#line 1758
        __cil_tmp25 = __cil_tmp24 + __cil_tmp23;
#line 1758
        __cil_tmp26 = *((PVOID *)__cil_tmp25);
#line 1758
        __cil_tmp27 = (unsigned int )__cil_tmp26;
#line 1758
        __cil_tmp28 = (void *)0;
#line 1758
        __cil_tmp29 = (unsigned int )__cil_tmp28;
#line 1758
        if (__cil_tmp29 == __cil_tmp27) {
#line 1759
          status = -1073741436L;
        } else {
#line 1762
          __cil_tmp30 = (unsigned int )devExt;
#line 1762
          __cil_tmp31 = __cil_tmp30 + 12;
#line 1762
          __cil_tmp32 = (LONG *)__cil_tmp31;
#line 1762
          tmp = InterlockedIncrement(__cil_tmp32);
#line 1764
          if (1L == tmp) {

          }
        }
        }
        goto switch_0_break;
        switch_0_2: 
#line 1773
        __cil_tmp33 = (unsigned int )devExt;
#line 1773
        __cil_tmp34 = __cil_tmp33 + 12;
#line 1773
        __cil_tmp35 = (LONG *)__cil_tmp34;
#line 1773
        tmp___0 = InterlockedDecrement(__cil_tmp35);
#line 1775
        if (0L == tmp___0) {

        }
        goto switch_0_break;
      } else {
        switch_0_break: ;
      }
    }
    }
  }
  }
#line 1787
  __cil_tmp36 = (unsigned int )Irp;
#line 1787
  __cil_tmp37 = __cil_tmp36 + 24;
#line 1787
  *((NTSTATUS *)__cil_tmp37) = status;
#line 1788
  myStatus = (int )status;
#line 1789
  __cil_tmp38 = & KbFilter_DispatchPassThrough;
#line 1789
  tmp___1 = (*__cil_tmp38)(DeviceObject, Irp);
#line 1791
  return (tmp___1);
}
}
#line 1794 "kbfiltr.i.cil.c"
NTSTATUS KbFilter_DispatchPassThrough(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ PIO_STACK_LOCATION irpStack ;
  NTSTATUS tmp ;
  unsigned int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  CHAR __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  struct _IO_STACK_LOCATION *__cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  PVOID __cil_tmp30 ;
  struct _DEVICE_EXTENSION *__cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  PDEVICE_OBJECT __cil_tmp34 ;

  {
#line 1799
  __cil_tmp5 = 24 + 8;
#line 1799
  __cil_tmp6 = 0 + __cil_tmp5;
#line 1799
  __cil_tmp7 = 64 + __cil_tmp6;
#line 1799
  __cil_tmp8 = (unsigned int )Irp;
#line 1799
  __cil_tmp9 = __cil_tmp8 + __cil_tmp7;
#line 1799
  irpStack = *((struct _IO_STACK_LOCATION **)__cil_tmp9);
#line 1800
  if (s == NP) {
#line 1801
    s = SKIP1;
  } else {
#line 1804
    errorFn();
  }
#line 1808
  __cil_tmp10 = (unsigned int )Irp;
#line 1808
  __cil_tmp11 = __cil_tmp10 + 35;
#line 1808
  __cil_tmp12 = (unsigned int )Irp;
#line 1808
  __cil_tmp13 = __cil_tmp12 + 35;
#line 1808
  __cil_tmp14 = *((CHAR *)__cil_tmp13);
#line 1808
  __cil_tmp15 = (int )__cil_tmp14;
#line 1808
  __cil_tmp16 = __cil_tmp15 + 1;
#line 1808
  *((CHAR *)__cil_tmp11) = (char )__cil_tmp16;
#line 1809
  __cil_tmp17 = 24 + 8;
#line 1809
  __cil_tmp18 = 0 + __cil_tmp17;
#line 1809
  __cil_tmp19 = 64 + __cil_tmp18;
#line 1809
  __cil_tmp20 = (unsigned int )Irp;
#line 1809
  __cil_tmp21 = __cil_tmp20 + __cil_tmp19;
#line 1809
  __cil_tmp22 = 24 + 8;
#line 1809
  __cil_tmp23 = 0 + __cil_tmp22;
#line 1809
  __cil_tmp24 = 64 + __cil_tmp23;
#line 1809
  __cil_tmp25 = (unsigned int )Irp;
#line 1809
  __cil_tmp26 = __cil_tmp25 + __cil_tmp24;
#line 1809
  __cil_tmp27 = *((struct _IO_STACK_LOCATION **)__cil_tmp26);
#line 1809
  *((struct _IO_STACK_LOCATION **)__cil_tmp21) = __cil_tmp27 + 1;
#line 1810
  __cil_tmp28 = (unsigned int )DeviceObject;
#line 1810
  __cil_tmp29 = __cil_tmp28 + 40;
#line 1810
  __cil_tmp30 = *((PVOID *)__cil_tmp29);
#line 1810
  __cil_tmp31 = (struct _DEVICE_EXTENSION *)__cil_tmp30;
#line 1810
  __cil_tmp32 = (unsigned int )__cil_tmp31;
#line 1810
  __cil_tmp33 = __cil_tmp32 + 8;
#line 1810
  __cil_tmp34 = *((PDEVICE_OBJECT *)__cil_tmp33);
#line 1810
  tmp = IofCallDriver(__cil_tmp34, Irp);
#line 1813
  return (tmp);
}
}
#line 1816 "kbfiltr.i.cil.c"
NTSTATUS KbFilter_InternIoCtl(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ PIO_STACK_LOCATION irpStack ;
  PDEVICE_EXTENSION devExt ;
  PINTERNAL_I8042_HOOK_KEYBOARD hookKeyboard ;
  PCONNECT_DATA connectData ;
  NTSTATUS status ;
  NTSTATUS tmp ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  PVOID __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  int __cil_tmp20 ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;
  int __cil_tmp23 ;
  ULONG __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  ULONG __cil_tmp29 ;
  int __cil_tmp30 ;
  int __cil_tmp31 ;
  int __cil_tmp32 ;
  int __cil_tmp33 ;
  ULONG __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  ULONG __cil_tmp39 ;
  int __cil_tmp40 ;
  int __cil_tmp41 ;
  int __cil_tmp42 ;
  int __cil_tmp43 ;
  ULONG __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  ULONG __cil_tmp49 ;
  int __cil_tmp50 ;
  ULONG __cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  ULONG __cil_tmp56 ;
  int __cil_tmp57 ;
  int __cil_tmp58 ;
  int __cil_tmp59 ;
  ULONG __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  ULONG __cil_tmp65 ;
  int __cil_tmp66 ;
  int __cil_tmp67 ;
  int __cil_tmp68 ;
  ULONG __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  unsigned int __cil_tmp73 ;
  ULONG __cil_tmp74 ;
  int __cil_tmp75 ;
  int __cil_tmp76 ;
  int __cil_tmp77 ;
  ULONG __cil_tmp78 ;
  unsigned int __cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  unsigned int __cil_tmp81 ;
  unsigned int __cil_tmp82 ;
  ULONG __cil_tmp83 ;
  int __cil_tmp84 ;
  int __cil_tmp85 ;
  int __cil_tmp86 ;
  ULONG __cil_tmp87 ;
  unsigned int __cil_tmp88 ;
  unsigned int __cil_tmp89 ;
  unsigned int __cil_tmp90 ;
  unsigned int __cil_tmp91 ;
  ULONG __cil_tmp92 ;
  int __cil_tmp93 ;
  int __cil_tmp94 ;
  int __cil_tmp95 ;
  ULONG __cil_tmp96 ;
  unsigned int __cil_tmp97 ;
  unsigned int __cil_tmp98 ;
  unsigned int __cil_tmp99 ;
  unsigned int __cil_tmp100 ;
  ULONG __cil_tmp101 ;
  void *__cil_tmp102 ;
  unsigned int __cil_tmp103 ;
  unsigned int __cil_tmp104 ;
  unsigned int __cil_tmp105 ;
  unsigned int __cil_tmp106 ;
  PVOID __cil_tmp107 ;
  unsigned int __cil_tmp108 ;
  unsigned long __cil_tmp109 ;
  unsigned int __cil_tmp110 ;
  unsigned int __cil_tmp111 ;
  unsigned int __cil_tmp112 ;
  unsigned int __cil_tmp113 ;
  ULONG __cil_tmp114 ;
  unsigned int __cil_tmp115 ;
  unsigned int __cil_tmp116 ;
  unsigned int __cil_tmp117 ;
  unsigned int __cil_tmp118 ;
  PVOID __cil_tmp119 ;
  unsigned int __cil_tmp120 ;
  unsigned int __cil_tmp121 ;
  unsigned int __cil_tmp122 ;
  unsigned int __cil_tmp123 ;
  unsigned long __cil_tmp124 ;
  unsigned int __cil_tmp125 ;
  unsigned int __cil_tmp126 ;
  unsigned int __cil_tmp127 ;
  unsigned int __cil_tmp128 ;
  ULONG __cil_tmp129 ;
  unsigned int __cil_tmp130 ;
  unsigned int __cil_tmp131 ;
  unsigned int __cil_tmp132 ;
  unsigned int __cil_tmp133 ;
  PVOID __cil_tmp134 ;
  unsigned int __cil_tmp135 ;
  unsigned int __cil_tmp136 ;
  unsigned int __cil_tmp137 ;
  unsigned int __cil_tmp138 ;
  unsigned int __cil_tmp139 ;
  unsigned int __cil_tmp140 ;
  unsigned int __cil_tmp141 ;
  unsigned int __cil_tmp142 ;
  unsigned int __cil_tmp143 ;
  unsigned int __cil_tmp144 ;
  unsigned int __cil_tmp145 ;
  unsigned int __cil_tmp146 ;
  unsigned int __cil_tmp147 ;
  unsigned int __cil_tmp148 ;
  unsigned int __cil_tmp149 ;
  unsigned int __cil_tmp150 ;
  unsigned int __cil_tmp151 ;
  unsigned int __cil_tmp152 ;
  unsigned int __cil_tmp153 ;
  unsigned int __cil_tmp154 ;
  unsigned int __cil_tmp155 ;
  unsigned int __cil_tmp156 ;
  unsigned int __cil_tmp157 ;
  unsigned int __cil_tmp158 ;
  unsigned int __cil_tmp159 ;
  unsigned int __cil_tmp160 ;
  unsigned int __cil_tmp161 ;
  unsigned int __cil_tmp162 ;
  unsigned int __cil_tmp163 ;
  unsigned int __cil_tmp164 ;
  int __cil_tmp165 ;
  unsigned int __cil_tmp166 ;
  unsigned int __cil_tmp167 ;
  NTSTATUS (*__cil_tmp168)(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;

  {
#line 1825
  status = 0L;
#line 1826
  __cil_tmp9 = (unsigned int )DeviceObject;
#line 1826
  __cil_tmp10 = __cil_tmp9 + 40;
#line 1826
  __cil_tmp11 = *((PVOID *)__cil_tmp10);
#line 1826
  devExt = (struct _DEVICE_EXTENSION *)__cil_tmp11;
#line 1827
  __cil_tmp12 = 24 + 4;
#line 1827
  __cil_tmp13 = (unsigned int )Irp;
#line 1827
  __cil_tmp14 = __cil_tmp13 + __cil_tmp12;
#line 1827
  *((ULONG_PTR *)__cil_tmp14) = 0UL;
#line 1828
  __cil_tmp15 = 24 + 8;
#line 1828
  __cil_tmp16 = 0 + __cil_tmp15;
#line 1828
  __cil_tmp17 = 64 + __cil_tmp16;
#line 1828
  __cil_tmp18 = (unsigned int )Irp;
#line 1828
  __cil_tmp19 = __cil_tmp18 + __cil_tmp17;
#line 1828
  irpStack = *((struct _IO_STACK_LOCATION **)__cil_tmp19);
  {
#line 1829
  __cil_tmp20 = 128 << 2;
#line 1829
  __cil_tmp21 = 11 << 16;
#line 1829
  __cil_tmp22 = __cil_tmp21 | __cil_tmp20;
#line 1829
  __cil_tmp23 = __cil_tmp22 | 3;
#line 1829
  __cil_tmp24 = (ULONG )__cil_tmp23;
#line 1829
  __cil_tmp25 = 0 + 8;
#line 1829
  __cil_tmp26 = 4 + __cil_tmp25;
#line 1829
  __cil_tmp27 = (unsigned int )irpStack;
#line 1829
  __cil_tmp28 = __cil_tmp27 + __cil_tmp26;
#line 1829
  __cil_tmp29 = *((ULONG *)__cil_tmp28);
#line 1829
  if (__cil_tmp29 == __cil_tmp24) {
    goto switch_1_exp_0;
  } else {
    {
#line 1832
    __cil_tmp30 = 256 << 2;
#line 1832
    __cil_tmp31 = 11 << 16;
#line 1832
    __cil_tmp32 = __cil_tmp31 | __cil_tmp30;
#line 1832
    __cil_tmp33 = __cil_tmp32 | 3;
#line 1832
    __cil_tmp34 = (ULONG )__cil_tmp33;
#line 1832
    __cil_tmp35 = 0 + 8;
#line 1832
    __cil_tmp36 = 4 + __cil_tmp35;
#line 1832
    __cil_tmp37 = (unsigned int )irpStack;
#line 1832
    __cil_tmp38 = __cil_tmp37 + __cil_tmp36;
#line 1832
    __cil_tmp39 = *((ULONG *)__cil_tmp38);
#line 1832
    if (__cil_tmp39 == __cil_tmp34) {
      goto switch_1_exp_1;
    } else {
      {
#line 1835
      __cil_tmp40 = 4080 << 2;
#line 1835
      __cil_tmp41 = 11 << 16;
#line 1835
      __cil_tmp42 = __cil_tmp41 | __cil_tmp40;
#line 1835
      __cil_tmp43 = __cil_tmp42 | 3;
#line 1835
      __cil_tmp44 = (ULONG )__cil_tmp43;
#line 1835
      __cil_tmp45 = 0 + 8;
#line 1835
      __cil_tmp46 = 4 + __cil_tmp45;
#line 1835
      __cil_tmp47 = (unsigned int )irpStack;
#line 1835
      __cil_tmp48 = __cil_tmp47 + __cil_tmp46;
#line 1835
      __cil_tmp49 = *((ULONG *)__cil_tmp48);
#line 1835
      if (__cil_tmp49 == __cil_tmp44) {
        goto switch_1_exp_2;
      } else {
        {
#line 1838
        __cil_tmp50 = 11 << 16;
#line 1838
        __cil_tmp51 = (ULONG )__cil_tmp50;
#line 1838
        __cil_tmp52 = 0 + 8;
#line 1838
        __cil_tmp53 = 4 + __cil_tmp52;
#line 1838
        __cil_tmp54 = (unsigned int )irpStack;
#line 1838
        __cil_tmp55 = __cil_tmp54 + __cil_tmp53;
#line 1838
        __cil_tmp56 = *((ULONG *)__cil_tmp55);
#line 1838
        if (__cil_tmp56 == __cil_tmp51) {
          goto switch_1_exp_3;
        } else {
          {
#line 1841
          __cil_tmp57 = 32 << 2;
#line 1841
          __cil_tmp58 = 11 << 16;
#line 1841
          __cil_tmp59 = __cil_tmp58 | __cil_tmp57;
#line 1841
          __cil_tmp60 = (ULONG )__cil_tmp59;
#line 1841
          __cil_tmp61 = 0 + 8;
#line 1841
          __cil_tmp62 = 4 + __cil_tmp61;
#line 1841
          __cil_tmp63 = (unsigned int )irpStack;
#line 1841
          __cil_tmp64 = __cil_tmp63 + __cil_tmp62;
#line 1841
          __cil_tmp65 = *((ULONG *)__cil_tmp64);
#line 1841
          if (__cil_tmp65 == __cil_tmp60) {
            goto switch_1_exp_4;
          } else {
            {
#line 1844
            __cil_tmp66 = 16 << 2;
#line 1844
            __cil_tmp67 = 11 << 16;
#line 1844
            __cil_tmp68 = __cil_tmp67 | __cil_tmp66;
#line 1844
            __cil_tmp69 = (ULONG )__cil_tmp68;
#line 1844
            __cil_tmp70 = 0 + 8;
#line 1844
            __cil_tmp71 = 4 + __cil_tmp70;
#line 1844
            __cil_tmp72 = (unsigned int )irpStack;
#line 1844
            __cil_tmp73 = __cil_tmp72 + __cil_tmp71;
#line 1844
            __cil_tmp74 = *((ULONG *)__cil_tmp73);
#line 1844
            if (__cil_tmp74 == __cil_tmp69) {
              goto switch_1_exp_5;
            } else {
              {
#line 1847
              __cil_tmp75 = 2 << 2;
#line 1847
              __cil_tmp76 = 11 << 16;
#line 1847
              __cil_tmp77 = __cil_tmp76 | __cil_tmp75;
#line 1847
              __cil_tmp78 = (ULONG )__cil_tmp77;
#line 1847
              __cil_tmp79 = 0 + 8;
#line 1847
              __cil_tmp80 = 4 + __cil_tmp79;
#line 1847
              __cil_tmp81 = (unsigned int )irpStack;
#line 1847
              __cil_tmp82 = __cil_tmp81 + __cil_tmp80;
#line 1847
              __cil_tmp83 = *((ULONG *)__cil_tmp82);
#line 1847
              if (__cil_tmp83 == __cil_tmp78) {
                goto switch_1_exp_6;
              } else {
                {
#line 1850
                __cil_tmp84 = 8 << 2;
#line 1850
                __cil_tmp85 = 11 << 16;
#line 1850
                __cil_tmp86 = __cil_tmp85 | __cil_tmp84;
#line 1850
                __cil_tmp87 = (ULONG )__cil_tmp86;
#line 1850
                __cil_tmp88 = 0 + 8;
#line 1850
                __cil_tmp89 = 4 + __cil_tmp88;
#line 1850
                __cil_tmp90 = (unsigned int )irpStack;
#line 1850
                __cil_tmp91 = __cil_tmp90 + __cil_tmp89;
#line 1850
                __cil_tmp92 = *((ULONG *)__cil_tmp91);
#line 1850
                if (__cil_tmp92 == __cil_tmp87) {
                  goto switch_1_exp_7;
                } else {
                  {
#line 1853
                  __cil_tmp93 = 1 << 2;
#line 1853
                  __cil_tmp94 = 11 << 16;
#line 1853
                  __cil_tmp95 = __cil_tmp94 | __cil_tmp93;
#line 1853
                  __cil_tmp96 = (ULONG )__cil_tmp95;
#line 1853
                  __cil_tmp97 = 0 + 8;
#line 1853
                  __cil_tmp98 = 4 + __cil_tmp97;
#line 1853
                  __cil_tmp99 = (unsigned int )irpStack;
#line 1853
                  __cil_tmp100 = __cil_tmp99 + __cil_tmp98;
#line 1853
                  __cil_tmp101 = *((ULONG *)__cil_tmp100);
#line 1853
                  if (__cil_tmp101 == __cil_tmp96) {
                    goto switch_1_exp_8;
                  } else {
#line 1856
                    if (0) {
                      switch_1_exp_0: ;
                      {
#line 1858
                      __cil_tmp102 = (void *)0;
#line 1858
                      __cil_tmp103 = (unsigned int )__cil_tmp102;
#line 1858
                      __cil_tmp104 = 16 + 4;
#line 1858
                      __cil_tmp105 = (unsigned int )devExt;
#line 1858
                      __cil_tmp106 = __cil_tmp105 + __cil_tmp104;
#line 1858
                      __cil_tmp107 = *((PVOID *)__cil_tmp106);
#line 1858
                      __cil_tmp108 = (unsigned int )__cil_tmp107;
#line 1858
                      if (__cil_tmp108 != __cil_tmp103) {
#line 1859
                        status = -1073741757L;
                        goto switch_1_break;
                      } else {
                        {
#line 1862
                        __cil_tmp109 = (unsigned long )8U;
#line 1862
                        __cil_tmp110 = 0 + 4;
#line 1862
                        __cil_tmp111 = 4 + __cil_tmp110;
#line 1862
                        __cil_tmp112 = (unsigned int )irpStack;
#line 1862
                        __cil_tmp113 = __cil_tmp112 + __cil_tmp111;
#line 1862
                        __cil_tmp114 = *((ULONG *)__cil_tmp113);
#line 1862
                        if (__cil_tmp114 < __cil_tmp109) {
#line 1863
                          status = -1073741811L;
                          goto switch_1_break;
                        }
                        }
                      }
                      }
#line 1869
                      __cil_tmp115 = 0 + 12;
#line 1869
                      __cil_tmp116 = 4 + __cil_tmp115;
#line 1869
                      __cil_tmp117 = (unsigned int )irpStack;
#line 1869
                      __cil_tmp118 = __cil_tmp117 + __cil_tmp116;
#line 1869
                      __cil_tmp119 = *((PVOID *)__cil_tmp118);
#line 1869
                      connectData = (struct _CONNECT_DATA *)__cil_tmp119;
#line 1870
                      __cil_tmp120 = (unsigned int )devExt;
#line 1870
                      __cil_tmp121 = __cil_tmp120 + 16;
#line 1870
                      *((CONNECT_DATA *)__cil_tmp121) = *connectData;
#line 1871
                      *((PDEVICE_OBJECT *)connectData) = *((PDEVICE_OBJECT *)devExt);
#line 1872
                      __cil_tmp122 = (unsigned int )connectData;
#line 1872
                      __cil_tmp123 = __cil_tmp122 + 4;
#line 1872
                      *((PVOID *)__cil_tmp123) = (void *)(& KbFilter_ServiceCallback);
                      goto switch_1_break;
                      switch_1_exp_1: 
#line 1875
                      status = -1073741822L;
                      goto switch_1_break;
                      switch_1_exp_2: ;
                      {
#line 1878
                      __cil_tmp124 = (unsigned long )24U;
#line 1878
                      __cil_tmp125 = 0 + 4;
#line 1878
                      __cil_tmp126 = 4 + __cil_tmp125;
#line 1878
                      __cil_tmp127 = (unsigned int )irpStack;
#line 1878
                      __cil_tmp128 = __cil_tmp127 + __cil_tmp126;
#line 1878
                      __cil_tmp129 = *((ULONG *)__cil_tmp128);
#line 1878
                      if (__cil_tmp129 < __cil_tmp124) {
#line 1879
                        status = -1073741811L;
                        goto switch_1_break;
                      }
                      }
#line 1884
                      __cil_tmp130 = 0 + 12;
#line 1884
                      __cil_tmp131 = 4 + __cil_tmp130;
#line 1884
                      __cil_tmp132 = (unsigned int )irpStack;
#line 1884
                      __cil_tmp133 = __cil_tmp132 + __cil_tmp131;
#line 1884
                      __cil_tmp134 = *((PVOID *)__cil_tmp133);
#line 1884
                      hookKeyboard = (struct _INTERNAL_I8042_HOOK_KEYBOARD *)__cil_tmp134;
#line 1885
                      __cil_tmp135 = (unsigned int )devExt;
#line 1885
                      __cil_tmp136 = __cil_tmp135 + 24;
#line 1885
                      *((PVOID *)__cil_tmp136) = *((PVOID *)hookKeyboard);
#line 1886
                      *((PVOID *)hookKeyboard) = (void *)DeviceObject;
                      {
#line 1887
                      __cil_tmp137 = (unsigned int )hookKeyboard;
#line 1887
                      __cil_tmp138 = __cil_tmp137 + 4;
#line 1887
                      if (*((NTSTATUS (**)(PVOID InitializationContext , PVOID SynchFuncContext ,
                                           NTSTATUS (*ReadPort)(PVOID Context , PUCHAR Value ,
                                                                BOOLEAN WaitForACK ) ,
                                           NTSTATUS (*WritePort)(PVOID Context , UCHAR Value ,
                                                                 BOOLEAN WaitForACK ) ,
                                           PBOOLEAN TurnTranslationOn ))__cil_tmp138)) {
#line 1888
                        __cil_tmp139 = (unsigned int )devExt;
#line 1888
                        __cil_tmp140 = __cil_tmp139 + 28;
#line 1888
                        __cil_tmp141 = (unsigned int )hookKeyboard;
#line 1888
                        __cil_tmp142 = __cil_tmp141 + 4;
#line 1888
                        *((NTSTATUS (**)(PVOID InitializationContext , PVOID SynchFuncContext ,
                                         NTSTATUS (*ReadPort)(PVOID Context , PUCHAR Value ,
                                                              BOOLEAN WaitForACK ) ,
                                         NTSTATUS (*WritePort)(PVOID Context , UCHAR Value ,
                                                               BOOLEAN WaitForACK ) ,
                                         PBOOLEAN TurnTranslationOn ))__cil_tmp140) = *((NTSTATUS (**)(PVOID InitializationContext ,
                                                                                                       PVOID SynchFuncContext ,
                                                                                                       NTSTATUS (*ReadPort)(PVOID Context ,
                                                                                                                            PUCHAR Value ,
                                                                                                                            BOOLEAN WaitForACK ) ,
                                                                                                       NTSTATUS (*WritePort)(PVOID Context ,
                                                                                                                             UCHAR Value ,
                                                                                                                             BOOLEAN WaitForACK ) ,
                                                                                                       PBOOLEAN TurnTranslationOn ))__cil_tmp142);
                      }
                      }
#line 1892
                      __cil_tmp143 = (unsigned int )hookKeyboard;
#line 1892
                      __cil_tmp144 = __cil_tmp143 + 4;
#line 1892
                      *((NTSTATUS (**)(PVOID InitializationContext , PVOID SynchFuncContext ,
                                       NTSTATUS (*ReadPort)(PVOID Context , PUCHAR Value ,
                                                            BOOLEAN WaitForACK ) ,
                                       NTSTATUS (*WritePort)(PVOID Context , UCHAR Value ,
                                                             BOOLEAN WaitForACK ) ,
                                       PBOOLEAN TurnTranslationOn ))__cil_tmp144) = (NTSTATUS (*)(PVOID InitializationContext ,
                                                                                                  PVOID SynchFuncContext ,
                                                                                                  NTSTATUS (*ReadPort)(PVOID Context ,
                                                                                                                       PUCHAR Value ,
                                                                                                                       BOOLEAN WaitForACK ) ,
                                                                                                  NTSTATUS (*WritePort)(PVOID Context ,
                                                                                                                        UCHAR Value ,
                                                                                                                        BOOLEAN WaitForACK ) ,
                                                                                                  PBOOLEAN TurnTranslationOn ))(& KbFilter_InitializationRoutine);
                      {
#line 1901
                      __cil_tmp145 = (unsigned int )hookKeyboard;
#line 1901
                      __cil_tmp146 = __cil_tmp145 + 8;
#line 1901
                      if (*((BOOLEAN (**)(PVOID IsrContext , PKEYBOARD_INPUT_DATA CurrentInput ,
                                          POUTPUT_PACKET CurrentOutput , UCHAR StatusByte ,
                                          PUCHAR Byte , PBOOLEAN ContinueProcessing ,
                                          PKEYBOARD_SCAN_STATE ScanState ))__cil_tmp146)) {
#line 1902
                        __cil_tmp147 = (unsigned int )devExt;
#line 1902
                        __cil_tmp148 = __cil_tmp147 + 32;
#line 1902
                        __cil_tmp149 = (unsigned int )hookKeyboard;
#line 1902
                        __cil_tmp150 = __cil_tmp149 + 8;
#line 1902
                        *((BOOLEAN (**)(PVOID IsrContext , PKEYBOARD_INPUT_DATA CurrentInput ,
                                        POUTPUT_PACKET CurrentOutput , UCHAR StatusByte ,
                                        PUCHAR Byte , PBOOLEAN ContinueProcessing ,
                                        PKEYBOARD_SCAN_STATE ScanState ))__cil_tmp148) = *((BOOLEAN (**)(PVOID IsrContext ,
                                                                                                         PKEYBOARD_INPUT_DATA CurrentInput ,
                                                                                                         POUTPUT_PACKET CurrentOutput ,
                                                                                                         UCHAR StatusByte ,
                                                                                                         PUCHAR Byte ,
                                                                                                         PBOOLEAN ContinueProcessing ,
                                                                                                         PKEYBOARD_SCAN_STATE ScanState ))__cil_tmp150);
                      }
                      }
#line 1906
                      __cil_tmp151 = (unsigned int )hookKeyboard;
#line 1906
                      __cil_tmp152 = __cil_tmp151 + 8;
#line 1906
                      *((BOOLEAN (**)(PVOID IsrContext , PKEYBOARD_INPUT_DATA CurrentInput ,
                                      POUTPUT_PACKET CurrentOutput , UCHAR StatusByte ,
                                      PUCHAR Byte , PBOOLEAN ContinueProcessing ,
                                      PKEYBOARD_SCAN_STATE ScanState ))__cil_tmp152) = (BOOLEAN (*)(PVOID IsrContext ,
                                                                                                    PKEYBOARD_INPUT_DATA CurrentInput ,
                                                                                                    POUTPUT_PACKET CurrentOutput ,
                                                                                                    UCHAR StatusByte ,
                                                                                                    PUCHAR Byte ,
                                                                                                    PBOOLEAN ContinueProcessing ,
                                                                                                    PKEYBOARD_SCAN_STATE ScanState ))(& KbFilter_IsrHook);
#line 1911
                      __cil_tmp153 = (unsigned int )devExt;
#line 1911
                      __cil_tmp154 = __cil_tmp153 + 36;
#line 1911
                      __cil_tmp155 = (unsigned int )hookKeyboard;
#line 1911
                      __cil_tmp156 = __cil_tmp155 + 12;
#line 1911
                      *((void (**)(PVOID Context , UCHAR Value ))__cil_tmp154) = *((void (**)(PVOID Context ,
                                                                                              UCHAR Value ))__cil_tmp156);
#line 1912
                      __cil_tmp157 = (unsigned int )devExt;
#line 1912
                      __cil_tmp158 = __cil_tmp157 + 40;
#line 1912
                      __cil_tmp159 = (unsigned int )hookKeyboard;
#line 1912
                      __cil_tmp160 = __cil_tmp159 + 16;
#line 1912
                      *((void (**)(PVOID Context ))__cil_tmp158) = *((void (**)(PVOID Context ))__cil_tmp160);
#line 1913
                      __cil_tmp161 = (unsigned int )devExt;
#line 1913
                      __cil_tmp162 = __cil_tmp161 + 44;
#line 1913
                      __cil_tmp163 = (unsigned int )hookKeyboard;
#line 1913
                      __cil_tmp164 = __cil_tmp163 + 20;
#line 1913
                      *((PVOID *)__cil_tmp162) = *((PVOID *)__cil_tmp164);
#line 1914
                      status = 0L;
                      goto switch_1_break;
                      switch_1_exp_3: ;
                      switch_1_exp_4: ;
                      switch_1_exp_5: ;
                      switch_1_exp_6: ;
                      switch_1_exp_7: ;
                      switch_1_exp_8: ;
                      goto switch_1_break;
                    } else {
                      switch_1_break: ;
                    }
                  }
                  }
                }
                }
              }
              }
            }
            }
          }
          }
        }
        }
      }
      }
    }
    }
  }
  }
  {
#line 1935
  __cil_tmp165 = status >= 0L;
#line 1935
  if (! __cil_tmp165) {
#line 1937
    __cil_tmp166 = (unsigned int )Irp;
#line 1937
    __cil_tmp167 = __cil_tmp166 + 24;
#line 1937
    *((NTSTATUS *)__cil_tmp167) = status;
#line 1938
    myStatus = (int )status;
#line 1939
    IofCompleteRequest(Irp, (char)0);
#line 1941
    return (status);
  }
  }
#line 1946
  __cil_tmp168 = & KbFilter_DispatchPassThrough;
#line 1946
  tmp = (*__cil_tmp168)(DeviceObject, Irp);
#line 1948
  return (tmp);
}
}
#line 1951 "kbfiltr.i.cil.c"
NTSTATUS KbFilter_PnP(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ PDEVICE_EXTENSION devExt ;
  PIO_STACK_LOCATION irpStack ;
  NTSTATUS status ;
  KEVENT event ;
  PIO_STACK_LOCATION irpSp ;
  PIO_STACK_LOCATION nextIrpSp ;
  PIO_STACK_LOCATION irpSp___0 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  PVOID __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  UCHAR __cil_tmp20 ;
  int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  UCHAR __cil_tmp24 ;
  int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  UCHAR __cil_tmp28 ;
  int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  UCHAR __cil_tmp32 ;
  int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  UCHAR __cil_tmp36 ;
  int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  UCHAR __cil_tmp40 ;
  int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  UCHAR __cil_tmp44 ;
  int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  UCHAR __cil_tmp48 ;
  int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  UCHAR __cil_tmp52 ;
  int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  UCHAR __cil_tmp56 ;
  int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  UCHAR __cil_tmp60 ;
  int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  UCHAR __cil_tmp64 ;
  int __cil_tmp65 ;
  unsigned int __cil_tmp66 ;
  unsigned int __cil_tmp67 ;
  UCHAR __cil_tmp68 ;
  int __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  UCHAR __cil_tmp72 ;
  int __cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  unsigned int __cil_tmp75 ;
  UCHAR __cil_tmp76 ;
  int __cil_tmp77 ;
  unsigned int __cil_tmp78 ;
  unsigned int __cil_tmp79 ;
  UCHAR __cil_tmp80 ;
  int __cil_tmp81 ;
  unsigned int __cil_tmp82 ;
  unsigned int __cil_tmp83 ;
  UCHAR __cil_tmp84 ;
  int __cil_tmp85 ;
  unsigned int __cil_tmp86 ;
  unsigned int __cil_tmp87 ;
  UCHAR __cil_tmp88 ;
  int __cil_tmp89 ;
  unsigned int __cil_tmp90 ;
  unsigned int __cil_tmp91 ;
  UCHAR __cil_tmp92 ;
  int __cil_tmp93 ;
  unsigned int __cil_tmp94 ;
  unsigned int __cil_tmp95 ;
  UCHAR __cil_tmp96 ;
  int __cil_tmp97 ;
  unsigned int __cil_tmp98 ;
  unsigned int __cil_tmp99 ;
  UCHAR __cil_tmp100 ;
  int __cil_tmp101 ;
  unsigned int __cil_tmp102 ;
  unsigned int __cil_tmp103 ;
  unsigned int __cil_tmp104 ;
  unsigned int __cil_tmp105 ;
  unsigned int __cil_tmp106 ;
  unsigned int __cil_tmp107 ;
  unsigned int __cil_tmp108 ;
  unsigned int __cil_tmp109 ;
  unsigned int __cil_tmp110 ;
  unsigned int __cil_tmp111 ;
  struct _IO_STACK_LOCATION *__cil_tmp112 ;
  void *__cil_tmp113 ;
  void const   *__cil_tmp114 ;
  IO_STACK_LOCATION *__cil_tmp115 ;
  unsigned int __cil_tmp116 ;
  unsigned int __cil_tmp117 ;
  NTSTATUS (**__cil_tmp118)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ) ;
  long __cil_tmp119 ;
  unsigned int __cil_tmp120 ;
  unsigned int __cil_tmp121 ;
  unsigned int __cil_tmp122 ;
  unsigned int __cil_tmp123 ;
  unsigned int __cil_tmp124 ;
  unsigned int __cil_tmp125 ;
  unsigned int __cil_tmp126 ;
  unsigned int __cil_tmp127 ;
  struct _IO_STACK_LOCATION *__cil_tmp128 ;
  unsigned int __cil_tmp129 ;
  unsigned int __cil_tmp130 ;
  unsigned int __cil_tmp131 ;
  unsigned int __cil_tmp132 ;
  unsigned int __cil_tmp133 ;
  unsigned int __cil_tmp134 ;
  unsigned int __cil_tmp135 ;
  unsigned int __cil_tmp136 ;
  unsigned int __cil_tmp137 ;
  unsigned int __cil_tmp138 ;
  unsigned int __cil_tmp139 ;
  unsigned int __cil_tmp140 ;
  UCHAR __cil_tmp141 ;
  int __cil_tmp142 ;
  int __cil_tmp143 ;
  unsigned int __cil_tmp144 ;
  unsigned int __cil_tmp145 ;
  unsigned int __cil_tmp146 ;
  unsigned int __cil_tmp147 ;
  UCHAR __cil_tmp148 ;
  int __cil_tmp149 ;
  int __cil_tmp150 ;
  unsigned int __cil_tmp151 ;
  unsigned int __cil_tmp152 ;
  PDEVICE_OBJECT __cil_tmp153 ;
  void *__cil_tmp154 ;
  enum _KWAIT_REASON __cil_tmp155 ;
  void *__cil_tmp156 ;
  LARGE_INTEGER *__cil_tmp157 ;
  long __cil_tmp158 ;
  unsigned int __cil_tmp159 ;
  unsigned int __cil_tmp160 ;
  unsigned int __cil_tmp161 ;
  unsigned int __cil_tmp162 ;
  unsigned int __cil_tmp163 ;
  unsigned int __cil_tmp164 ;
  unsigned int __cil_tmp165 ;
  unsigned int __cil_tmp166 ;
  unsigned int __cil_tmp167 ;
  unsigned int __cil_tmp168 ;
  unsigned int __cil_tmp169 ;
  unsigned int __cil_tmp170 ;
  unsigned int __cil_tmp171 ;
  unsigned int __cil_tmp172 ;
  unsigned int __cil_tmp173 ;
  unsigned int __cil_tmp174 ;
  unsigned int __cil_tmp175 ;
  CHAR __cil_tmp176 ;
  int __cil_tmp177 ;
  int __cil_tmp178 ;
  unsigned int __cil_tmp179 ;
  unsigned int __cil_tmp180 ;
  unsigned int __cil_tmp181 ;
  unsigned int __cil_tmp182 ;
  unsigned int __cil_tmp183 ;
  unsigned int __cil_tmp184 ;
  unsigned int __cil_tmp185 ;
  unsigned int __cil_tmp186 ;
  unsigned int __cil_tmp187 ;
  unsigned int __cil_tmp188 ;
  struct _IO_STACK_LOCATION *__cil_tmp189 ;
  unsigned int __cil_tmp190 ;
  unsigned int __cil_tmp191 ;
  PDEVICE_OBJECT __cil_tmp192 ;
  unsigned int __cil_tmp193 ;
  unsigned int __cil_tmp194 ;
  unsigned int __cil_tmp195 ;
  unsigned int __cil_tmp196 ;
  unsigned int __cil_tmp197 ;
  unsigned int __cil_tmp198 ;
  CHAR __cil_tmp199 ;
  int __cil_tmp200 ;
  int __cil_tmp201 ;
  unsigned int __cil_tmp202 ;
  unsigned int __cil_tmp203 ;
  unsigned int __cil_tmp204 ;
  unsigned int __cil_tmp205 ;
  unsigned int __cil_tmp206 ;
  unsigned int __cil_tmp207 ;
  unsigned int __cil_tmp208 ;
  unsigned int __cil_tmp209 ;
  unsigned int __cil_tmp210 ;
  unsigned int __cil_tmp211 ;
  struct _IO_STACK_LOCATION *__cil_tmp212 ;
  unsigned int __cil_tmp213 ;
  unsigned int __cil_tmp214 ;
  PDEVICE_OBJECT __cil_tmp215 ;
  unsigned int __cil_tmp216 ;
  unsigned int __cil_tmp217 ;
  unsigned int __cil_tmp218 ;
  unsigned int __cil_tmp219 ;
  CHAR __cil_tmp220 ;
  int __cil_tmp221 ;
  int __cil_tmp222 ;
  unsigned int __cil_tmp223 ;
  unsigned int __cil_tmp224 ;
  unsigned int __cil_tmp225 ;
  unsigned int __cil_tmp226 ;
  unsigned int __cil_tmp227 ;
  unsigned int __cil_tmp228 ;
  unsigned int __cil_tmp229 ;
  unsigned int __cil_tmp230 ;
  unsigned int __cil_tmp231 ;
  unsigned int __cil_tmp232 ;
  struct _IO_STACK_LOCATION *__cil_tmp233 ;
  unsigned int __cil_tmp234 ;
  unsigned int __cil_tmp235 ;
  PDEVICE_OBJECT __cil_tmp236 ;

  {
#line 1961
  status = 0L;
#line 1962
  __cil_tmp10 = (unsigned int )DeviceObject;
#line 1962
  __cil_tmp11 = __cil_tmp10 + 40;
#line 1962
  __cil_tmp12 = *((PVOID *)__cil_tmp11);
#line 1962
  devExt = (struct _DEVICE_EXTENSION *)__cil_tmp12;
#line 1963
  __cil_tmp13 = 24 + 8;
#line 1963
  __cil_tmp14 = 0 + __cil_tmp13;
#line 1963
  __cil_tmp15 = 64 + __cil_tmp14;
#line 1963
  __cil_tmp16 = (unsigned int )Irp;
#line 1963
  __cil_tmp17 = __cil_tmp16 + __cil_tmp15;
#line 1963
  irpStack = *((struct _IO_STACK_LOCATION **)__cil_tmp17);
  {
#line 1964
  __cil_tmp18 = (unsigned int )irpStack;
#line 1964
  __cil_tmp19 = __cil_tmp18 + 1;
#line 1964
  __cil_tmp20 = *((UCHAR *)__cil_tmp19);
#line 1964
  __cil_tmp21 = (int )__cil_tmp20;
#line 1964
  if (__cil_tmp21 == 0) {
    goto switch_2_0;
  } else {
    {
#line 1967
    __cil_tmp22 = (unsigned int )irpStack;
#line 1967
    __cil_tmp23 = __cil_tmp22 + 1;
#line 1967
    __cil_tmp24 = *((UCHAR *)__cil_tmp23);
#line 1967
    __cil_tmp25 = (int )__cil_tmp24;
#line 1967
    if (__cil_tmp25 == 23) {
      goto switch_2_23;
    } else {
      {
#line 1970
      __cil_tmp26 = (unsigned int )irpStack;
#line 1970
      __cil_tmp27 = __cil_tmp26 + 1;
#line 1970
      __cil_tmp28 = *((UCHAR *)__cil_tmp27);
#line 1970
      __cil_tmp29 = (int )__cil_tmp28;
#line 1970
      if (__cil_tmp29 == 2) {
        goto switch_2_2;
      } else {
        {
#line 1973
        __cil_tmp30 = (unsigned int )irpStack;
#line 1973
        __cil_tmp31 = __cil_tmp30 + 1;
#line 1973
        __cil_tmp32 = *((UCHAR *)__cil_tmp31);
#line 1973
        __cil_tmp33 = (int )__cil_tmp32;
#line 1973
        if (__cil_tmp33 == 1) {
          goto switch_2_1;
        } else {
          {
#line 1976
          __cil_tmp34 = (unsigned int )irpStack;
#line 1976
          __cil_tmp35 = __cil_tmp34 + 1;
#line 1976
          __cil_tmp36 = *((UCHAR *)__cil_tmp35);
#line 1976
          __cil_tmp37 = (int )__cil_tmp36;
#line 1976
          if (__cil_tmp37 == 5) {
            goto switch_2_5;
          } else {
            {
#line 1979
            __cil_tmp38 = (unsigned int )irpStack;
#line 1979
            __cil_tmp39 = __cil_tmp38 + 1;
#line 1979
            __cil_tmp40 = *((UCHAR *)__cil_tmp39);
#line 1979
            __cil_tmp41 = (int )__cil_tmp40;
#line 1979
            if (__cil_tmp41 == 3) {
              goto switch_2_3;
            } else {
              {
#line 1982
              __cil_tmp42 = (unsigned int )irpStack;
#line 1982
              __cil_tmp43 = __cil_tmp42 + 1;
#line 1982
              __cil_tmp44 = *((UCHAR *)__cil_tmp43);
#line 1982
              __cil_tmp45 = (int )__cil_tmp44;
#line 1982
              if (__cil_tmp45 == 6) {
                goto switch_2_6;
              } else {
                {
#line 1985
                __cil_tmp46 = (unsigned int )irpStack;
#line 1985
                __cil_tmp47 = __cil_tmp46 + 1;
#line 1985
                __cil_tmp48 = *((UCHAR *)__cil_tmp47);
#line 1985
                __cil_tmp49 = (int )__cil_tmp48;
#line 1985
                if (__cil_tmp49 == 13) {
                  goto switch_2_13;
                } else {
                  {
#line 1988
                  __cil_tmp50 = (unsigned int )irpStack;
#line 1988
                  __cil_tmp51 = __cil_tmp50 + 1;
#line 1988
                  __cil_tmp52 = *((UCHAR *)__cil_tmp51);
#line 1988
                  __cil_tmp53 = (int )__cil_tmp52;
#line 1988
                  if (__cil_tmp53 == 4) {
                    goto switch_2_4;
                  } else {
                    {
#line 1991
                    __cil_tmp54 = (unsigned int )irpStack;
#line 1991
                    __cil_tmp55 = __cil_tmp54 + 1;
#line 1991
                    __cil_tmp56 = *((UCHAR *)__cil_tmp55);
#line 1991
                    __cil_tmp57 = (int )__cil_tmp56;
#line 1991
                    if (__cil_tmp57 == 7) {
                      goto switch_2_7;
                    } else {
                      {
#line 1994
                      __cil_tmp58 = (unsigned int )irpStack;
#line 1994
                      __cil_tmp59 = __cil_tmp58 + 1;
#line 1994
                      __cil_tmp60 = *((UCHAR *)__cil_tmp59);
#line 1994
                      __cil_tmp61 = (int )__cil_tmp60;
#line 1994
                      if (__cil_tmp61 == 8) {
                        goto switch_2_8;
                      } else {
                        {
#line 1997
                        __cil_tmp62 = (unsigned int )irpStack;
#line 1997
                        __cil_tmp63 = __cil_tmp62 + 1;
#line 1997
                        __cil_tmp64 = *((UCHAR *)__cil_tmp63);
#line 1997
                        __cil_tmp65 = (int )__cil_tmp64;
#line 1997
                        if (__cil_tmp65 == 9) {
                          goto switch_2_9;
                        } else {
                          {
#line 2000
                          __cil_tmp66 = (unsigned int )irpStack;
#line 2000
                          __cil_tmp67 = __cil_tmp66 + 1;
#line 2000
                          __cil_tmp68 = *((UCHAR *)__cil_tmp67);
#line 2000
                          __cil_tmp69 = (int )__cil_tmp68;
#line 2000
                          if (__cil_tmp69 == 12) {
                            goto switch_2_12;
                          } else {
                            {
#line 2003
                            __cil_tmp70 = (unsigned int )irpStack;
#line 2003
                            __cil_tmp71 = __cil_tmp70 + 1;
#line 2003
                            __cil_tmp72 = *((UCHAR *)__cil_tmp71);
#line 2003
                            __cil_tmp73 = (int )__cil_tmp72;
#line 2003
                            if (__cil_tmp73 == 10) {
                              goto switch_2_10;
                            } else {
                              {
#line 2006
                              __cil_tmp74 = (unsigned int )irpStack;
#line 2006
                              __cil_tmp75 = __cil_tmp74 + 1;
#line 2006
                              __cil_tmp76 = *((UCHAR *)__cil_tmp75);
#line 2006
                              __cil_tmp77 = (int )__cil_tmp76;
#line 2006
                              if (__cil_tmp77 == 11) {
                                goto switch_2_11;
                              } else {
                                {
#line 2009
                                __cil_tmp78 = (unsigned int )irpStack;
#line 2009
                                __cil_tmp79 = __cil_tmp78 + 1;
#line 2009
                                __cil_tmp80 = *((UCHAR *)__cil_tmp79);
#line 2009
                                __cil_tmp81 = (int )__cil_tmp80;
#line 2009
                                if (__cil_tmp81 == 15) {
                                  goto switch_2_15;
                                } else {
                                  {
#line 2012
                                  __cil_tmp82 = (unsigned int )irpStack;
#line 2012
                                  __cil_tmp83 = __cil_tmp82 + 1;
#line 2012
                                  __cil_tmp84 = *((UCHAR *)__cil_tmp83);
#line 2012
                                  __cil_tmp85 = (int )__cil_tmp84;
#line 2012
                                  if (__cil_tmp85 == 16) {
                                    goto switch_2_16;
                                  } else {
                                    {
#line 2015
                                    __cil_tmp86 = (unsigned int )irpStack;
#line 2015
                                    __cil_tmp87 = __cil_tmp86 + 1;
#line 2015
                                    __cil_tmp88 = *((UCHAR *)__cil_tmp87);
#line 2015
                                    __cil_tmp89 = (int )__cil_tmp88;
#line 2015
                                    if (__cil_tmp89 == 17) {
                                      goto switch_2_17;
                                    } else {
                                      {
#line 2018
                                      __cil_tmp90 = (unsigned int )irpStack;
#line 2018
                                      __cil_tmp91 = __cil_tmp90 + 1;
#line 2018
                                      __cil_tmp92 = *((UCHAR *)__cil_tmp91);
#line 2018
                                      __cil_tmp93 = (int )__cil_tmp92;
#line 2018
                                      if (__cil_tmp93 == 18) {
                                        goto switch_2_18;
                                      } else {
                                        {
#line 2021
                                        __cil_tmp94 = (unsigned int )irpStack;
#line 2021
                                        __cil_tmp95 = __cil_tmp94 + 1;
#line 2021
                                        __cil_tmp96 = *((UCHAR *)__cil_tmp95);
#line 2021
                                        __cil_tmp97 = (int )__cil_tmp96;
#line 2021
                                        if (__cil_tmp97 == 19) {
                                          goto switch_2_19;
                                        } else {
                                          {
#line 2024
                                          __cil_tmp98 = (unsigned int )irpStack;
#line 2024
                                          __cil_tmp99 = __cil_tmp98 + 1;
#line 2024
                                          __cil_tmp100 = *((UCHAR *)__cil_tmp99);
#line 2024
                                          __cil_tmp101 = (int )__cil_tmp100;
#line 2024
                                          if (__cil_tmp101 == 20) {
                                            goto switch_2_20;
                                          } else {
                                            goto switch_2_default;
#line 2029
                                            if (0) {
                                              switch_2_0: 
#line 2032
                                              __cil_tmp102 = 24 + 8;
#line 2032
                                              __cil_tmp103 = 0 + __cil_tmp102;
#line 2032
                                              __cil_tmp104 = 64 + __cil_tmp103;
#line 2032
                                              __cil_tmp105 = (unsigned int )Irp;
#line 2032
                                              __cil_tmp106 = __cil_tmp105 + __cil_tmp104;
#line 2032
                                              irpSp = *((struct _IO_STACK_LOCATION **)__cil_tmp106);
#line 2033
                                              __cil_tmp107 = 24 + 8;
#line 2033
                                              __cil_tmp108 = 0 + __cil_tmp107;
#line 2033
                                              __cil_tmp109 = 64 + __cil_tmp108;
#line 2033
                                              __cil_tmp110 = (unsigned int )Irp;
#line 2033
                                              __cil_tmp111 = __cil_tmp110 + __cil_tmp109;
#line 2033
                                              __cil_tmp112 = *((struct _IO_STACK_LOCATION **)__cil_tmp111);
#line 2033
                                              nextIrpSp = __cil_tmp112 - 1;
#line 2034
                                              __cil_tmp113 = (void *)nextIrpSp;
#line 2034
                                              __cil_tmp114 = (void const   *)irpSp;
#line 2034
                                              __cil_tmp115 = (IO_STACK_LOCATION *)0;
#line 2034
                                              __cil_tmp116 = (unsigned int )__cil_tmp115;
#line 2034
                                              __cil_tmp117 = __cil_tmp116 + 112;
#line 2034
                                              __cil_tmp118 = (NTSTATUS (**)(PDEVICE_OBJECT DeviceObject ,
                                                                            PIRP Irp ,
                                                                            PVOID Context ))__cil_tmp117;
#line 2034
                                              __cil_tmp119 = (long )__cil_tmp118;
#line 2034
                                              __cil_tmp120 = (unsigned int )__cil_tmp119;
#line 2034
                                              memcpy(__cil_tmp113, __cil_tmp114, __cil_tmp120);
#line 2035
                                              __cil_tmp121 = (unsigned int )nextIrpSp;
#line 2035
                                              __cil_tmp122 = __cil_tmp121 + 3;
#line 2035
                                              *((UCHAR *)__cil_tmp122) = (unsigned char)0;
#line 2038
                                              if (s != NP) {
#line 2040
                                                errorFn();
                                              } else {
#line 2043
                                                if (compRegistered != 0) {
#line 2045
                                                  errorFn();
                                                } else {
#line 2048
                                                  compRegistered = 1;
#line 2049
                                                  compFptr = & KbFilter_Complete;
                                                }
                                              }
#line 2053
                                              __cil_tmp123 = 24 + 8;
#line 2053
                                              __cil_tmp124 = 0 + __cil_tmp123;
#line 2053
                                              __cil_tmp125 = 64 + __cil_tmp124;
#line 2053
                                              __cil_tmp126 = (unsigned int )Irp;
#line 2053
                                              __cil_tmp127 = __cil_tmp126 + __cil_tmp125;
#line 2053
                                              __cil_tmp128 = *((struct _IO_STACK_LOCATION **)__cil_tmp127);
#line 2053
                                              irpSp___0 = __cil_tmp128 - 1;
#line 2054
                                              __cil_tmp129 = (unsigned int )irpSp___0;
#line 2054
                                              __cil_tmp130 = __cil_tmp129 + 112;
#line 2054
                                              *((NTSTATUS (**)(PDEVICE_OBJECT DeviceObject ,
                                                               PIRP Irp , PVOID Context ))__cil_tmp130) = & KbFilter_Complete;
#line 2055
                                              __cil_tmp131 = (unsigned int )irpSp___0;
#line 2055
                                              __cil_tmp132 = __cil_tmp131 + 116;
#line 2055
                                              *((PVOID *)__cil_tmp132) = (void *)(& event);
#line 2056
                                              __cil_tmp133 = (unsigned int )irpSp___0;
#line 2056
                                              __cil_tmp134 = __cil_tmp133 + 3;
#line 2056
                                              *((UCHAR *)__cil_tmp134) = (unsigned char)0;
#line 2057
                                              __cil_tmp135 = (unsigned int )irpSp___0;
#line 2057
                                              __cil_tmp136 = __cil_tmp135 + 3;
#line 2057
                                              *((UCHAR *)__cil_tmp136) = (unsigned char)64;
#line 2058
                                              __cil_tmp137 = (unsigned int )irpSp___0;
#line 2058
                                              __cil_tmp138 = __cil_tmp137 + 3;
#line 2058
                                              __cil_tmp139 = (unsigned int )irpSp___0;
#line 2058
                                              __cil_tmp140 = __cil_tmp139 + 3;
#line 2058
                                              __cil_tmp141 = *((UCHAR *)__cil_tmp140);
#line 2058
                                              __cil_tmp142 = (int )__cil_tmp141;
#line 2058
                                              __cil_tmp143 = __cil_tmp142 | 128;
#line 2058
                                              *((UCHAR *)__cil_tmp138) = (unsigned char )__cil_tmp143;
#line 2059
                                              __cil_tmp144 = (unsigned int )irpSp___0;
#line 2059
                                              __cil_tmp145 = __cil_tmp144 + 3;
#line 2059
                                              __cil_tmp146 = (unsigned int )irpSp___0;
#line 2059
                                              __cil_tmp147 = __cil_tmp146 + 3;
#line 2059
                                              __cil_tmp148 = *((UCHAR *)__cil_tmp147);
#line 2059
                                              __cil_tmp149 = (int )__cil_tmp148;
#line 2059
                                              __cil_tmp150 = __cil_tmp149 | 32;
#line 2059
                                              *((UCHAR *)__cil_tmp145) = (unsigned char )__cil_tmp150;
#line 2060
                                              __cil_tmp151 = (unsigned int )devExt;
#line 2060
                                              __cil_tmp152 = __cil_tmp151 + 8;
#line 2060
                                              __cil_tmp153 = *((PDEVICE_OBJECT *)__cil_tmp152);
#line 2060
                                              status = IofCallDriver(__cil_tmp153,
                                                                     Irp);
#line 2063
                                              if (259L == status) {
#line 2065
                                                __cil_tmp154 = (void *)(& event);
#line 2065
                                                __cil_tmp155 = (enum _KWAIT_REASON )0;
#line 2065
                                                __cil_tmp156 = (void *)0;
#line 2065
                                                __cil_tmp157 = (LARGE_INTEGER *)__cil_tmp156;
#line 2065
                                                KeWaitForSingleObject(__cil_tmp154,
                                                                      __cil_tmp155,
                                                                      (char)0, (unsigned char)0,
                                                                      __cil_tmp157);
                                              }
#line 2071
                                              if (status >= 0L) {
                                                {
#line 2072
                                                __cil_tmp158 = (long )myStatus;
#line 2072
                                                if (__cil_tmp158 >= 0L) {
#line 2073
                                                  __cil_tmp159 = (unsigned int )devExt;
#line 2073
                                                  __cil_tmp160 = __cil_tmp159 + 80;
#line 2073
                                                  *((BOOLEAN *)__cil_tmp160) = (unsigned char)1;
#line 2074
                                                  __cil_tmp161 = (unsigned int )devExt;
#line 2074
                                                  __cil_tmp162 = __cil_tmp161 + 82;
#line 2074
                                                  *((BOOLEAN *)__cil_tmp162) = (unsigned char)0;
#line 2075
                                                  __cil_tmp163 = (unsigned int )devExt;
#line 2075
                                                  __cil_tmp164 = __cil_tmp163 + 81;
#line 2075
                                                  *((BOOLEAN *)__cil_tmp164) = (unsigned char)0;
                                                }
                                                }
                                              }
#line 2083
                                              __cil_tmp165 = (unsigned int )Irp;
#line 2083
                                              __cil_tmp166 = __cil_tmp165 + 24;
#line 2083
                                              *((NTSTATUS *)__cil_tmp166) = status;
#line 2084
                                              myStatus = (int )status;
#line 2085
                                              __cil_tmp167 = 24 + 4;
#line 2085
                                              __cil_tmp168 = (unsigned int )Irp;
#line 2085
                                              __cil_tmp169 = __cil_tmp168 + __cil_tmp167;
#line 2085
                                              *((ULONG_PTR *)__cil_tmp169) = 0UL;
#line 2086
                                              IofCompleteRequest(Irp, (char)0);
                                              goto switch_2_break;
                                              switch_2_23: 
#line 2090
                                              __cil_tmp170 = (unsigned int )devExt;
#line 2090
                                              __cil_tmp171 = __cil_tmp170 + 81;
#line 2090
                                              *((BOOLEAN *)__cil_tmp171) = (unsigned char)1;
#line 2091
                                              if (s == NP) {
#line 2092
                                                s = SKIP1;
                                              } else {
#line 2095
                                                errorFn();
                                              }
#line 2099
                                              __cil_tmp172 = (unsigned int )Irp;
#line 2099
                                              __cil_tmp173 = __cil_tmp172 + 35;
#line 2099
                                              __cil_tmp174 = (unsigned int )Irp;
#line 2099
                                              __cil_tmp175 = __cil_tmp174 + 35;
#line 2099
                                              __cil_tmp176 = *((CHAR *)__cil_tmp175);
#line 2099
                                              __cil_tmp177 = (int )__cil_tmp176;
#line 2099
                                              __cil_tmp178 = __cil_tmp177 + 1;
#line 2099
                                              *((CHAR *)__cil_tmp173) = (char )__cil_tmp178;
#line 2100
                                              __cil_tmp179 = 24 + 8;
#line 2100
                                              __cil_tmp180 = 0 + __cil_tmp179;
#line 2100
                                              __cil_tmp181 = 64 + __cil_tmp180;
#line 2100
                                              __cil_tmp182 = (unsigned int )Irp;
#line 2100
                                              __cil_tmp183 = __cil_tmp182 + __cil_tmp181;
#line 2100
                                              __cil_tmp184 = 24 + 8;
#line 2100
                                              __cil_tmp185 = 0 + __cil_tmp184;
#line 2100
                                              __cil_tmp186 = 64 + __cil_tmp185;
#line 2100
                                              __cil_tmp187 = (unsigned int )Irp;
#line 2100
                                              __cil_tmp188 = __cil_tmp187 + __cil_tmp186;
#line 2100
                                              __cil_tmp189 = *((struct _IO_STACK_LOCATION **)__cil_tmp188);
#line 2100
                                              *((struct _IO_STACK_LOCATION **)__cil_tmp183) = __cil_tmp189 + 1;
#line 2101
                                              __cil_tmp190 = (unsigned int )devExt;
#line 2101
                                              __cil_tmp191 = __cil_tmp190 + 8;
#line 2101
                                              __cil_tmp192 = *((PDEVICE_OBJECT *)__cil_tmp191);
#line 2101
                                              status = IofCallDriver(__cil_tmp192,
                                                                     Irp);
                                              goto switch_2_break;
                                              switch_2_2: 
#line 2106
                                              __cil_tmp193 = (unsigned int )devExt;
#line 2106
                                              __cil_tmp194 = __cil_tmp193 + 82;
#line 2106
                                              *((BOOLEAN *)__cil_tmp194) = (unsigned char)1;
#line 2107
                                              if (s == NP) {
#line 2108
                                                s = SKIP1;
                                              } else {
#line 2111
                                                errorFn();
                                              }
#line 2115
                                              __cil_tmp195 = (unsigned int )Irp;
#line 2115
                                              __cil_tmp196 = __cil_tmp195 + 35;
#line 2115
                                              __cil_tmp197 = (unsigned int )Irp;
#line 2115
                                              __cil_tmp198 = __cil_tmp197 + 35;
#line 2115
                                              __cil_tmp199 = *((CHAR *)__cil_tmp198);
#line 2115
                                              __cil_tmp200 = (int )__cil_tmp199;
#line 2115
                                              __cil_tmp201 = __cil_tmp200 + 1;
#line 2115
                                              *((CHAR *)__cil_tmp196) = (char )__cil_tmp201;
#line 2116
                                              __cil_tmp202 = 24 + 8;
#line 2116
                                              __cil_tmp203 = 0 + __cil_tmp202;
#line 2116
                                              __cil_tmp204 = 64 + __cil_tmp203;
#line 2116
                                              __cil_tmp205 = (unsigned int )Irp;
#line 2116
                                              __cil_tmp206 = __cil_tmp205 + __cil_tmp204;
#line 2116
                                              __cil_tmp207 = 24 + 8;
#line 2116
                                              __cil_tmp208 = 0 + __cil_tmp207;
#line 2116
                                              __cil_tmp209 = 64 + __cil_tmp208;
#line 2116
                                              __cil_tmp210 = (unsigned int )Irp;
#line 2116
                                              __cil_tmp211 = __cil_tmp210 + __cil_tmp209;
#line 2116
                                              __cil_tmp212 = *((struct _IO_STACK_LOCATION **)__cil_tmp211);
#line 2116
                                              *((struct _IO_STACK_LOCATION **)__cil_tmp206) = __cil_tmp212 + 1;
#line 2117
                                              __cil_tmp213 = (unsigned int )devExt;
#line 2117
                                              __cil_tmp214 = __cil_tmp213 + 8;
#line 2117
                                              __cil_tmp215 = *((PDEVICE_OBJECT *)__cil_tmp214);
#line 2117
                                              IofCallDriver(__cil_tmp215, Irp);
#line 2120
                                              status = 0L;
                                              goto switch_2_break;
                                              switch_2_1: ;
                                              switch_2_5: ;
                                              switch_2_3: ;
                                              switch_2_6: ;
                                              switch_2_13: ;
                                              switch_2_4: ;
                                              switch_2_7: ;
                                              switch_2_8: ;
                                              switch_2_9: ;
                                              switch_2_12: ;
                                              switch_2_10: ;
                                              switch_2_11: ;
                                              switch_2_15: ;
                                              switch_2_16: ;
                                              switch_2_17: ;
                                              switch_2_18: ;
                                              switch_2_19: ;
                                              switch_2_20: ;
                                              switch_2_default: ;
#line 2142
                                              if (s == NP) {
#line 2143
                                                s = SKIP1;
                                              } else {
#line 2146
                                                errorFn();
                                              }
#line 2150
                                              __cil_tmp216 = (unsigned int )Irp;
#line 2150
                                              __cil_tmp217 = __cil_tmp216 + 35;
#line 2150
                                              __cil_tmp218 = (unsigned int )Irp;
#line 2150
                                              __cil_tmp219 = __cil_tmp218 + 35;
#line 2150
                                              __cil_tmp220 = *((CHAR *)__cil_tmp219);
#line 2150
                                              __cil_tmp221 = (int )__cil_tmp220;
#line 2150
                                              __cil_tmp222 = __cil_tmp221 + 1;
#line 2150
                                              *((CHAR *)__cil_tmp217) = (char )__cil_tmp222;
#line 2151
                                              __cil_tmp223 = 24 + 8;
#line 2151
                                              __cil_tmp224 = 0 + __cil_tmp223;
#line 2151
                                              __cil_tmp225 = 64 + __cil_tmp224;
#line 2151
                                              __cil_tmp226 = (unsigned int )Irp;
#line 2151
                                              __cil_tmp227 = __cil_tmp226 + __cil_tmp225;
#line 2151
                                              __cil_tmp228 = 24 + 8;
#line 2151
                                              __cil_tmp229 = 0 + __cil_tmp228;
#line 2151
                                              __cil_tmp230 = 64 + __cil_tmp229;
#line 2151
                                              __cil_tmp231 = (unsigned int )Irp;
#line 2151
                                              __cil_tmp232 = __cil_tmp231 + __cil_tmp230;
#line 2151
                                              __cil_tmp233 = *((struct _IO_STACK_LOCATION **)__cil_tmp232);
#line 2151
                                              *((struct _IO_STACK_LOCATION **)__cil_tmp227) = __cil_tmp233 + 1;
#line 2152
                                              __cil_tmp234 = (unsigned int )devExt;
#line 2152
                                              __cil_tmp235 = __cil_tmp234 + 8;
#line 2152
                                              __cil_tmp236 = *((PDEVICE_OBJECT *)__cil_tmp235);
#line 2152
                                              status = IofCallDriver(__cil_tmp236,
                                                                     Irp);
                                              goto switch_2_break;
                                            } else {
                                              switch_2_break: ;
                                            }
                                          }
                                          }
                                        }
                                        }
                                      }
                                      }
                                    }
                                    }
                                  }
                                  }
                                }
                                }
                              }
                              }
                            }
                            }
                          }
                          }
                        }
                        }
                      }
                      }
                    }
                    }
                  }
                  }
                }
                }
              }
              }
            }
            }
          }
          }
        }
        }
      }
      }
    }
    }
  }
  }
#line 2181
  return (status);
}
}
#line 2184 "kbfiltr.i.cil.c"
NTSTATUS KbFilter_Power(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ PIO_STACK_LOCATION irpStack ;
  PDEVICE_EXTENSION devExt ;
  POWER_STATE powerState ;
  POWER_STATE_TYPE powerType ;
  NTSTATUS tmp ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  PVOID __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  UCHAR __cil_tmp26 ;
  int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  UCHAR __cil_tmp30 ;
  int __cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  UCHAR __cil_tmp34 ;
  int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  UCHAR __cil_tmp38 ;
  int __cil_tmp39 ;
  int __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  CHAR __cil_tmp47 ;
  int __cil_tmp48 ;
  int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  struct _IO_STACK_LOCATION *__cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  PDEVICE_OBJECT __cil_tmp63 ;

  {
#line 2192
  __cil_tmp8 = (unsigned int )DeviceObject;
#line 2192
  __cil_tmp9 = __cil_tmp8 + 40;
#line 2192
  __cil_tmp10 = *((PVOID *)__cil_tmp9);
#line 2192
  devExt = (struct _DEVICE_EXTENSION *)__cil_tmp10;
#line 2193
  __cil_tmp11 = 24 + 8;
#line 2193
  __cil_tmp12 = 0 + __cil_tmp11;
#line 2193
  __cil_tmp13 = 64 + __cil_tmp12;
#line 2193
  __cil_tmp14 = (unsigned int )Irp;
#line 2193
  __cil_tmp15 = __cil_tmp14 + __cil_tmp13;
#line 2193
  irpStack = *((struct _IO_STACK_LOCATION **)__cil_tmp15);
#line 2194
  __cil_tmp16 = 0 + 4;
#line 2194
  __cil_tmp17 = 4 + __cil_tmp16;
#line 2194
  __cil_tmp18 = (unsigned int )irpStack;
#line 2194
  __cil_tmp19 = __cil_tmp18 + __cil_tmp17;
#line 2194
  powerType = *((POWER_STATE_TYPE *)__cil_tmp19);
#line 2195
  __cil_tmp20 = 0 + 36;
#line 2195
  __cil_tmp21 = 4 + __cil_tmp20;
#line 2195
  __cil_tmp22 = (unsigned int )irpStack;
#line 2195
  __cil_tmp23 = __cil_tmp22 + __cil_tmp21;
#line 2195
  powerState = *((POWER_STATE *)__cil_tmp23);
  {
#line 2196
  __cil_tmp24 = (unsigned int )irpStack;
#line 2196
  __cil_tmp25 = __cil_tmp24 + 1;
#line 2196
  __cil_tmp26 = *((UCHAR *)__cil_tmp25);
#line 2196
  __cil_tmp27 = (int )__cil_tmp26;
#line 2196
  if (__cil_tmp27 == 2) {
    goto switch_3_2;
  } else {
    {
#line 2199
    __cil_tmp28 = (unsigned int )irpStack;
#line 2199
    __cil_tmp29 = __cil_tmp28 + 1;
#line 2199
    __cil_tmp30 = *((UCHAR *)__cil_tmp29);
#line 2199
    __cil_tmp31 = (int )__cil_tmp30;
#line 2199
    if (__cil_tmp31 == 1) {
      goto switch_3_1;
    } else {
      {
#line 2202
      __cil_tmp32 = (unsigned int )irpStack;
#line 2202
      __cil_tmp33 = __cil_tmp32 + 1;
#line 2202
      __cil_tmp34 = *((UCHAR *)__cil_tmp33);
#line 2202
      __cil_tmp35 = (int )__cil_tmp34;
#line 2202
      if (__cil_tmp35 == 0) {
        goto switch_3_0;
      } else {
        {
#line 2205
        __cil_tmp36 = (unsigned int )irpStack;
#line 2205
        __cil_tmp37 = __cil_tmp36 + 1;
#line 2205
        __cil_tmp38 = *((UCHAR *)__cil_tmp37);
#line 2205
        __cil_tmp39 = (int )__cil_tmp38;
#line 2205
        if (__cil_tmp39 == 3) {
          goto switch_3_3;
        } else {
          goto switch_3_default;
#line 2210
          if (0) {
            switch_3_2: ;
            {
#line 2212
            __cil_tmp40 = (int )powerType;
#line 2212
            if (__cil_tmp40 == 1) {
#line 2213
              __cil_tmp41 = (unsigned int )devExt;
#line 2213
              __cil_tmp42 = __cil_tmp41 + 48;
#line 2213
              *((DEVICE_POWER_STATE *)__cil_tmp42) = powerState.DeviceState;
            }
            }
            switch_3_1: ;
            switch_3_0: ;
            switch_3_3: ;
            switch_3_default: ;
            goto switch_3_break;
          } else {
            switch_3_break: ;
          }
        }
        }
      }
      }
    }
    }
  }
  }
#line 2233
  if (s == NP) {
#line 2234
    s = SKIP1;
  } else {
#line 2237
    errorFn();
  }
#line 2241
  __cil_tmp43 = (unsigned int )Irp;
#line 2241
  __cil_tmp44 = __cil_tmp43 + 35;
#line 2241
  __cil_tmp45 = (unsigned int )Irp;
#line 2241
  __cil_tmp46 = __cil_tmp45 + 35;
#line 2241
  __cil_tmp47 = *((CHAR *)__cil_tmp46);
#line 2241
  __cil_tmp48 = (int )__cil_tmp47;
#line 2241
  __cil_tmp49 = __cil_tmp48 + 1;
#line 2241
  *((CHAR *)__cil_tmp44) = (char )__cil_tmp49;
#line 2242
  __cil_tmp50 = 24 + 8;
#line 2242
  __cil_tmp51 = 0 + __cil_tmp50;
#line 2242
  __cil_tmp52 = 64 + __cil_tmp51;
#line 2242
  __cil_tmp53 = (unsigned int )Irp;
#line 2242
  __cil_tmp54 = __cil_tmp53 + __cil_tmp52;
#line 2242
  __cil_tmp55 = 24 + 8;
#line 2242
  __cil_tmp56 = 0 + __cil_tmp55;
#line 2242
  __cil_tmp57 = 64 + __cil_tmp56;
#line 2242
  __cil_tmp58 = (unsigned int )Irp;
#line 2242
  __cil_tmp59 = __cil_tmp58 + __cil_tmp57;
#line 2242
  __cil_tmp60 = *((struct _IO_STACK_LOCATION **)__cil_tmp59);
#line 2242
  *((struct _IO_STACK_LOCATION **)__cil_tmp54) = __cil_tmp60 + 1;
#line 2243
  __cil_tmp61 = (unsigned int )devExt;
#line 2243
  __cil_tmp62 = __cil_tmp61 + 8;
#line 2243
  __cil_tmp63 = *((PDEVICE_OBJECT *)__cil_tmp62);
#line 2243
  tmp = PoCallDriver(__cil_tmp63, Irp);
#line 2245
  return (tmp);
}
}
#line 2248 "kbfiltr.i.cil.c"
NTSTATUS KbFilter_InitializationRoutine(PDEVICE_OBJECT DeviceObject , PVOID SynchFuncContext ,
                                        NTSTATUS (*ReadPort)(PVOID Context , PUCHAR Value ,
                                                             BOOLEAN WaitForACK ) ,
                                        NTSTATUS (*WritePort)(PVOID Context , UCHAR Value ,
                                                              BOOLEAN WaitForACK ) ,
                                        PBOOLEAN TurnTranslationOn ) 
{ PDEVICE_EXTENSION devExt ;
  NTSTATUS status ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  PVOID __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  NTSTATUS (*__cil_tmp15)(PVOID InitializationContext , PVOID SynchFuncContext , NTSTATUS (*ReadPort)(PVOID Context ,
                                                                                                      PUCHAR Value ,
                                                                                                      BOOLEAN WaitForACK ) ,
                          NTSTATUS (*WritePort)(PVOID Context , UCHAR Value , BOOLEAN WaitForACK ) ,
                          PBOOLEAN TurnTranslationOn ) ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  PVOID __cil_tmp18 ;
  int __cil_tmp19 ;

  {
#line 2258
  status = 0L;
#line 2259
  __cil_tmp8 = (unsigned int )DeviceObject;
#line 2259
  __cil_tmp9 = __cil_tmp8 + 40;
#line 2259
  __cil_tmp10 = *((PVOID *)__cil_tmp9);
#line 2259
  devExt = (struct _DEVICE_EXTENSION *)__cil_tmp10;
  {
#line 2260
  __cil_tmp11 = (unsigned int )devExt;
#line 2260
  __cil_tmp12 = __cil_tmp11 + 28;
#line 2260
  if (*((NTSTATUS (**)(PVOID InitializationContext , PVOID SynchFuncContext , NTSTATUS (*ReadPort)(PVOID Context ,
                                                                                                   PUCHAR Value ,
                                                                                                   BOOLEAN WaitForACK ) ,
                       NTSTATUS (*WritePort)(PVOID Context , UCHAR Value , BOOLEAN WaitForACK ) ,
                       PBOOLEAN TurnTranslationOn ))__cil_tmp12)) {
#line 2262
    __cil_tmp13 = (unsigned int )devExt;
#line 2262
    __cil_tmp14 = __cil_tmp13 + 28;
#line 2262
    __cil_tmp15 = *((NTSTATUS (**)(PVOID InitializationContext , PVOID SynchFuncContext ,
                                   NTSTATUS (*ReadPort)(PVOID Context , PUCHAR Value ,
                                                        BOOLEAN WaitForACK ) , NTSTATUS (*WritePort)(PVOID Context ,
                                                                                                     UCHAR Value ,
                                                                                                     BOOLEAN WaitForACK ) ,
                                   PBOOLEAN TurnTranslationOn ))__cil_tmp14);
#line 2262
    __cil_tmp16 = (unsigned int )devExt;
#line 2262
    __cil_tmp17 = __cil_tmp16 + 24;
#line 2262
    __cil_tmp18 = *((PVOID *)__cil_tmp17);
#line 2262
    status = (*__cil_tmp15)(__cil_tmp18, SynchFuncContext, ReadPort, WritePort, TurnTranslationOn);
    {
#line 2265
    __cil_tmp19 = status >= 0L;
#line 2265
    if (! __cil_tmp19) {
#line 2266
      return (status);
    }
    }
  }
  }
#line 2273
  *TurnTranslationOn = (unsigned char)1;
#line 2274
  return (status);
}
}
#line 2277 "kbfiltr.i.cil.c"
BOOLEAN KbFilter_IsrHook(PDEVICE_OBJECT DeviceObject , PKEYBOARD_INPUT_DATA CurrentInput ,
                         POUTPUT_PACKET CurrentOutput , UCHAR StatusByte , PUCHAR DataByte ,
                         PBOOLEAN ContinueProcessing , PKEYBOARD_SCAN_STATE ScanState ) 
{ PDEVICE_EXTENSION devExt ;
  BOOLEAN retVal ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  PVOID __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  BOOLEAN (*__cil_tmp17)(PVOID IsrContext , PKEYBOARD_INPUT_DATA CurrentInput , POUTPUT_PACKET CurrentOutput ,
                         UCHAR StatusByte , PUCHAR Byte , PBOOLEAN ContinueProcessing ,
                         PKEYBOARD_SCAN_STATE ScanState ) ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  PVOID __cil_tmp20 ;
  BOOLEAN __cil_tmp21 ;

  {
#line 2284
  retVal = (unsigned char)1;
#line 2285
  __cil_tmp10 = (unsigned int )DeviceObject;
#line 2285
  __cil_tmp11 = __cil_tmp10 + 40;
#line 2285
  __cil_tmp12 = *((PVOID *)__cil_tmp11);
#line 2285
  devExt = (struct _DEVICE_EXTENSION *)__cil_tmp12;
  {
#line 2286
  __cil_tmp13 = (unsigned int )devExt;
#line 2286
  __cil_tmp14 = __cil_tmp13 + 32;
#line 2286
  if (*((BOOLEAN (**)(PVOID IsrContext , PKEYBOARD_INPUT_DATA CurrentInput , POUTPUT_PACKET CurrentOutput ,
                      UCHAR StatusByte , PUCHAR Byte , PBOOLEAN ContinueProcessing ,
                      PKEYBOARD_SCAN_STATE ScanState ))__cil_tmp14)) {
#line 2288
    __cil_tmp15 = (unsigned int )devExt;
#line 2288
    __cil_tmp16 = __cil_tmp15 + 32;
#line 2288
    __cil_tmp17 = *((BOOLEAN (**)(PVOID IsrContext , PKEYBOARD_INPUT_DATA CurrentInput ,
                                  POUTPUT_PACKET CurrentOutput , UCHAR StatusByte ,
                                  PUCHAR Byte , PBOOLEAN ContinueProcessing , PKEYBOARD_SCAN_STATE ScanState ))__cil_tmp16);
#line 2288
    __cil_tmp18 = (unsigned int )devExt;
#line 2288
    __cil_tmp19 = __cil_tmp18 + 24;
#line 2288
    __cil_tmp20 = *((PVOID *)__cil_tmp19);
#line 2288
    retVal = (*__cil_tmp17)(__cil_tmp20, CurrentInput, CurrentOutput, StatusByte,
                            DataByte, ContinueProcessing, ScanState);
#line 2291
    if (! retVal) {
#line 2292
      return (retVal);
    } else {
      {
#line 2294
      __cil_tmp21 = *ContinueProcessing;
#line 2294
      if (! __cil_tmp21) {
#line 2295
        return (retVal);
      }
      }
    }
  }
  }
#line 2303
  *ContinueProcessing = (unsigned char)1;
#line 2304
  return (retVal);
}
}
#line 2307 "kbfiltr.i.cil.c"
void KbFilter_ServiceCallback(PDEVICE_OBJECT DeviceObject , PKEYBOARD_INPUT_DATA InputDataStart ,
                              PKEYBOARD_INPUT_DATA InputDataEnd , PULONG InputDataConsumed ) 
{ PDEVICE_EXTENSION devExt ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  PVOID __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  PVOID __cil_tmp12 ;
  void (*__cil_tmp13)(PVOID NormalContext , PVOID SystemArgument1 , PVOID SystemArgument2 ,
                      PVOID SystemArgument3 ) ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  PDEVICE_OBJECT __cil_tmp16 ;
  void *__cil_tmp17 ;
  void *__cil_tmp18 ;
  void *__cil_tmp19 ;
  void *__cil_tmp20 ;

  {
#line 2313
  __cil_tmp6 = (unsigned int )DeviceObject;
#line 2313
  __cil_tmp7 = __cil_tmp6 + 40;
#line 2313
  __cil_tmp8 = *((PVOID *)__cil_tmp7);
#line 2313
  devExt = (struct _DEVICE_EXTENSION *)__cil_tmp8;
#line 2314
  __cil_tmp9 = 16 + 4;
#line 2314
  __cil_tmp10 = (unsigned int )devExt;
#line 2314
  __cil_tmp11 = __cil_tmp10 + __cil_tmp9;
#line 2314
  __cil_tmp12 = *((PVOID *)__cil_tmp11);
#line 2314
  __cil_tmp13 = (void (*)(PVOID NormalContext , PVOID SystemArgument1 , PVOID SystemArgument2 ,
                          PVOID SystemArgument3 ))__cil_tmp12;
#line 2314
  __cil_tmp14 = (unsigned int )devExt;
#line 2314
  __cil_tmp15 = __cil_tmp14 + 16;
#line 2314
  __cil_tmp16 = *((PDEVICE_OBJECT *)__cil_tmp15);
#line 2314
  __cil_tmp17 = (void *)__cil_tmp16;
#line 2314
  __cil_tmp18 = (void *)InputDataStart;
#line 2314
  __cil_tmp19 = (void *)InputDataEnd;
#line 2314
  __cil_tmp20 = (void *)InputDataConsumed;
#line 2314
  (*__cil_tmp13)(__cil_tmp17, __cil_tmp18, __cil_tmp19, __cil_tmp20);
#line 2320
  return;
}
}
#line 2323 "kbfiltr.i.cil.c"
void KbFilter_Unload(PDRIVER_OBJECT Driver ) 
{ 

  {
#line 2327
  return;
}
}
#line 2334
#pragma warning(push)
#line 2335
#pragma warning(disable:4035)
#line 2336
#pragma warning(pop)
#line 2338
#pragma warning(disable:4103)
#line 2339
#pragma warning(disable:4103)
#line 2340
#pragma warning(push)
#line 2341
#pragma warning(disable:4035)
#line 2342
#pragma warning(pop)
#line 2343
#pragma warning(disable:4035)
#line 2344
#pragma warning(push)
#line 2345
#pragma warning(disable:4164)
#line 2346
#pragma function(_enable)
#line 2347
#pragma function(_disable)
#line 2348
#pragma warning(pop)
#line 2349
#pragma warning(disable:4103)
#line 2350
#pragma warning(disable:4103)
#line 2351
#pragma warning(disable:4103)
#line 2352
#pragma warning(disable:4103)
#line 2353
#pragma warning(disable:4103)
#line 2354
#pragma warning(disable:4103)
#line 2355
#pragma warning(disable:4200)
#line 2356
#pragma warning(default:4200)
#line 2357 "kbfiltr.i.cil.c"
IRP *pirp  ;
#line 2358 "kbfiltr.i.cil.c"
void stub_driver_init(void) 
{ 

  {
#line 2362
  s = NP;
#line 2363
  pended = 0;
#line 2364
  compFptr = (NTSTATUS (*)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ))0;
#line 2365
  compRegistered = 0;
#line 2366
  lowerDriverReturn = 0;
#line 2367
  setEventCalled = 0;
#line 2368
  customIrp = 0;
#line 2369
  return;
}
}
#line 2372 "kbfiltr.i.cil.c"
int main(void) 
{ DRIVER_OBJECT d ;
  UNICODE_STRING u ;
  NTSTATUS status ;
  int we_should_unload ;
  PIRP irp ;
  int __BLAST_NONDET ;
  int irp_choice ;
  DEVICE_OBJECT devobj ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  NTSTATUS (*__cil_tmp13)(PDRIVER_OBJECT Driver , PDEVICE_OBJECT PDO ) ;
  int __cil_tmp14 ;
  NTSTATUS (*__cil_tmp15)(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
  NTSTATUS (*__cil_tmp16)(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
  NTSTATUS (*__cil_tmp17)(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
  NTSTATUS (*__cil_tmp18)(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
  NTSTATUS (*__cil_tmp19)(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
  long __cil_tmp20 ;

  {
#line 2384
  pirp = (IRP *)(& irp);
#line 2385
  _BLAST_init();
#line 2386
  status = DriverEntry(& d, & u);
#line 2388
  if (status >= 0L) {
#line 2389
    s = NP;
#line 2390
    customIrp = 0;
#line 2391
    setEventCalled = customIrp;
#line 2392
    lowerDriverReturn = setEventCalled;
#line 2393
    compRegistered = lowerDriverReturn;
#line 2394
    compFptr = (NTSTATUS (*)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ))compRegistered;
#line 2395
    pended = (int )compFptr;
#line 2396
    __cil_tmp9 = (unsigned int )pirp;
#line 2396
    __cil_tmp10 = __cil_tmp9 + 24;
#line 2396
    *((NTSTATUS *)__cil_tmp10) = 0L;
#line 2397
    myStatus = 0;
#line 2398
    if (irp_choice == 0) {
#line 2399
      __cil_tmp11 = (unsigned int )pirp;
#line 2399
      __cil_tmp12 = __cil_tmp11 + 24;
#line 2399
      *((NTSTATUS *)__cil_tmp12) = -1073741637L;
#line 2400
      myStatus = -1073741637;
    }
#line 2405
    __cil_tmp13 = & KbFilter_AddDevice;
#line 2405
    status = (*__cil_tmp13)(& d, & devobj);
#line 2406
    stub_driver_init();
    {
#line 2408
    __cil_tmp14 = status >= 0L;
#line 2408
    if (! __cil_tmp14) {
#line 2409
      return (-1);
    }
    }
#line 2413
    if (__BLAST_NONDET == 0) {
      goto switch_4_0;
    } else {
#line 2416
      if (__BLAST_NONDET == 1) {
        goto switch_4_1;
      } else {
#line 2419
        if (__BLAST_NONDET == 2) {
          goto switch_4_2;
        } else {
#line 2422
          if (__BLAST_NONDET == 3) {
            goto switch_4_3;
          } else {
#line 2425
            if (__BLAST_NONDET == 4) {
              goto switch_4_4;
            } else {
#line 2428
              if (__BLAST_NONDET == 8) {
                goto switch_4_8;
              } else {
                goto switch_4_default;
#line 2433
                if (0) {
                  switch_4_0: 
#line 2436
                  __cil_tmp15 = & KbFilter_CreateClose;
#line 2436
                  status = (*__cil_tmp15)(& devobj, pirp);
                  goto switch_4_break;
                  switch_4_1: 
#line 2441
                  __cil_tmp16 = & KbFilter_CreateClose;
#line 2441
                  status = (*__cil_tmp16)(& devobj, pirp);
                  goto switch_4_break;
                  switch_4_2: 
#line 2446
                  status = KbFilter_IoCtl(& devobj, pirp);
                  goto switch_4_break;
                  switch_4_3: 
#line 2451
                  __cil_tmp17 = & KbFilter_PnP;
#line 2451
                  status = (*__cil_tmp17)(& devobj, pirp);
                  goto switch_4_break;
                  switch_4_4: 
#line 2456
                  __cil_tmp18 = & KbFilter_Power;
#line 2456
                  status = (*__cil_tmp18)(& devobj, pirp);
                  goto switch_4_break;
                  switch_4_8: 
#line 2461
                  __cil_tmp19 = & KbFilter_InternIoCtl;
#line 2461
                  status = (*__cil_tmp19)(& devobj, pirp);
                  goto switch_4_break;
                  switch_4_default: ;
#line 2465
                  return (-1);
                } else {
                  switch_4_break: ;
                }
              }
            }
          }
        }
      }
    }
#line 2476
    if (we_should_unload) {

    }
  }
#line 2486
  if (pended == 1) {
#line 2487
    if (s == NP) {
#line 2488
      s = NP;
    } else {
      goto _L___2;
    }
  } else {
    _L___2: 
#line 2494
    if (pended == 1) {
#line 2495
      if (s == MPR3) {
#line 2496
        s = MPR3;
      } else {
        goto _L___1;
      }
    } else {
      _L___1: 
#line 2502
      if (! (s == UNLOADED)) {
#line 2505
        if (! (status == -1L)) {
#line 2508
          if (s != SKIP2) {
#line 2509
            if (s != IPC) {
#line 2510
              if (! (s != DC)) {
                goto _L___0;
              }
            } else {
              goto _L___0;
            }
          } else {
            _L___0: 
#line 2520
            if (pended == 1) {
#line 2521
              if (status != 259L) {
#line 2523
                errorFn();
              }
            } else {
#line 2529
              if (s == DC) {
#line 2530
                if (status == 259L) {

                }
              } else {
                {
#line 2536
                __cil_tmp20 = (long )lowerDriverReturn;
#line 2536
                if (status != __cil_tmp20) {

                }
                }
              }
            }
          }
        }
      }
    }
  }
#line 2548
  return ((int )status);
}
}
#line 2551 "kbfiltr.i.cil.c"
char _SLAM_alloc_dummy  ;
#line 2552 "kbfiltr.i.cil.c"
char *malloc(int i ) 
{ int __BLAST_NONDET ;

  {
#line 2556
  if (__BLAST_NONDET) {
#line 2557
    return ((char *)0);
  } else {
#line 2559
    return ((char *)1);
  }
}
}
#line 2564 "kbfiltr.i.cil.c"
void ExAcquireFastMutex(PFAST_MUTEX FastMutex ) 
{ 

  {
#line 2568
  return;
}
}
#line 2572 "kbfiltr.i.cil.c"
void ExReleaseFastMutex(PFAST_MUTEX FastMutex ) 
{ 

  {
#line 2576
  return;
}
}
#line 2582 "kbfiltr.i.cil.c"
PVOID ExAllocatePoolWithTag(POOL_TYPE PoolType , SIZE_T NumberOfBytes , ULONG Tag ) 
{ PVOID x ;
  char *tmp ;
  int __cil_tmp6 ;

  {
#line 2589
  __cil_tmp6 = (int )NumberOfBytes;
#line 2589
  tmp = malloc(__cil_tmp6);
#line 2590
  x = (void *)tmp;
#line 2592
  return (x);
}
}
#line 2596 "kbfiltr.i.cil.c"
void ExFreePool(PVOID P ) 
{ 

  {
#line 2600
  return;
}
}
#line 2606 "kbfiltr.i.cil.c"
PLIST_ENTRY ExfInterlockedInsertHeadList(PLIST_ENTRY ListHead , PLIST_ENTRY ListEntry ,
                                         PKSPIN_LOCK Lock ) 
{ void *__cil_tmp4 ;

  {
  {
#line 2612
  __cil_tmp4 = (void *)0;
#line 2612
  return ((struct _LIST_ENTRY *)__cil_tmp4);
  }
}
}
#line 2618 "kbfiltr.i.cil.c"
PLIST_ENTRY ExfInterlockedInsertTailList(PLIST_ENTRY ListHead , PLIST_ENTRY ListEntry ,
                                         PKSPIN_LOCK Lock ) 
{ void *__cil_tmp4 ;

  {
  {
#line 2624
  __cil_tmp4 = (void *)0;
#line 2624
  return ((struct _LIST_ENTRY *)__cil_tmp4);
  }
}
}
#line 2629 "kbfiltr.i.cil.c"
PLIST_ENTRY ExfInterlockedRemoveHeadList(PLIST_ENTRY ListHead , PKSPIN_LOCK Lock ) 
{ void *__cil_tmp3 ;

  {
  {
#line 2634
  __cil_tmp3 = (void *)0;
#line 2634
  return ((struct _LIST_ENTRY *)__cil_tmp3);
  }
}
}
#line 2640 "kbfiltr.i.cil.c"
PMDL IoAllocateMdl(PVOID VirtualAddress , ULONG Length , BOOLEAN SecondaryBuffer ,
                   BOOLEAN ChargeQuota , PIRP Irp ) 
{ int __BLAST_NONDET ;
  char *tmp ;
  int __cil_tmp8 ;
  void *__cil_tmp9 ;
  void *__cil_tmp10 ;

  {
#line 2646
  if (__BLAST_NONDET == 0) {
    goto switch_5_0;
  } else {
    goto switch_5_default;
#line 2651
    if (0) {
      switch_5_0: 
#line 2654
      __cil_tmp8 = (int )28U;
#line 2654
      tmp = malloc(__cil_tmp8);
      {
#line 2656
      __cil_tmp9 = (void *)tmp;
#line 2656
      return ((struct _MDL *)__cil_tmp9);
      }
      switch_5_default: ;
      {
#line 2658
      __cil_tmp10 = (void *)0;
#line 2658
      return ((struct _MDL *)__cil_tmp10);
      }
    } else {

    }
  }
}
}
#line 2668 "kbfiltr.i.cil.c"
PDEVICE_OBJECT IoAttachDeviceToDeviceStack(PDEVICE_OBJECT SourceDevice , PDEVICE_OBJECT TargetDevice ) 
{ int __BLAST_NONDET ;
  void *__cil_tmp4 ;

  {
#line 2672
  if (__BLAST_NONDET == 0) {
    goto switch_6_0;
  } else {
    goto switch_6_default;
#line 2677
    if (0) {
      switch_6_0: ;
#line 2679
      return (TargetDevice);
      switch_6_default: ;
      {
#line 2681
      __cil_tmp4 = (void *)0;
#line 2681
      return ((struct _DEVICE_OBJECT *)__cil_tmp4);
      }
    } else {

    }
  }
}
}
#line 2695 "kbfiltr.i.cil.c"
PIRP IoBuildAsynchronousFsdRequest(ULONG MajorFunction , PDEVICE_OBJECT DeviceObject ,
                                   PVOID Buffer , ULONG Length , PLARGE_INTEGER StartingOffset ,
                                   PIO_STATUS_BLOCK IoStatusBlock ) 
{ int __BLAST_NONDET ;
  char *tmp ;
  int __cil_tmp9 ;
  void *__cil_tmp10 ;
  void *__cil_tmp11 ;

  {
#line 2702
  customIrp = 1;
#line 2703
  if (__BLAST_NONDET == 0) {
    goto switch_7_0;
  } else {
    goto switch_7_default;
#line 2708
    if (0) {
      switch_7_0: 
#line 2711
      __cil_tmp9 = (int )112U;
#line 2711
      tmp = malloc(__cil_tmp9);
      {
#line 2713
      __cil_tmp10 = (void *)tmp;
#line 2713
      return ((struct _IRP *)__cil_tmp10);
      }
      switch_7_default: ;
      {
#line 2715
      __cil_tmp11 = (void *)0;
#line 2715
      return ((struct _IRP *)__cil_tmp11);
      }
    } else {

    }
  }
}
}
#line 2732 "kbfiltr.i.cil.c"
PIRP IoBuildDeviceIoControlRequest(ULONG IoControlCode , PDEVICE_OBJECT DeviceObject ,
                                   PVOID InputBuffer , ULONG InputBufferLength , PVOID OutputBuffer ,
                                   ULONG OutputBufferLength , BOOLEAN InternalDeviceIoControl ,
                                   PKEVENT Event , PIO_STATUS_BLOCK IoStatusBlock ) 
{ int __BLAST_NONDET ;
  char *tmp ;
  int __cil_tmp12 ;
  void *__cil_tmp13 ;
  void *__cil_tmp14 ;

  {
#line 2740
  customIrp = 1;
#line 2741
  if (__BLAST_NONDET == 0) {
    goto switch_8_0;
  } else {
    goto switch_8_default;
#line 2746
    if (0) {
      switch_8_0: 
#line 2749
      __cil_tmp12 = (int )112U;
#line 2749
      tmp = malloc(__cil_tmp12);
      {
#line 2751
      __cil_tmp13 = (void *)tmp;
#line 2751
      return ((struct _IRP *)__cil_tmp13);
      }
      switch_8_default: ;
      {
#line 2753
      __cil_tmp14 = (void *)0;
#line 2753
      return ((struct _IRP *)__cil_tmp14);
      }
    } else {

    }
  }
}
}
#line 2766 "kbfiltr.i.cil.c"
NTSTATUS IoCreateDevice(PDRIVER_OBJECT DriverObject , ULONG DeviceExtensionSize ,
                        PUNICODE_STRING DeviceName , ULONG DeviceType , ULONG DeviceCharacteristics ,
                        BOOLEAN Exclusive , PDEVICE_OBJECT *DeviceObject ) 
{ int __BLAST_NONDET ;
  char *tmp ;
  int __cil_tmp10 ;
  void *__cil_tmp11 ;

  {
#line 2773
  if (__BLAST_NONDET == 0) {
    goto switch_9_0;
  } else {
    goto switch_9_default;
#line 2778
    if (0) {
      switch_9_0: 
#line 2781
      __cil_tmp10 = (int )184U;
#line 2781
      tmp = malloc(__cil_tmp10);
#line 2782
      __cil_tmp11 = (void *)tmp;
#line 2782
      *DeviceObject = (struct _DEVICE_OBJECT *)__cil_tmp11;
#line 2784
      return (0L);
      switch_9_default: ;
#line 2786
      return (-1073741823L);
    } else {

    }
  }
}
}
#line 2796 "kbfiltr.i.cil.c"
NTSTATUS IoCreateSymbolicLink(PUNICODE_STRING SymbolicLinkName , PUNICODE_STRING DeviceName ) 
{ int __BLAST_NONDET ;

  {
#line 2800
  if (__BLAST_NONDET == 0) {
    goto switch_10_0;
  } else {
    goto switch_10_default;
#line 2805
    if (0) {
      switch_10_0: ;
#line 2807
      return (0L);
      switch_10_default: ;
#line 2809
      return (-1073741823L);
    } else {

    }
  }
}
}
#line 2818 "kbfiltr.i.cil.c"
void IoDeleteDevice(PDEVICE_OBJECT DeviceObject ) 
{ 

  {
#line 2822
  return;
}
}
#line 2826 "kbfiltr.i.cil.c"
NTSTATUS IoDeleteSymbolicLink(PUNICODE_STRING SymbolicLinkName ) 
{ int __BLAST_NONDET ;

  {
#line 2830
  if (__BLAST_NONDET == 0) {
    goto switch_11_0;
  } else {
    goto switch_11_default;
#line 2835
    if (0) {
      switch_11_0: ;
#line 2837
      return (0L);
      switch_11_default: ;
#line 2839
      return (-1073741823L);
    } else {

    }
  }
}
}
#line 2848 "kbfiltr.i.cil.c"
void IoDetachDevice(PDEVICE_OBJECT TargetDevice ) 
{ 

  {
#line 2852
  return;
}
}
#line 2856 "kbfiltr.i.cil.c"
void IoFreeIrp(PIRP Irp ) 
{ 

  {
#line 2860
  return;
}
}
#line 2864 "kbfiltr.i.cil.c"
void IoFreeMdl(PMDL Mdl ) 
{ 

  {
#line 2868
  return;
}
}
#line 2872 "kbfiltr.i.cil.c"
PCONFIGURATION_INFORMATION IoGetConfigurationInformation(void) 
{ char *tmp ;
  int __cil_tmp2 ;
  void *__cil_tmp3 ;

  {
#line 2877
  __cil_tmp2 = (int )40U;
#line 2877
  tmp = malloc(__cil_tmp2);
  {
#line 2879
  __cil_tmp3 = (void *)tmp;
#line 2879
  return ((struct _CONFIGURATION_INFORMATION *)__cil_tmp3);
  }
}
}
#line 2900 "kbfiltr.i.cil.c"
NTSTATUS IoQueryDeviceDescription(PINTERFACE_TYPE BusType , PULONG BusNumber , PCONFIGURATION_TYPE ControllerType ,
                                  PULONG ControllerNumber , PCONFIGURATION_TYPE PeripheralType ,
                                  PULONG PeripheralNumber , NTSTATUS (*CalloutRoutine)(PVOID Context ,
                                                                                       PUNICODE_STRING PathName ,
                                                                                       INTERFACE_TYPE BusType ,
                                                                                       ULONG BusNumber ,
                                                                                       PKEY_VALUE_FULL_INFORMATION *BusInformation ,
                                                                                       CONFIGURATION_TYPE ControllerType ,
                                                                                       ULONG ControllerNumber ,
                                                                                       PKEY_VALUE_FULL_INFORMATION *ControllerInformation ,
                                                                                       CONFIGURATION_TYPE PeripheralType ,
                                                                                       ULONG PeripheralNumber ,
                                                                                       PKEY_VALUE_FULL_INFORMATION *PeripheralInformation ) ,
                                  PVOID Context ) 
{ int __BLAST_NONDET ;

  {
#line 2917
  if (__BLAST_NONDET == 0) {
    goto switch_12_0;
  } else {
    goto switch_12_default;
#line 2922
    if (0) {
      switch_12_0: ;
#line 2924
      return (0L);
      switch_12_default: ;
#line 2926
      return (-1073741823L);
    } else {

    }
  }
}
}
#line 2938 "kbfiltr.i.cil.c"
NTSTATUS IoRegisterDeviceInterface(PDEVICE_OBJECT PhysicalDeviceObject , GUID const   *InterfaceClassGuid ,
                                   PUNICODE_STRING ReferenceString , PUNICODE_STRING SymbolicLinkName ) 
{ int __BLAST_NONDET ;

  {
#line 2945
  if (__BLAST_NONDET == 0) {
    goto switch_13_0;
  } else {
    goto switch_13_default;
#line 2950
    if (0) {
      switch_13_0: ;
#line 2952
      return (0L);
      switch_13_default: ;
#line 2954
      return (-1073741808L);
    } else {

    }
  }
}
}
#line 2963 "kbfiltr.i.cil.c"
void IoReleaseCancelSpinLock(KIRQL Irql ) 
{ 

  {
#line 2967
  return;
}
}
#line 2972 "kbfiltr.i.cil.c"
NTSTATUS IoSetDeviceInterfaceState(PUNICODE_STRING SymbolicLinkName , BOOLEAN Enable ) 
{ int __BLAST_NONDET ;

  {
#line 2976
  if (__BLAST_NONDET == 0) {
    goto switch_14_0;
  } else {
    goto switch_14_default;
#line 2981
    if (0) {
      switch_14_0: ;
#line 2983
      return (0L);
      switch_14_default: ;
#line 2985
      return (-1073741823L);
    } else {

    }
  }
}
}
#line 2994 "kbfiltr.i.cil.c"
void IoSetHardErrorOrVerifyDevice(PIRP Irp , PDEVICE_OBJECT DeviceObject ) 
{ 

  {
#line 2998
  return;
}
}
#line 3001 "kbfiltr.i.cil.c"
void stubMoreProcessingRequired(void) 
{ 

  {
#line 3005
  if (s == NP) {
#line 3006
    s = MPR1;
  } else {
#line 3009
    errorFn();
  }
#line 3012
  return;
}
}
#line 3017 "kbfiltr.i.cil.c"
NTSTATUS IofCallDriver(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ int __BLAST_NONDET ;
  NTSTATUS returnVal2 ;
  int compRetStatus ;
  PVOID lcontext ;
  NTSTATUS tmp ;
  NTSTATUS (*__cil_tmp8)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ) ;
  long __cil_tmp9 ;

  {
#line 3026
  if (compRegistered) {
#line 3028
    __cil_tmp8 = & KbFilter_Complete;
#line 3028
    tmp = (*__cil_tmp8)(DeviceObject, Irp, lcontext);
#line 3029
    compRetStatus = (int )tmp;
    {
#line 3031
    __cil_tmp9 = (long )compRetStatus;
#line 3031
    if (__cil_tmp9 == -1073741802L) {
#line 3033
      stubMoreProcessingRequired();
    }
    }
  }
#line 3041
  if (__BLAST_NONDET == 0) {
    goto switch_15_0;
  } else {
#line 3044
    if (__BLAST_NONDET == 1) {
      goto switch_15_1;
    } else {
      goto switch_15_default;
#line 3049
      if (0) {
        switch_15_0: 
#line 3051
        returnVal2 = 0L;
        goto switch_15_break;
        switch_15_1: 
#line 3054
        returnVal2 = -1073741823L;
        goto switch_15_break;
        switch_15_default: 
#line 3057
        returnVal2 = 259L;
        goto switch_15_break;
      } else {
        switch_15_break: ;
      }
    }
  }
#line 3065
  if (s == NP) {
#line 3066
    s = IPC;
#line 3067
    lowerDriverReturn = (int )returnVal2;
  } else {
#line 3069
    if (s == MPR1) {
#line 3070
      if (returnVal2 == 259L) {
#line 3071
        s = MPR3;
#line 3072
        lowerDriverReturn = (int )returnVal2;
      } else {
#line 3074
        s = NP;
#line 3075
        lowerDriverReturn = (int )returnVal2;
      }
    } else {
#line 3078
      if (s == SKIP1) {
#line 3079
        s = SKIP2;
#line 3080
        lowerDriverReturn = (int )returnVal2;
      } else {
#line 3083
        errorFn();
      }
    }
  }
#line 3088
  return (returnVal2);
}
}
#line 3093 "kbfiltr.i.cil.c"
void IofCompleteRequest(PIRP Irp , CCHAR PriorityBoost ) 
{ 

  {
#line 3097
  if (s == NP) {
#line 3098
    s = DC;
  } else {
#line 3101
    errorFn();
  }
#line 3104
  return;
}
}
#line 3107
KIRQL KeAcquireSpinLockRaiseToDpc(PKSPIN_LOCK SpinLock ) ;
#line 3108 "kbfiltr.i.cil.c"
KIRQL KeAcquireSpinLockRaiseToDpc(PKSPIN_LOCK SpinLock ) 
{ 

  {
#line 3112
  return ((unsigned char)0);
}
}
#line 3118 "kbfiltr.i.cil.c"
NTSTATUS KeDelayExecutionThread(KPROCESSOR_MODE WaitMode , BOOLEAN Alertable , PLARGE_INTEGER Interval ) 
{ int __BLAST_NONDET ;

  {
#line 3122
  if (__BLAST_NONDET == 0) {
    goto switch_16_0;
  } else {
    goto switch_16_default;
#line 3127
    if (0) {
      switch_16_0: ;
#line 3129
      return (0L);
      switch_16_default: ;
#line 3131
      return (-1073741823L);
    } else {

    }
  }
}
}
#line 3141 "kbfiltr.i.cil.c"
void KeInitializeEvent(PRKEVENT Event , EVENT_TYPE Type , BOOLEAN State ) 
{ 

  {
#line 3145
  return;
}
}
#line 3150 "kbfiltr.i.cil.c"
void KeInitializeSemaphore(PRKSEMAPHORE Semaphore , LONG Count , LONG Limit ) 
{ 

  {
#line 3154
  return;
}
}
#line 3158 "kbfiltr.i.cil.c"
void KeInitializeSpinLock(PKSPIN_LOCK SpinLock ) 
{ 

  {
#line 3162
  return;
}
}
#line 3167 "kbfiltr.i.cil.c"
LONG KeReleaseSemaphore(PRKSEMAPHORE Semaphore , KPRIORITY Increment , LONG Adjustment ,
                        BOOLEAN Wait ) 
{ LONG r ;

  {
#line 3172
  return (r);
}
}
#line 3177 "kbfiltr.i.cil.c"
void KfReleaseSpinLock(PKSPIN_LOCK SpinLock , KIRQL NewIrql ) 
{ 

  {
#line 3181
  return;
}
}
#line 3186 "kbfiltr.i.cil.c"
LONG KeSetEvent(PRKEVENT Event , KPRIORITY Increment , BOOLEAN Wait ) 
{ LONG l ;

  {
#line 3190
  setEventCalled = 1;
#line 3191
  return (l);
}
}
#line 3198 "kbfiltr.i.cil.c"
NTSTATUS KeWaitForSingleObject(PVOID Object , KWAIT_REASON WaitReason , KPROCESSOR_MODE WaitMode ,
                               BOOLEAN Alertable , PLARGE_INTEGER Timeout ) 
{ int __BLAST_NONDET ;

  {
#line 3203
  if (s == MPR3) {
#line 3204
    if (setEventCalled == 1) {
#line 3205
      s = NP;
#line 3206
      setEventCalled = 0;
    } else {
      goto _L;
    }
  } else {
    _L: 
#line 3212
    if (customIrp == 1) {
#line 3213
      s = NP;
#line 3214
      customIrp = 0;
    } else {
#line 3216
      if (s == MPR3) {
#line 3218
        errorFn();
      }
    }
  }
#line 3225
  if (__BLAST_NONDET == 0) {
    goto switch_17_0;
  } else {
    goto switch_17_default;
#line 3230
    if (0) {
      switch_17_0: ;
#line 3232
      return (0L);
      switch_17_default: ;
#line 3234
      return (-1073741823L);
    } else {

    }
  }
}
}
#line 3244 "kbfiltr.i.cil.c"
PVOID MmAllocateContiguousMemory(SIZE_T NumberOfBytes , PHYSICAL_ADDRESS HighestAcceptableAddress ) 
{ int __BLAST_NONDET ;
  char *tmp ;
  int __cil_tmp5 ;

  {
#line 3249
  if (__BLAST_NONDET == 0) {
    goto switch_18_0;
  } else {
#line 3252
    if (__BLAST_NONDET == 1) {
      goto switch_18_1;
    } else {
#line 3255
      if (0) {
        switch_18_0: 
#line 3258
        __cil_tmp5 = (int )NumberOfBytes;
#line 3258
        tmp = malloc(__cil_tmp5);
#line 3260
        return ((void *)tmp);
        switch_18_1: ;
#line 3262
        return ((void *)0);
      } else {

      }
    }
  }
#line 3268
  return ((void *)0);
}
}
#line 3272 "kbfiltr.i.cil.c"
void MmFreeContiguousMemory(PVOID BaseAddress ) 
{ 

  {
#line 3276
  return;
}
}
#line 3285 "kbfiltr.i.cil.c"
PVOID MmMapLockedPagesSpecifyCache(PMDL MemoryDescriptorList , KPROCESSOR_MODE AccessMode ,
                                   MEMORY_CACHING_TYPE CacheType , PVOID BaseAddress ,
                                   ULONG BugCheckOnFailure , MM_PAGE_PRIORITY Priority ) 
{ 

  {
#line 3291
  return ((void *)0);
}
}
#line 3295 "kbfiltr.i.cil.c"
PVOID MmPageEntireDriver(PVOID AddressWithinSection ) 
{ 

  {
#line 3299
  return ((void *)0);
}
}
#line 3303 "kbfiltr.i.cil.c"
void MmResetDriverPaging(PVOID AddressWithinSection ) 
{ 

  {
#line 3307
  return;
}
}
#line 3311 "kbfiltr.i.cil.c"
void MmUnlockPages(PMDL MemoryDescriptorList ) 
{ 

  {
#line 3315
  return;
}
}
#line 3324 "kbfiltr.i.cil.c"
NTSTATUS ObReferenceObjectByHandle(HANDLE Handle , ACCESS_MASK DesiredAccess , POBJECT_TYPE ObjectType ,
                                   KPROCESSOR_MODE AccessMode , PVOID *Object , POBJECT_HANDLE_INFORMATION HandleInformation ) 
{ int __BLAST_NONDET ;

  {
#line 3329
  if (__BLAST_NONDET == 0) {
    goto switch_19_0;
  } else {
    goto switch_19_default;
#line 3334
    if (0) {
      switch_19_0: ;
#line 3336
      return (0L);
      switch_19_default: ;
#line 3338
      return (-1073741823L);
    } else {

    }
  }
}
}
#line 3347 "kbfiltr.i.cil.c"
void ObfDereferenceObject(PVOID Object ) 
{ 

  {
#line 3351
  return;
}
}
#line 3356 "kbfiltr.i.cil.c"
NTSTATUS PoCallDriver(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ int __BLAST_NONDET ;
  int compRetStatus ;
  NTSTATUS returnVal ;
  PVOID lcontext ;
  NTSTATUS tmp ;
  NTSTATUS (*__cil_tmp8)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ) ;
  long __cil_tmp9 ;

  {
#line 3364
  if (compRegistered) {
#line 3366
    __cil_tmp8 = & KbFilter_Complete;
#line 3366
    tmp = (*__cil_tmp8)(DeviceObject, Irp, lcontext);
#line 3367
    compRetStatus = (int )tmp;
    {
#line 3369
    __cil_tmp9 = (long )compRetStatus;
#line 3369
    if (__cil_tmp9 == -1073741802L) {
#line 3371
      stubMoreProcessingRequired();
    }
    }
  }
#line 3379
  if (__BLAST_NONDET == 0) {
    goto switch_20_0;
  } else {
#line 3382
    if (__BLAST_NONDET == 1) {
      goto switch_20_1;
    } else {
      goto switch_20_default;
#line 3387
      if (0) {
        switch_20_0: 
#line 3389
        returnVal = 0L;
        goto switch_20_break;
        switch_20_1: 
#line 3392
        returnVal = -1073741823L;
        goto switch_20_break;
        switch_20_default: 
#line 3395
        returnVal = 259L;
        goto switch_20_break;
      } else {
        switch_20_break: ;
      }
    }
  }
#line 3403
  if (s == NP) {
#line 3404
    s = IPC;
#line 3405
    lowerDriverReturn = (int )returnVal;
  } else {
#line 3407
    if (s == MPR1) {
#line 3408
      if (returnVal == 259L) {
#line 3409
        s = MPR3;
#line 3410
        lowerDriverReturn = (int )returnVal;
      } else {
#line 3412
        s = NP;
#line 3413
        lowerDriverReturn = (int )returnVal;
      }
    } else {
#line 3416
      if (s == SKIP1) {
#line 3417
        s = SKIP2;
#line 3418
        lowerDriverReturn = (int )returnVal;
      } else {
#line 3421
        errorFn();
      }
    }
  }
#line 3426
  return (returnVal);
}
}
#line 3430 "kbfiltr.i.cil.c"
void PoStartNextPowerIrp(PIRP Irp ) 
{ 

  {
#line 3434
  return;
}
}
#line 3444 "kbfiltr.i.cil.c"
NTSTATUS PsCreateSystemThread(PHANDLE ThreadHandle , ULONG DesiredAccess , POBJECT_ATTRIBUTES ObjectAttributes ,
                              HANDLE ProcessHandle , PCLIENT_ID ClientId , void (*StartRoutine)(PVOID StartContext ) ,
                              PVOID StartContext ) 
{ int __BLAST_NONDET ;

  {
#line 3450
  if (__BLAST_NONDET == 0) {
    goto switch_21_0;
  } else {
    goto switch_21_default;
#line 3455
    if (0) {
      switch_21_0: ;
#line 3457
      return (0L);
      switch_21_default: ;
#line 3459
      return (-1073741823L);
    } else {

    }
  }
}
}
#line 3468 "kbfiltr.i.cil.c"
NTSTATUS PsTerminateSystemThread(NTSTATUS ExitStatus ) 
{ int __BLAST_NONDET ;

  {
#line 3472
  if (__BLAST_NONDET == 0) {
    goto switch_22_0;
  } else {
    goto switch_22_default;
#line 3477
    if (0) {
      switch_22_0: ;
#line 3479
      return (0L);
      switch_22_default: ;
#line 3481
      return (-1073741823L);
    } else {

    }
  }
}
}
#line 3492 "kbfiltr.i.cil.c"
NTSTATUS RtlAnsiStringToUnicodeString(PUNICODE_STRING DestinationString , PANSI_STRING SourceString ,
                                      BOOLEAN AllocateDestinationString ) 
{ int __BLAST_NONDET ;

  {
#line 3498
  if (__BLAST_NONDET == 0) {
    goto switch_23_0;
  } else {
    goto switch_23_default;
#line 3503
    if (0) {
      switch_23_0: ;
#line 3505
      return (0L);
      switch_23_default: ;
#line 3507
      return (-1073741823L);
    } else {

    }
  }
}
}
#line 3518 "kbfiltr.i.cil.c"
SIZE_T RtlCompareMemory(void const   *Source1 , void const   *Source2 , SIZE_T Length ) 
{ SIZE_T r ;

  {
#line 3523
  return (r);
}
}
#line 3528 "kbfiltr.i.cil.c"
void RtlCopyUnicodeString(PUNICODE_STRING DestinationString , PUNICODE_STRING SourceString ) 
{ 

  {
#line 3533
  return;
}
}
#line 3539 "kbfiltr.i.cil.c"
NTSTATUS RtlDeleteRegistryValue(ULONG RelativeTo , PCWSTR Path , PCWSTR ValueName ) 
{ int __BLAST_NONDET ;

  {
#line 3544
  if (__BLAST_NONDET == 0) {
    goto switch_24_0;
  } else {
    goto switch_24_default;
#line 3549
    if (0) {
      switch_24_0: ;
#line 3551
      return (0L);
      switch_24_default: ;
#line 3553
      return (-1073741823L);
    } else {

    }
  }
}
}
#line 3562 "kbfiltr.i.cil.c"
void RtlFreeUnicodeString(PUNICODE_STRING UnicodeString ) 
{ 

  {
#line 3566
  return;
}
}
#line 3571 "kbfiltr.i.cil.c"
void RtlInitString(PSTRING DestinationString , PCSZ SourceString ) 
{ 

  {
#line 3575
  return;
}
}
#line 3580 "kbfiltr.i.cil.c"
void RtlInitUnicodeString(PUNICODE_STRING DestinationString , PCWSTR SourceString ) 
{ 

  {
#line 3585
  return;
}
}
#line 3593 "kbfiltr.i.cil.c"
NTSTATUS RtlQueryRegistryValues(ULONG RelativeTo , PCWSTR Path , PRTL_QUERY_REGISTRY_TABLE QueryTable ,
                                PVOID Context , PVOID Environment ) 
{ int __BLAST_NONDET ;

  {
#line 3599
  if (__BLAST_NONDET == 0) {
    goto switch_25_0;
  } else {
    goto switch_25_default;
#line 3604
    if (0) {
      switch_25_0: ;
#line 3606
      return (0L);
      switch_25_default: ;
#line 3608
      return (-1073741823L);
    } else {

    }
  }
}
}
#line 3617 "kbfiltr.i.cil.c"
NTSTATUS ZwClose(HANDLE Handle ) 
{ int __BLAST_NONDET ;

  {
#line 3621
  if (__BLAST_NONDET == 0) {
    goto switch_26_0;
  } else {
    goto switch_26_default;
#line 3626
    if (0) {
      switch_26_0: ;
#line 3628
      return (0L);
      switch_26_default: ;
#line 3630
      return (-1073741823L);
    } else {

    }
  }
}
}
