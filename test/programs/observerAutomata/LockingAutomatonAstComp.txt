AUTOMATON LockingAutomaton
// Kommentar
/* Kommentar */

INITIAL STATE Init;

STATE Init : 
  MATCH  { x = $?; } -> GOTO ERR;
  MATCH  { init(); }  -> GOTO Unlocked;
  MATCH  { lock($?); }  -> GOTO ERR;
  MATCH  { unlock($?); }  -> GOTO ERR;
  TRUE -> GOTO Init;

STATE Locked : 
  MATCH  { x = $?; } -> GOTO Locked; // unnecessary line
  MATCH  { init(); }  ->  GOTO ERR;
  MATCH  { lock($?); }  ->  GOTO ERR;
  MATCH  { unlock($?); }  -> GOTO Unlocked;
  TRUE -> GOTO Locked;


STATE Unlocked : 
  MATCH  { x = $?; } -> GOTO ERR;
  MATCH  { init(); }  ->  GOTO ERR;
  MATCH  { lock($?); }  -> GOTO Locked;
  MATCH  { unlock($?); }  -> GOTO ERR;
  TRUE -> GOTO Unlocked;
