<!DOCTYPE html>
<html ng-app='report'>
<head>
    <link rel="stylesheet" type="text/css" href="bootstrap-3.3.5-dist/css/bootstrap.min.css"/>
    <link href="app/generic.css" rel="stylesheet" type="text/css">
    <link href="prettify.css" rel="stylesheet" type="text/css">
    <!--the jquery-script is necessary for bootstrap has to be added BEFORE the bootstrap-script-->
    <script type="text/javascript" src="jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="angular.js"></script>
    <script type ="text/javascript" src="app/app.js"></script>
    <script type="text/javascript" src="prettify.js"></script>
    <meta charset="UTF-8">
    <title>CPAchecker Report</title>
</head>
<body ng-controller="ReportController as report" onload="prettyPrint(); init()">
<header class="header">

    <h3><img ng-src="{{report.logo}}"/> Report</h3>

    <em> Generated: {{report.date | date:'yyyy-MM-dd HH:mm:ss'}}</em>
</header>

<div class="sections" ng-mousemove="report.setWidth($event)" ng-mouseup="report.setMouseUp()">
    <section id="errorpath_section">
        <div id="middleLine" ng-mousedown="report.setMouseDown()"></div>
        <header>
            <div class="btn-group">
                <button class="btn btn-success" ng-click="report.clickedErrpathButton($event)">Prev</button>
                <button class="btn btn-warning" ng-click="report.clickedErrpathButton($event)">Start</button>
                <button class="btn btn-success" ng-click="report.clickedErrpathButton($event)">Next</button>
            </div>
            <button data-toggle="popover" data-placement="right" data-trigger="click" data-content="{{report.help_errorpath}}" class="btn btn-default btn-lg help_button" type="button">
                <span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span>
            </button>
            <div class="input-group input-group-sm">
                <input type="text" class="form-control search-input" placeholder="Search for...">
                    <span class="input-group-btn">
                        <button ng-click="report.searchFor()" class="btn btn-default" type="button">
                            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                        </button>
                    </span>
            </div>
            <div>
                <p class="markedValues">Matches in 'values': {{report.numOfValueMatches}}</p>
                <p class="markedDescriptions">Matches in 'description': {{report.numOfDescriptionMatches}}</p>
            </div>
        </header>
        <div class="fileContent">
            <table id="err_table">
                <tr id="errpath-{{$index}}" ng-repeat="line in report.errorPathData">
                    <td ng-click="report.showValues($event)" data-toggle="popover" data-placement="right" data-trigger="click" data-content="{{line.valString}}"><pre>{{line.source}}</pre></td>
                    <td ng-click="report.clickedErrpathElement($event)"><pre>{{line.desc}}</pre></td>
                </tr>
            </table>
        </div>
    </section>
    <section id="externalFiles_section">
        <ul class="nav nav-pills">
            <li ng-class="{active: report.tabIsSet(1)}">
                <a href ng-click="report.setTab(1)">CFA</a>
            </li>
            <li ng-class="{active: report.tabIsSet(2)}">
                <a href ng-click="report.setTab(2)">ARG</a>
            </li>
            <li ng-class="{active: report.tabIsSet(3)}">
                <a href ng-click="report.setTab(3)">Source</a>
            </li>
            <li ng-class="{active: report.tabIsSet(4)}">
                <a href ng-click="report.setTab(4)">Log</a>
            </li>
            <li ng-class="{active: report.tabIsSet(5)}">
                <a href ng-click="report.setTab(5)">Statistics</a>
            </li>
            <li ng-class="{active: report.tabIsSet(6)}">
                <a href ng-click="report.setTab(6)">Configurations</a>
            </li>
            <button data-toggle="popover" data-placement="left" data-trigger="click" data-content="{{report.help_externalFiles}}" class="btn btn-default btn-lg help_button" type="button">
                <span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span>
            </button>
        </ul>
        <div class="fileContent" ng-show="report.tabIsSet(1)">
            <div class="edit-line">
                <div class="dropdown">
                    <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        Displayed CFA
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        <li ng-repeat="func in report.functions"><a ng-click="report.setCFAFunction($index)">{{func}}</a></li>
                    </ul>
                </div>
                <label>{{report.functions[report.selectedCFAFunction]}}</label>
                <div>
                    <p>Zoom Factor (%)</p>
                    <input id="cfa-scalingField" type="number" min="0" max="200" ng-model="report.zoomFactorCFA" ng-change="report.setZoom('cfa-scalingField')"/>
                </div>
            </div>
            <div class="cfaContent">
                    <!--CFAFUNCTIONGRAPHS-->
                </div>
            </div>
            <div class="fileContent" ng-show="report.tabIsSet(2)">
                <div class="edit-line">
                    <div>
                        <p>Zoom Factor (%)</p>
                        <input id="arg-scalingField" type="number" min="0" max="200" ng-model="report.zoomFactorARG" ng-change="report.setZoom('arg-scalingField')"/>
                    </div>
                </div>
                <div class="argContent">
                    <!--ARGGRAPHS-->
                </div>
            </div>
            <div class="fileContent" ng-show="report.tabIsSet(3)">
		<table class="sourceContent">
            <!--SOURCE-->
		</table>
            </div>
            <div class="fileContent" ng-show="report.tabIsSet(4)">
                <!--LOG-->
            </div>
            <div class="fileContent"  ng-show="report.tabIsSet(5)">
                <!--STATISTICS-->
            </div>
            <div class="fileContent" ng-show="report.tabIsSet(6)">
                <!--CONFIGURATION-->
            </div>
        </section>
    </div>
</body>
</html>
